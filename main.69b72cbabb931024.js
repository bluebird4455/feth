(self.webpackChunkfeth=self.webpackChunkfeth||[]).push([[179],{7339:(v,w,A)=>{"use strict";var I={};A.r(I),A.d(I,{BackendUtilityService:()=>gT});var F={};A.r(F),A.d(F,{collectionObserver:()=>nc,propertyObserver:()=>zv});var L={};A.r(L),A.d(L,{CancelledException:()=>pf,addTreeLevelByMutation:()=>gf,cancellablePromise:()=>J$,castObservableToPromise:()=>Gv,decimalFormatted:()=>al,findItemInTreeStructure:()=>mf,findOrDefault:()=>Fa,flattenToParentChildArray:()=>vT,formatNumber:()=>Lr,getCellValueFromQueryFieldGetter:()=>rc,getDescendantProperty:()=>Jn,getTranslationPrefix:()=>ys,mapFlatpickrDateFormatWithFieldType:()=>kl,mapMomentDateFormatWithFieldType:()=>$o,mapOperatorByFieldType:()=>jv,mapOperatorToShorthandDesignation:()=>Fl,mapOperatorType:()=>eB,objectWithoutKey:()=>CT,parseUtcDate:()=>tB,thousandSeparatorFormatted:()=>ka,unflattenParentChildArrayToTree:()=>_T,unsubscribeAll:()=>oc});var b={};A.r(b),A.d(b,{sortByFieldType:()=>cc});var c={};A.r(c),A.d(c,{addToArrayWhenNotExists:()=>yT,addWhiteSpaces:()=>Yv,arrayRemoveItemByIndex:()=>qv,deepCopy:()=>sc,deepMerge:()=>Nl,emptyObject:()=>rB,hasData:()=>lc,isEmptyObject:()=>Kv,isNumber:()=>uo,isObject:()=>ac,isObjectEmpty:()=>wT,parseBoolean:()=>vf,removeAccentFromText:()=>Fu,setDeepValue:()=>Bo,titleCase:()=>uc,toCamelCase:()=>Xv,toKebabCase:()=>dc,toSentenceCase:()=>is,toSnakeCase:()=>oB,uniqueArray:()=>bT,uniqueObjectArray:()=>sB});var _={};function y(i){return"function"==typeof i}function T(i){const e=i(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}A.r(_),A.d(_,{default:()=>Ef});const x=T(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function k(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class V{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(y(r))try{r()}catch(s){t=s instanceof x?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{he(s)}catch(a){t=t??[],a instanceof x?t=[...t,...a.errors]:t.push(a)}}if(t)throw new x(t)}}add(t){var e;if(t&&t!==this)if(this.closed)he(t);else{if(t instanceof V){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&k(e,t)}remove(t){const{_finalizers:e}=this;e&&k(e,t),t instanceof V&&t._removeParent(this)}}V.EMPTY=(()=>{const i=new V;return i.closed=!0,i})();const K=V.EMPTY;function Y(i){return i instanceof V||i&&"closed"in i&&y(i.remove)&&y(i.add)&&y(i.unsubscribe)}function he(i){y(i)?i():i.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Se={setTimeout(i,t,...e){const{delegate:r}=Se;return r?.setTimeout?r.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=Se;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function st(i){Se.setTimeout(()=>{const{onUnhandledError:t}=se;if(!t)throw i;t(i)})}function pe(){}const Me=ht("C",void 0,void 0);function ht(i,t,e){return{kind:i,value:t,error:e}}let R=null;function Mt(i){if(se.useDeprecatedSynchronousErrorHandling){const t=!R;if(t&&(R={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:r}=R;if(R=null,e)throw r}}else i()}class ei extends V{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Y(t)&&t.add(this)):this.destination=Ri}static create(t,e,r){return new ut(t,e,r)}next(t){this.isStopped?ct(function Re(i){return ht("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ct(function at(i){return ht("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ct(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pn=Function.prototype.bind;function ti(i,t){return pn.call(i,t)}class wi{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){ii(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){ii(r)}else ii(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ii(e)}}}class ut extends ei{constructor(t,e,r){let o;if(super(),y(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&se.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&ti(t.next,s),error:t.error&&ti(t.error,s),complete:t.complete&&ti(t.complete,s)}):o=t}this.destination=new wi(o)}}function ii(i){se.useDeprecatedSynchronousErrorHandling?function Yt(i){se.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=i)}(i):st(i)}function ct(i,t){const{onStoppedNotification:e}=se;e&&Se.setTimeout(()=>e(i,t))}const Ri={closed:!0,next:pe,error:function Et(i){throw i},complete:pe},gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function _i(i){return i}function Yi(i){return 0===i.length?_i:1===i.length?i[0]:function(e){return i.reduce((r,o)=>o(r),e)}}let It=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new i;return r.source=this,r.operator=e,r}subscribe(e,r,o){const s=function an(i){return i&&i instanceof ei||function gn(i){return i&&y(i.next)&&y(i.error)&&y(i.complete)}(i)&&Y(i)}(e)?e:new ut(e,r,o);return Mt(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Qt(r))((o,s)=>{const a=new ut({next:l=>{try{e(l)}catch(u){s(u),a.unsubscribe()}},error:s,complete:o});this.subscribe(a)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[gt](){return this}pipe(...e){return Yi(e)(this)}toPromise(e){return new(e=Qt(e))((r,o)=>{let s;this.subscribe(a=>s=a,a=>o(a),()=>r(s))})}}return i.create=t=>new i(t),i})();function Qt(i){var t;return null!==(t=i??se.Promise)&&void 0!==t?t:Promise}const Ai=T(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mi=(()=>{class i extends It{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Pi(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ai}next(e){Mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:s}=this;return r||o?K:(this.currentObservers=null,s.push(e),new V(()=>{this.currentObservers=null,k(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:s}=this;r?e.error(o):s&&e.complete()}asObservable(){const e=new It;return e.source=this,e}}return i.create=(t,e)=>new Pi(t,e),i})();class Pi extends Mi{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:K}}function Lt(i){return y(i?.lift)}function Wi(i){return t=>{if(Lt(t))return t.lift(function(e){try{return i(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oi(i,t,e,r,o){return new fo(i,t,e,r,o)}class fo extends ei{constructor(t,e,r,o,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(u){t.error(u)}}:super._next,this._error=o?function(l){try{o(l)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ae(i,t){return Wi((e,r)=>{let o=0;e.subscribe(Oi(r,s=>{r.next(i.call(t,s,o++))}))})}function Ft(i){return this instanceof Ft?(this.v=i,this):new Ft(i)}function Zt(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(i,t||[]),s=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(E){r[E]&&(o[E]=function(P){return new Promise(function(H,U){s.push([E,P,H,U])>1||l(E,P)})})}function l(E,P){try{!function u(E){E.value instanceof Ft?Promise.resolve(E.value.v).then(d,p):m(s[0][2],E)}(r[E](P))}catch(H){m(s[0][3],H)}}function d(E){l("next",E)}function p(E){l("throw",E)}function m(E,P){E(P),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ki(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=function Ie(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],r=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=i[s]&&function(a){return new Promise(function(l,u){!function o(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}(l,u,(a=i[s](a)).done,a.value)})}}}const mt=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Tt(i){return y(i?.then)}function Gt(i){return y(i[gt])}function Ki(i){return Symbol.asyncIterator&&y(i?.[Symbol.asyncIterator])}function ln(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hr=function Li(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $r(i){return y(i?.[Hr])}function mr(i){return Zt(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:r,done:o}=yield Ft(e.read());if(o)return yield Ft(void 0);yield yield Ft(r)}}finally{e.releaseLock()}})}function Un(i){return y(i?.getReader)}function Vn(i){if(i instanceof It)return i;if(null!=i){if(Gt(i))return function po(i){return new It(t=>{const e=i[gt]();if(y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(mt(i))return function ls(i){return new It(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(Tt(i))return function Ds(i){return new It(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,st)})}(i);if(Ki(i))return Hn(i);if($r(i))return function jo(i){return new It(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(Un(i))return function Oo(i){return Hn(mr(i))}(i)}throw ln(i)}function Hn(i){return new It(t=>{(function Zi(i,t){var e,r,o,s;return function S(i,t,e,r){return new(e||(e=Promise))(function(s,a){function l(p){try{d(r.next(p))}catch(m){a(m)}}function u(p){try{d(r.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):function o(s){return s instanceof e?s:new e(function(a){a(s)})}(p.value).then(l,u)}d((r=r.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ki(i);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(a){o={error:a}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(o)throw o.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function er(i,t,e,r=0,o=!1){const s=t.schedule(function(){e(),o?i.add(this.schedule(null,r)):this.unsubscribe()},r);if(i.add(s),!o)return s}function mn(i,t,e=1/0){return y(t)?mn((r,o)=>Ae((s,a)=>t(r,s,o,a))(Vn(i(r,o))),e):("number"==typeof t&&(e=t),Wi((r,o)=>function on(i,t,e,r,o,s,a,l){const u=[];let d=0,p=0,m=!1;const E=()=>{m&&!u.length&&!d&&t.complete()},P=U=>d<r?H(U):u.push(U),H=U=>{s&&t.next(U),d++;let X=!1;Vn(e(U,p++)).subscribe(Oi(t,J=>{o?.(J),s?P(J):t.next(J)},()=>{X=!0},void 0,()=>{if(X)try{for(d--;u.length&&d<r;){const J=u.shift();a?er(t,a,()=>H(J)):H(J)}E()}catch(J){t.error(J)}}))};return i.subscribe(Oi(t,P,()=>{m=!0,E()})),()=>{l?.()}}(r,o,i,e)))}function Ji(i=1/0){return mn(_i,i)}const zn=new It(i=>i.complete());function Io(i){return i[i.length-1]}function tr(i){return y(Io(i))?i.pop():void 0}function Yn(i){return function Qr(i){return i&&y(i.schedule)}(Io(i))?i.pop():void 0}function Ir(i,t=0){return Wi((e,r)=>{e.subscribe(Oi(r,o=>er(r,i,()=>r.next(o),t),()=>er(r,i,()=>r.complete(),t),o=>er(r,i,()=>r.error(o),t)))})}function Zr(i,t=0){return Wi((e,r)=>{r.add(i.schedule(()=>e.subscribe(r),t))})}function vr(i,t){if(!i)throw new Error("Iterable cannot be null");return new It(e=>{er(e,t,()=>{const r=i[Symbol.asyncIterator]();er(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function si(i,t){return t?function _r(i,t){if(null!=i){if(Gt(i))return function ds(i,t){return Vn(i).pipe(Zr(t),Ir(t))}(i,t);if(mt(i))return function Mr(i,t){return new It(e=>{let r=0;return t.schedule(function(){r===i.length?e.complete():(e.next(i[r++]),e.closed||this.schedule())})})}(i,t);if(Tt(i))return function Rr(i,t){return Vn(i).pipe(Zr(t),Ir(t))}(i,t);if(Ki(i))return vr(i,t);if($r(i))return function Ro(i,t){return new It(e=>{let r;return er(e,t,()=>{r=i[Hr](),er(e,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(a){return void e.error(a)}s?e.complete():e.next(o)},0,!0)}),()=>y(r?.return)&&r.return()})}(i,t);if(Un(i))return function Tn(i,t){return vr(mr(i),t)}(i,t)}throw ln(i)}(i,t):Vn(i)}function go(i={}){const{connector:t=(()=>new Mi),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=i;return s=>{let a,l,u,d=0,p=!1,m=!1;const E=()=>{l?.unsubscribe(),l=void 0},P=()=>{E(),a=u=void 0,p=m=!1},H=()=>{const U=a;P(),U?.unsubscribe()};return Wi((U,X)=>{d++,!m&&!p&&E();const J=u=u??t();X.add(()=>{d--,0===d&&!m&&!p&&(l=Jr(H,o))}),J.subscribe(X),!a&&d>0&&(a=new ut({next:te=>J.next(te),error:te=>{m=!0,E(),l=Jr(P,e,te),J.error(te)},complete:()=>{p=!0,E(),l=Jr(P,r),J.complete()}}),Vn(U).subscribe(a))})(s)}}function Jr(i,t,...e){if(!0===t)return void i();if(!1===t)return;const r=new ut({next:()=>{r.unsubscribe(),i()}});return t(...e).subscribe(r)}function Ui(i){for(let t in i)if(i[t]===Ui)return t;throw Error("Could not find renamed property on target object.")}function ue(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function we(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const We=Ui({__forward_ref__:Ui});function Fe(i){return i.__forward_ref__=Fe,i.toString=function(){return re(this())},i}function Ye(i){return Dt(i)?i():i}function Dt(i){return"function"==typeof i&&i.hasOwnProperty(We)&&i.__forward_ref__===Fe}class Ge extends Error{constructor(t,e){super(function ji(i,t){return`NG0${Math.abs(i)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Je(i){return"string"==typeof i?i:null==i?"":String(i)}function Ur(i,t){throw new Ge(-201,!1)}function ir(i,t){null==i&&function Vi(i,t,e,r){throw new Error(`ASSERTION ERROR: ${i}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,i,null,"!=")}function oe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ft(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ei(i){return Pn(i,Pr)||Pn(i,cl)}function Pn(i,t){return i.hasOwnProperty(t)?i[t]:null}function nn(i){return i&&(i.hasOwnProperty(Gr)||i.hasOwnProperty(f))?i[Gr]:null}const Pr=Ui({\u0275prov:Ui}),Gr=Ui({\u0275inj:Ui}),cl=Ui({ngInjectableDef:Ui}),f=Ui({ngInjectorDef:Ui});var C=(()=>((C=C||{})[C.Default=0]="Default",C[C.Host=1]="Host",C[C.Self=2]="Self",C[C.SkipSelf=4]="SkipSelf",C[C.Optional=8]="Optional",C))();let O;function B(i){const t=O;return O=i,t}function z(i,t,e){const r=Ei(i);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&C.Optional?null:void 0!==t?t:void Ur(re(i))}function le(i){return{toString:i}.toString()}var ie=(()=>((ie=ie||{})[ie.OnPush=0]="OnPush",ie[ie.Default=1]="Default",ie))(),$e=(()=>{return(i=$e||($e={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",$e;var i})();const ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ai={},pt=[],xn=Ui({\u0275cmp:Ui}),Xi=Ui({\u0275dir:Ui}),$n=Ui({\u0275pipe:Ui}),en=Ui({\u0275mod:Ui}),qt=Ui({\u0275fac:Ui}),yn=Ui({__NG_ELEMENT_ID__:Ui});let Ii=0;function Nt(i){return le(()=>{const e=!0===i.standalone,r={},o={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||pt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||$e.Emulated,id:"c"+Ii++,styles:i.styles||pt,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.dependencies,a=i.features;return o.inputs=fe(i.inputs,r),o.outputs=fe(i.outputs),a&&a.forEach(l=>l(o)),o.directiveDefs=s?()=>("function"==typeof s?s():s).map(D).filter(N):null,o.pipeDefs=s?()=>("function"==typeof s?s():s).map(At).filter(N):null,o})}function D(i){return qe(i)||tt(i)}function N(i){return null!==i}function W(i){return le(()=>({type:i.type,bootstrap:i.bootstrap||pt,declarations:i.declarations||pt,imports:i.imports||pt,exports:i.exports||pt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function fe(i,t){if(null==i)return ai;const e={};for(const r in i)if(i.hasOwnProperty(r)){let o=i[r],s=o;Array.isArray(o)&&(s=o[1],o=o[0]),e[o]=r,t&&(t[o]=s)}return e}const _e=Nt;function qe(i){return i[xn]||null}function tt(i){return i[Xi]||null}function At(i){return i[$n]||null}function kt(i,t){const e=i[en]||null;if(!e&&!0===t)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return e}function Xn(i){return Array.isArray(i)&&"object"==typeof i[1]}function Co(i){return Array.isArray(i)&&!0===i[1]}function zl(i){return 0!=(8&i.flags)}function ha(i){return 2==(2&i.flags)}function fa(i){return 1==(1&i.flags)}function yo(i){return null!==i.template}function Yf(i){return 0!=(256&i[2])}function rn(i,t){return i.hasOwnProperty(qt)?i[qt]:null}class pl{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nr(){return no}function no(i){return i.type.prototype.ngOnChanges&&(i.setInput=Fx),kx}function kx(){const i=x_(this),t=i?.current;if(t){const e=i.previous;if(e===ai)i.previous=t;else for(let r in t)e[r]=t[r];i.current=null,this.ngOnChanges(t)}}function Fx(i,t,e,r){const o=x_(i)||function Nx(i,t){return i[T_]=t}(i,{previous:ai,current:null}),s=o.current||(o.current={}),a=o.previous,l=this.declaredInputs[e],u=a[l];s[l]=new pl(u&&u.currentValue,t,a===ai),i[r]=t}Nr.ngInherit=!0;const T_="__ngSimpleChanges__";function x_(i){return i[T_]||null}function ur(i){for(;Array.isArray(i);)i=i[0];return i}function _c(i,t){return ur(t[i])}function gs(i,t){return ur(t[i.index])}function Qf(i,t){return i.data[t]}function Xo(i,t){const e=t[i];return Xn(e)?e:e[0]}function Cc(i){return 64==(64&i[2])}function za(i,t){return null==t?null:i[t]}function A_(i){i[18]=0}function Zf(i,t){i[5]+=t;let e=i,r=i[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const mi={lFrame:V_(null),bindingsEnabled:!0};function I_(){return mi.bindingsEnabled}function et(){return mi.lFrame.lView}function Qi(){return mi.lFrame.tView}function Cr(){let i=R_();for(;null!==i&&64===i.type;)i=i.parent;return i}function R_(){return mi.lFrame.currentTNode}function js(i,t){const e=mi.lFrame;e.currentTNode=i,e.isParent=t}function Jf(){return mi.lFrame.isParent}function Gl(){return mi.lFrame.bindingIndex++}function Jx(i,t){const e=mi.lFrame;e.bindingIndex=e.bindingRootIndex=i,tp(t)}function tp(i){mi.lFrame.currentDirectiveIndex=i}function np(i){mi.lFrame.currentQueryIndex=i}function tA(i){const t=i[1];return 2===t.type?t.declTNode:1===t.type?i[6]:null}function N_(i,t,e){if(e&C.SkipSelf){let o=t,s=i;for(;!(o=o.parent,null!==o||e&C.Host||(o=tA(s),null===o||(s=s[15],10&o.type))););if(null===o)return!1;t=o,i=s}const r=mi.lFrame=L_();return r.currentTNode=t,r.lView=i,!0}function rp(i){const t=L_(),e=i[1];mi.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function L_(){const i=mi.lFrame,t=null===i?null:i.child;return null===t?V_(i):t}function V_(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function H_(){const i=mi.lFrame;return mi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const $_=H_;function op(){const i=H_();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function bo(){return mi.lFrame.selectedIndex}function Wa(i){mi.lFrame.selectedIndex=i}function Qn(){const i=mi.lFrame;return Qf(i.tView,i.selectedIndex)}function yc(i,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=i.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;a&&(i.contentHooks||(i.contentHooks=[])).push(-e,a),l&&((i.contentHooks||(i.contentHooks=[])).push(e,l),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,l)),u&&(i.viewHooks||(i.viewHooks=[])).push(-e,u),d&&((i.viewHooks||(i.viewHooks=[])).push(e,d),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,d)),null!=p&&(i.destroyHooks||(i.destroyHooks=[])).push(e,p)}}function wc(i,t,e){B_(i,t,3,e)}function bc(i,t,e,r){(3&i[2])===e&&B_(i,t,e,r)}function sp(i,t){let e=i[2];(3&e)===t&&(e&=2047,e+=1,i[2]=e)}function B_(i,t,e,r){const s=r??-1,a=t.length-1;let l=0;for(let u=void 0!==r?65535&i[18]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=r&&l>=r)break}else t[u]<0&&(i[18]+=65536),(l<s||-1==s)&&(dA(i,e,t,u),i[18]=(4294901760&i[18])+u+2),u++}function dA(i,t,e,r){const o=e[r]<0,s=e[r+1],l=i[o?-e[r]:e[r]];if(o){if(i[2]>>11<i[18]>>16&&(3&i[2])===t){i[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class ju{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Ec(i,t,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i.setAttribute(t,a,l,s)}else{const s=o,a=e[++r];z_(s)?i.setProperty(t,s,a):i.setAttribute(t,s,a),r++}}return r}function U_(i){return 3===i||4===i||6===i}function z_(i){return 64===i.charCodeAt(0)}function Sc(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?e=o:0===e||W_(i,e,o,null,-1===e||2===e?t[++r]:null)}}return i}function W_(i,t,e,r,o){let s=0,a=i.length;if(-1===t)a=-1;else for(;s<i.length;){const l=i[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<i.length;){const l=i[s];if("number"==typeof l)break;if(l===e){if(null===r)return void(null!==o&&(i[s+1]=o));if(r===i[s+1])return void(i[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==a&&(i.splice(a,0,t),s=a+1),i.splice(s++,0,e),null!==r&&i.splice(s++,0,r),null!==o&&i.splice(s++,0,o)}function G_(i){return-1!==i}function jl(i){return 32767&i}function Yl(i,t){let e=function gA(i){return i>>16}(i),r=t;for(;e>0;)r=r[15],e--;return r}let lp=!0;function Dc(i){const t=lp;return lp=i,t}let mA=0;const Ys={};function qu(i,t){const e=dp(i,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(i.injectorIndex=t.length,up(r.data,i),up(t,null),up(r.blueprint,null));const o=Tc(i,t),s=i.injectorIndex;if(G_(o)){const a=jl(o),l=Yl(o,t),u=l[1].data;for(let d=0;d<8;d++)t[s+d]=l[a+d]|u[a+d]}return t[s+8]=o,s}function up(i,t){i.push(0,0,0,0,0,0,0,0,t)}function dp(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function Tc(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,r=null,o=t;for(;null!==o;){if(r=e0(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function xc(i,t,e){!function vA(i,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(yn)&&(r=e[yn]),null==r&&(r=e[yn]=mA++);const o=255&r;t.data[i+(o>>5)]|=1<<o}(i,t,e)}function q_(i,t,e){if(e&C.Optional||void 0!==i)return i;Ur()}function K_(i,t,e,r){if(e&C.Optional&&void 0===r&&(r=null),0==(e&(C.Self|C.Host))){const o=i[9],s=B(void 0);try{return o?o.get(t,r,e&C.Optional):z(t,r,e&C.Optional)}finally{B(s)}}return q_(r,0,e)}function X_(i,t,e,r=C.Default,o){if(null!==i){if(1024&t[2]){const a=function bA(i,t,e,r,o){let s=i,a=t;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const l=Q_(s,a,e,r|C.Self,Ys);if(l!==Ys)return l;let u=s.parent;if(!u){const d=a[21];if(d){const p=d.get(e,Ys,r);if(p!==Ys)return p}u=e0(a),a=a[15]}s=u}return o}(i,t,e,r,Ys);if(a!==Ys)return a}const s=Q_(i,t,e,r,Ys);if(s!==Ys)return s}return K_(t,e,r,o)}function Q_(i,t,e,r,o){const s=function yA(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(yn)?i[yn]:void 0;return"number"==typeof t?t>=0?255&t:wA:t}(e);if("function"==typeof s){if(!N_(t,i,r))return r&C.Host?q_(o,0,r):K_(t,e,r,o);try{const a=s(r);if(null!=a||r&C.Optional)return a;Ur()}finally{$_()}}else if("number"==typeof s){let a=null,l=dp(i,t),u=-1,d=r&C.Host?t[16][6]:null;for((-1===l||r&C.SkipSelf)&&(u=-1===l?Tc(i,t):t[l+8],-1!==u&&J_(r,!1)?(a=t[1],l=jl(u),t=Yl(u,t)):l=-1);-1!==l;){const p=t[1];if(Z_(s,l,p.data)){const m=CA(l,t,e,a,r,d);if(m!==Ys)return m}u=t[l+8],-1!==u&&J_(r,t[1].data[l+8]===d)&&Z_(s,l,t)?(a=p,l=jl(u),t=Yl(u,t)):l=-1}}return o}function CA(i,t,e,r,o,s){const a=t[1],l=a.data[i+8],p=function Ac(i,t,e,r,o){const s=i.providerIndexes,a=t.data,l=1048575&s,u=i.directiveStart,p=s>>20,E=o?l+p:i.directiveEnd;for(let P=r?l:l+p;P<E;P++){const H=a[P];if(P<u&&e===H||P>=u&&H.type===e)return P}if(o){const P=a[u];if(P&&yo(P)&&P.type===e)return u}return null}(l,a,e,null==r?ha(l)&&lp:r!=a&&0!=(3&l.type),o&C.Host&&s===l);return null!==p?Ku(t,a,p,l):Ys}function Ku(i,t,e,r){let o=i[e];const s=t.data;if(function cA(i){return i instanceof ju}(o)){const a=o;a.resolving&&function Yo(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${i}${e}`)}(function pi(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Je(i)}(s[e]));const l=Dc(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?B(a.injectImpl):null;N_(i,r,C.Default);try{o=i[e]=a.factory(void 0,s,i,r),t.firstCreatePass&&e>=r.directiveStart&&function uA(i,t,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const a=no(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,a)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,o),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,s))}(e,s[e],t)}finally{null!==u&&B(u),Dc(l),a.resolving=!1,$_()}}return o}function Z_(i,t,e){return!!(e[t+(i>>5)]&1<<i)}function J_(i,t){return!(i&C.Self||i&C.Host&&t)}class ql{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return X_(this._tNode,this._lView,t,r,e)}}function wA(){return new ql(Cr(),et())}function yr(i){return le(()=>{const t=i.prototype.constructor,e=t[qt]||cp(t),r=Object.prototype;let o=Object.getPrototypeOf(i.prototype).constructor;for(;o&&o!==r;){const s=o[qt]||cp(o);if(s&&s!==e)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function cp(i){return Dt(i)?()=>{const t=cp(Ye(i));return t&&t()}:rn(i)}function e0(i){const t=i[1],e=t.type;return 2===e?t.declTNode:1===e?i[6]:null}const Xl="__parameters__";function Zl(i,t,e){return le(()=>{const r=function hp(i){return function(...e){if(i){const r=i(...e);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return l.annotation=a,l;function l(u,d,p){const m=u.hasOwnProperty(Xl)?u[Xl]:Object.defineProperty(u,Xl,{value:[]})[Xl];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(a),u}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=i,o.annotationCls=o,o})}class oi{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ma(i,t){i.forEach(e=>Array.isArray(e)?ma(e,t):t(e))}function n0(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Oc(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Zo(i,t,e){let r=Jl(i,t);return r>=0?i[1|r]=e:(r=~r,function TA(i,t,e,r){let o=i.length;if(o==t)i.push(e,r);else if(1===o)i.push(r,i[0]),i[0]=e;else{for(o--,i.push(i[o-1],i[o]);o>t;)i[o]=i[o-2],o--;i[t]=e,i[t+1]=r}}(i,r,t,e)),r}function pp(i,t){const e=Jl(i,t);if(e>=0)return i[1|e]}function Jl(i,t){return function s0(i,t,e){let r=0,o=i.length>>e;for(;o!==r;){const s=r+(o-r>>1),a=i[s<<e];if(t===a)return s<<e;a>t?o=s:r=s+1}return~(o<<e)}(i,t,1)}const ed={},mp="__NG_DI_FLAG__",Rc="ngTempTokenPath",kA=/\n/gm,a0="__source";let td;function eu(i){const t=td;return td=i,t}function NA(i,t=C.Default){if(void 0===td)throw new Ge(-203,!1);return null===td?z(i,void 0,t):td.get(i,t&C.Optional?null:void 0,t)}function Vt(i,t=C.Default){return(function M(){return O}()||NA)(Ye(i),t)}function rr(i,t=C.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Vt(i,t)}function vp(i){const t=[];for(let e=0;e<i.length;e++){const r=Ye(i[e]);if(Array.isArray(r)){if(0===r.length)throw new Ge(900,!1);let o,s=C.Default;for(let a=0;a<r.length;a++){const l=r[a],u=LA(l);"number"==typeof u?-1===u?o=l.token:s|=u:o=l}t.push(Vt(o,s))}else t.push(Vt(r))}return t}function id(i,t){return i[mp]=t,i.prototype[mp]=t,i}function LA(i){return i[mp]}const nd=id(Zl("Optional"),8),rd=id(Zl("SkipSelf"),4);let Cp;const xp=new oi("ENVIRONMENT_INITIALIZER"),A0=new oi("INJECTOR",-1),O0=new oi("INJECTOR_DEF_TYPES");class I0{get(t,e=ed){if(e===ed){const r=new Error(`NullInjectorError: No provider for ${re(t)}!`);throw r.name="NullInjectorError",r}return e}}function wO(...i){return{\u0275providers:R0(0,i)}}function R0(i,...t){const e=[],r=new Set;let o;return ma(t,s=>{const a=s;Ap(a,e,[],r)&&(o||(o=[]),o.push(a))}),void 0!==o&&M0(o,e),e}function M0(i,t){for(let e=0;e<i.length;e++){const{providers:o}=i[e];ma(o,s=>{t.push(s)})}}function Ap(i,t,e,r){if(!(i=Ye(i)))return!1;let o=null,s=nn(i);const a=!s&&qe(i);if(s||a){if(a&&!a.standalone)return!1;o=i}else{const u=i.ngModule;if(s=nn(u),!s)return!1;o=u}const l=r.has(o);if(a){if(l)return!1;if(r.add(o),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const d of u)Ap(d,t,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let d;r.add(o);try{ma(s.imports,p=>{Ap(p,t,e,r)&&(d||(d=[]),d.push(p))})}finally{}void 0!==d&&M0(d,t)}if(!l){const d=rn(o)||(()=>new o);t.push({provide:o,useFactory:d,deps:pt},{provide:O0,useValue:o,multi:!0},{provide:xp,useValue:()=>Vt(o),multi:!0})}const u=s.providers;null==u||l||ma(u,p=>{t.push(p)})}}return o!==i&&void 0!==i.providers}const bO=Ui({provide:String,useValue:Ui});function Op(i){return null!==i&&"object"==typeof i&&bO in i}function gl(i){return"function"==typeof i}const Ip=new oi("Set Injector scope."),Lc={},SO={};let Rp;function Vc(){return void 0===Rp&&(Rp=new I0),Rp}class Ya{}class F0 extends Ya{constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pp(t,a=>this.processProvider(a)),this.records.set(A0,nu(void 0,this)),o.has("environment")&&this.records.set(Ya,nu(void 0,this));const s=this.records.get(Ip);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(O0.multi,pt,C.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=eu(this),r=B(void 0);try{return t()}finally{eu(e),B(r)}}get(t,e=ed,r=C.Default){this.assertNotDestroyed();const o=eu(this),s=B(void 0);try{if(!(r&C.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function OO(i){return"function"==typeof i||"object"==typeof i&&i instanceof oi}(t)&&Ei(t);l=u&&this.injectableDefInScope(u)?nu(Mp(t),Lc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&C.Self?Vc():this.parent).get(t,e=r&C.Optional&&e===ed?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Rc]=a[Rc]||[]).unshift(re(t)),o)throw a;return function VA(i,t,e,r){const o=i[Rc];throw t[a0]&&o.unshift(t[a0]),i.message=function HA(i,t,e,r=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let o=re(t);if(Array.isArray(t))o=t.map(re).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):re(l)))}o=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${i.replace(kA,"\n  ")}`}("\n"+i.message,o,e,r),i.ngTokenPath=o,i[Rc]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{B(s),eu(o)}}resolveInjectorInitializers(){const t=eu(this),e=B(void 0);try{const r=this.get(xp.multi,pt,C.Self);for(const o of r)o()}finally{eu(t),B(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(re(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(t){let e=gl(t=Ye(t))?t:Ye(t&&t.provide);const r=function TO(i){return Op(i)?nu(void 0,i.useValue):nu(N0(i),Lc)}(t);if(gl(t)||!0!==t.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=nu(void 0,Lc,!0),o.factory=()=>vp(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Lc&&(e.value=SO,e.value=e.factory()),"object"==typeof e.value&&e.value&&function AO(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ye(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Mp(i){const t=Ei(i),e=null!==t?t.factory:rn(i);if(null!==e)return e;if(i instanceof oi)throw new Ge(204,!1);if(i instanceof Function)return function DO(i){const t=i.length;if(t>0)throw function Ju(i,t){const e=[];for(let r=0;r<i;r++)e.push(t);return e}(t,"?"),new Ge(204,!1);const e=function un(i){const t=i&&(i[Pr]||i[cl]);if(t){const e=function fs(i){if(i.hasOwnProperty("name"))return i.name;const t=(""+i).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new Ge(204,!1)}function N0(i,t,e){let r;if(gl(i)){const o=Ye(i);return rn(o)||Mp(o)}if(Op(i))r=()=>Ye(i.useValue);else if(function k0(i){return!(!i||!i.useFactory)}(i))r=()=>i.useFactory(...vp(i.deps||[]));else if(function P0(i){return!(!i||!i.useExisting)}(i))r=()=>Vt(Ye(i.useExisting));else{const o=Ye(i&&(i.useClass||i.provide));if(!function xO(i){return!!i.deps}(i))return rn(o)||Mp(o);r=()=>new o(...vp(i.deps))}return r}function nu(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function IO(i){return!!i.\u0275providers}function Pp(i,t){for(const e of i)Array.isArray(e)?Pp(e,t):IO(e)?Pp(e.\u0275providers,t):t(e)}class L0{}class PO{resolveComponentFactory(t){throw function MO(i){const t=Error(`No component factory found for ${re(i)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=i,t}(t)}}let ru=(()=>{class i{}return i.NULL=new PO,i})();function kO(){return ou(Cr(),et())}function ou(i,t){return new Fo(gs(i,t))}let Fo=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=kO,i})();class H0{}let _a=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function NO(){const i=et(),e=Xo(Cr().index,i);return(Xn(e)?e:i)[11]}(),i})(),LO=(()=>{class i{}return i.\u0275prov=oe({token:i,providedIn:"root",factory:()=>null}),i})();class dd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const VO=new dd("14.2.2"),kp={};function Hp(i){return i.ngOriginalError}class su{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Hp(t);for(;e&&Hp(e);)e=Hp(e);return e||null}}const $p=new Map;let XO=0;const Up="__ngContext__";function ro(i,t){Xn(t)?(i[Up]=t[20],function ZO(i){$p.set(i[20],i)}(t)):i[Up]=t}function Ca(i){return i instanceof Function?i():i}var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();function Wp(i,t){return undefined(i,t)}function hd(i){const t=i[3];return Co(t)?t[3]:t}function Gp(i){return J0(i[13])}function jp(i){return J0(i[4])}function J0(i){for(;null!==i&&!Co(i);)i=i[4];return i}function lu(i,t,e,r,o){if(null!=r){let s,a=!1;Co(r)?s=r:Xn(r)&&(a=!0,r=r[0]);const l=ur(r);0===i&&null!==e?null==o?oC(t,e,l):ml(t,e,l,o||null,!0):1===i&&null!==e?ml(t,e,l,o||null,!0):2===i?function hC(i,t,e){const r=Hc(i,t);r&&function DI(i,t,e,r){i.removeChild(t,e,r)}(i,r,t,e)}(t,l,a):3===i&&t.destroyNode(l),null!=s&&function AI(i,t,e,r,o){const s=e[7];s!==ur(e)&&lu(t,i,r,s,o);for(let l=10;l<e.length;l++){const u=e[l];fd(u[1],u,i,t,r,s)}}(t,i,s,e,o)}}function qp(i,t,e){return i.createElement(t,e)}function tC(i,t){const e=i[9],r=e.indexOf(t),o=t[3];512&t[2]&&(t[2]&=-513,Zf(o,-1)),e.splice(r,1)}function Kp(i,t){if(i.length<=10)return;const e=10+t,r=i[e];if(r){const o=r[17];null!==o&&o!==i&&tC(o,r),t>0&&(i[e-1][4]=r[4]);const s=Oc(i,10+t);!function vI(i,t){fd(i,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function iC(i,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&fd(i,t,e,3,null,null),function yI(i){let t=i[13];if(!t)return Xp(i[1],i);for(;t;){let e=null;if(Xn(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==i;)Xn(t)&&Xp(t[1],t),t=t[3];null===t&&(t=i),Xn(t)&&Xp(t[1],t),e=t&&t[4]}t=e}}(t)}}function Xp(i,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function SI(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let r=0;r<e.length;r+=2){const o=t[e[r]];if(!(o instanceof ju)){const s=e[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=o[s[a]],u=s[a+1];try{u.call(l)}finally{}}else try{s.call(o)}finally{}}}}(i,t),function EI(i,t){const e=i.cleanup,r=t[7];let o=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],l="function"==typeof a?a(t):ur(t[a]),u=r[o=e[s+2]],d=e[s+3];"boolean"==typeof d?l.removeEventListener(e[s],u,d):d>=0?r[o=d]():r[o=-d].unsubscribe(),s+=2}else{const a=r[o=e[s+1]];e[s].call(a)}if(null!==r){for(let s=o+1;s<r.length;s++)(0,r[s])();t[7]=null}}(i,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Co(t[3])){e!==t[3]&&tC(e,t);const r=t[19];null!==r&&r.detachView(i)}!function JO(i){$p.delete(i[20])}(t)}}function nC(i,t,e){return function rC(i,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const o=i.data[r.directiveStart].encapsulation;if(o===$e.None||o===$e.Emulated)return null}return gs(r,e)}(i,t.parent,e)}function ml(i,t,e,r,o){i.insertBefore(t,e,r,o)}function oC(i,t,e){i.appendChild(t,e)}function sC(i,t,e,r,o){null!==r?ml(i,t,e,r,o):oC(i,t,e)}function Hc(i,t){return i.parentNode(t)}let uC=function lC(i,t,e){return 40&i.type?gs(i,e):null};function $c(i,t,e,r){const o=nC(i,r,t),s=t[11],l=function aC(i,t,e){return uC(i,t,e)}(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(e))for(let u=0;u<e.length;u++)sC(s,o,e[u],l,!1);else sC(s,o,e,l,!1)}function Bc(i,t){if(null!==t){const e=t.type;if(3&e)return gs(t,i);if(4&e)return Zp(-1,i[t.index]);if(8&e){const r=t.child;if(null!==r)return Bc(i,r);{const o=i[t.index];return Co(o)?Zp(-1,o):ur(o)}}if(32&e)return Wp(t,i)()||ur(i[t.index]);{const r=cC(i,t);return null!==r?Array.isArray(r)?r[0]:Bc(hd(i[16]),r):Bc(i,t.next)}}return null}function cC(i,t){return null!==t?i[16][6].projection[t.projection]:null}function Zp(i,t){const e=10+i+1;if(e<t.length){const r=t[e],o=r[1].firstChild;if(null!==o)return Bc(r,o)}return t[7]}function Jp(i,t,e,r,o,s,a){for(;null!=e;){const l=r[e.index],u=e.type;if(a&&0===t&&(l&&ro(ur(l),r),e.flags|=4),64!=(64&e.flags))if(8&u)Jp(i,t,e.child,r,o,s,!1),lu(t,i,o,l,s);else if(32&u){const d=Wp(e,r);let p;for(;p=d();)lu(t,i,o,p,s);lu(t,i,o,l,s)}else 16&u?fC(i,t,r,e,o,s):lu(t,i,o,l,s);e=a?e.projectionNext:e.next}}function fd(i,t,e,r,o,s){Jp(e,r,i.firstChild,t,o,s,!1)}function fC(i,t,e,r,o,s){const a=e[16],u=a[6].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)lu(t,i,o,u[d],s);else Jp(i,t,u,a[3],o,s,!0)}function pC(i,t,e){i.setAttribute(t,"style",e)}function eg(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function gC(i,t,e){let r=i.length;for(;;){const o=i.indexOf(t,e);if(-1===o)return o;if(0===o||i.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||i.charCodeAt(o+s)<=32)return o}e=o+1}}const mC="ng-template";function II(i,t,e){let r=0;for(;r<i.length;){let o=i[r++];if(e&&"class"===o){if(o=i[r],-1!==gC(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<i.length&&"string"==typeof(o=i[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function vC(i){return 4===i.type&&i.value!==mC}function RI(i,t,e){return t===(4!==i.type||e?i.value:mC)}function MI(i,t,e){let r=4;const o=i.attrs||[],s=function FI(i){for(let t=0;t<i.length;t++)if(U_(i[t]))return t;return i.length}(o);let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!RI(i,u,e)||""===u&&1===t.length){if(Os(r))return!1;a=!0}}else{const d=8&r?u:t[++l];if(8&r&&null!==i.attrs){if(!II(i.attrs,d,e)){if(Os(r))return!1;a=!0}continue}const m=PI(8&r?"class":u,o,vC(i),e);if(-1===m){if(Os(r))return!1;a=!0;continue}if(""!==d){let E;E=m>s?"":o[m+1].toLowerCase();const P=8&r?E:null;if(P&&-1!==gC(P,d,0)||2&r&&d!==E){if(Os(r))return!1;a=!0}}}}else{if(!a&&!Os(r)&&!Os(u))return!1;if(a&&Os(u))continue;a=!1,r=u|1&r}}return Os(r)||a}function Os(i){return 0==(1&i)}function PI(i,t,e,r){if(null===t)return-1;let o=0;if(r||!e){let s=!1;for(;o<t.length;){const a=t[o];if(a===i)return o;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++o];for(;"string"==typeof l;)l=t[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=s?1:2}return-1}return function NI(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const r=i[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,i)}function _C(i,t,e=!1){for(let r=0;r<t.length;r++)if(MI(i,t[r],e))return!0;return!1}function CC(i,t){return i?":not("+t.trim()+")":t}function VI(i){let t=i[0],e=1,r=2,o="",s=!1;for(;e<i.length;){let a=i[e];if("string"==typeof a)if(2&r){const l=i[++e];o+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?o+="."+a:4&r&&(o+=" "+a);else""!==o&&!Os(a)&&(t+=CC(s,o),o=""),r=a,s=s||!Os(r);e++}return""!==o&&(t+=CC(s,o)),t}const Ci={};function Lo(i){yC(Qi(),et(),bo()+i,!1)}function yC(i,t,e,r){if(!r)if(3==(3&t[2])){const s=i.preOrderCheckHooks;null!==s&&wc(t,s,e)}else{const s=i.preOrderHooks;null!==s&&bc(t,s,0,e)}Wa(e)}function SC(i,t=null,e=null,r){const o=DC(i,t,e,r);return o.resolveInjectorInitializers(),o}function DC(i,t=null,e=null,r,o=new Set){const s=[e||pt,wO(i)];return r=r||("object"==typeof i?void 0:re(i)),new F0(s,t||Vc(),r||null,o)}let Jo=(()=>{class i{static create(e,r){if(Array.isArray(e))return SC({name:""},r,e,"");{const o=e.name??"";return SC({name:o},e.parent,e.providers,o)}}}return i.THROW_IF_NOT_FOUND=ed,i.NULL=new I0,i.\u0275prov=oe({token:i,providedIn:"any",factory:()=>Vt(A0)}),i.__NG_ELEMENT_ID__=-1,i})();function Xe(i,t=C.Default){const e=et();return null===e?Vt(i,t):X_(Cr(),e,Ye(i),t)}function og(){throw new Error("invalid")}function zc(i,t){return i<<17|t<<2}function Is(i){return i>>17&32767}function sg(i){return 2|i}function ya(i){return(131068&i)>>2}function ag(i,t){return-131069&i|t<<2}function lg(i){return 1|i}function UC(i,t){const e=i.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],s=e[r+1];if(-1!==s){const a=i.data[s];np(o),a.contentQueries(2,t[s],s)}}}function jc(i,t,e,r,o,s,a,l,u,d,p){const m=t.blueprint.slice();return m[0]=o,m[2]=76|r,(null!==p||i&&1024&i[2])&&(m[2]|=1024),A_(m),m[3]=m[15]=i,m[8]=e,m[10]=a||i&&i[10],m[11]=l||i&&i[11],m[12]=u||i&&i[12]||null,m[9]=d||i&&i[9]||null,m[6]=s,m[20]=function QO(){return XO++}(),m[21]=p,m[16]=2==t.type?i[16]:m,m}function du(i,t,e,r,o){let s=i.data[t];if(null===s)s=function mg(i,t,e,r,o){const s=R_(),a=Jf(),u=i.data[t]=function yR(i,t,e,r,o,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,r,o);return null===i.firstChild&&(i.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(i,t,e,r,o),function Zx(){return mi.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=o;const a=function Gu(){const i=mi.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return js(s,!0),s}function cu(i,t,e,r){if(0===e)return-1;const o=t.length;for(let s=0;s<e;s++)t.push(r),i.blueprint.push(r),i.data.push(null);return o}function vg(i,t,e){rp(t);try{const r=i.viewQuery;null!==r&&Dg(1,r,e);const o=i.template;null!==o&&zC(i,t,o,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&UC(i,t),i.staticViewQueries&&Dg(2,i.viewQuery,e);const s=i.components;null!==s&&function vR(i,t){for(let e=0;e<t.length;e++)NR(i,t[e])}(t,s)}catch(r){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),r}finally{t[2]&=-5,op()}}function Yc(i,t,e,r){const o=t[2];if(128!=(128&o)){rp(t);try{A_(t),function P_(i){return mi.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&zC(i,t,e,2,r);const a=3==(3&o);if(a){const d=i.preOrderCheckHooks;null!==d&&wc(t,d,null)}else{const d=i.preOrderHooks;null!==d&&bc(t,d,0,null),sp(t,0)}if(function kR(i){for(let t=Gp(i);null!==t;t=jp(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const o=e[r],s=o[3];0==(512&o[2])&&Zf(s,1),o[2]|=512}}}(t),function PR(i){for(let t=Gp(i);null!==t;t=jp(t))for(let e=10;e<t.length;e++){const r=t[e],o=r[1];Cc(r)&&Yc(o,r,o.template,r[8])}}(t),null!==i.contentQueries&&UC(i,t),a){const d=i.contentCheckHooks;null!==d&&wc(t,d)}else{const d=i.contentHooks;null!==d&&bc(t,d,1),sp(t,1)}!function gR(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Wa(~o);else{const s=o,a=e[++r],l=e[++r];Jx(a,s),l(2,t[s])}}}finally{Wa(-1)}}(i,t);const l=i.components;null!==l&&function mR(i,t){for(let e=0;e<t.length;e++)FR(i,t[e])}(t,l);const u=i.viewQuery;if(null!==u&&Dg(2,u,r),a){const d=i.viewCheckHooks;null!==d&&wc(t,d)}else{const d=i.viewHooks;null!==d&&bc(t,d,2),sp(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Zf(t[3],-1))}finally{op()}}}function zC(i,t,e,r,o){const s=bo(),a=2&r;try{Wa(-1),a&&t.length>22&&yC(i,t,22,!1),e(r,o)}finally{Wa(s)}}function GC(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=yg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):t}function yg(i,t,e,r,o,s,a,l,u,d){const p=22+r,m=p+o,E=function _R(i,t){const e=[];for(let r=0;r<t;r++)e.push(r<i?null:Ci);return e}(p,m),P="function"==typeof d?d():d;return E[1]={type:i,blueprint:E,template:e,queries:null,viewQuery:l,declTNode:t,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:P,incompleteFirstPass:!1}}function YC(i,t,e){for(let r in i)if(i.hasOwnProperty(r)){const o=i[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,o):e[r]=[t,o]}return e}function qC(i,t){const r=t.directiveEnd,o=i.data,s=t.attrs,a=[];let l=null,u=null;for(let d=t.directiveStart;d<r;d++){const p=o[d],m=p.inputs,E=null===s||vC(t)?null:MR(m,s);a.push(E),l=YC(m,d,l),u=YC(p.outputs,d,u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=u}function es(i,t,e,r,o,s,a,l){const u=gs(t,e);let p,d=t.inputs;!l&&null!=d&&(p=d[r])?(Tg(i,e,p,r,o),ha(t)&&KC(e,t.index)):3&t.type&&(r=function wR(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(r),o=null!=a?a(o,t.value||"",r):o,s.setProperty(u,r,o))}function KC(i,t){const e=Xo(t,i);16&e[2]||(e[2]|=32)}function XC(i,t,e,r,o,s){const a=s.hostBindings;if(a){let l=i.hostBindingOpCodes;null===l&&(l=i.hostBindingOpCodes=[]);const u=~t.index;(function SR(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=u&&l.push(u),l.push(r,o,a)}}function QC(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function ZC(i,t){t.flags|=2,(i.components||(i.components=[])).push(t.index)}function OR(i,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=i;yo(t)&&(e[""]=i)}}function JC(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function ey(i,t,e,r,o){i.data[r]=o;const s=o.factory||(o.factory=rn(o.type)),a=new ju(s,yo(o),Xe);i.blueprint[r]=a,e[r]=a,XC(i,t,0,r,cu(i,e,o.hostVars,Ci),o)}function IR(i,t,e){const r=gs(t,i),o=GC(e),s=i[10],a=qc(i,jc(i,o,null,e.onPush?32:16,r,t,s,s.createRenderer(r,e),null,null,null));i[t.index]=a}function qs(i,t,e,r,o,s){const a=gs(i,t);!function bg(i,t,e,r,o,s,a){if(null==s)i.removeAttribute(t,o,e);else{const l=null==a?Je(s):a(s,r||"",o);i.setAttribute(t,o,l,e)}}(t[11],a,s,i.value,e,r,o)}function RR(i,t,e,r,o,s){const a=s[t];if(null!==a){const l=r.setInput;for(let u=0;u<a.length;){const d=a[u++],p=a[u++],m=a[u++];null!==l?r.setInput(e,m,d,p):e[p]=m}}}function MR(i,t){let e=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;i.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,i[o],t[r+1])),r+=2}else r+=2;else r+=4}return e}function FR(i,t){const e=Xo(t,i);if(Cc(e)){const r=e[1];48&e[2]?Yc(r,e,r.template,e[8]):e[5]>0&&Eg(e)}}function Eg(i){for(let r=Gp(i);null!==r;r=jp(r))for(let o=10;o<r.length;o++){const s=r[o];if(Cc(s))if(512&s[2]){const a=s[1];Yc(a,s,a.template,s[8])}else s[5]>0&&Eg(s)}const e=i[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=Xo(e[r],i);Cc(o)&&o[5]>0&&Eg(o)}}function NR(i,t){const e=Xo(t,i),r=e[1];(function LR(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])})(r,e),vg(r,e,e[8])}function qc(i,t){return i[13]?i[14][4]=t:i[13]=t,i[14]=t,t}function Sg(i){for(;i;){i[2]|=32;const t=hd(i);if(Yf(i)&&!t)return i;i=t}return null}function Kc(i,t,e,r=!0){const o=t[10];o.begin&&o.begin();try{Yc(i,t,i.template,e)}catch(a){throw r&&oy(t,a),a}finally{o.end&&o.end()}}function Dg(i,t,e){np(0),t(i,e)}function iy(i){return i[7]||(i[7]=[])}function ny(i){return i.cleanup||(i.cleanup=[])}function oy(i,t){const e=i[9],r=e?e.get(su,null):null;r&&r.handleError(t)}function Tg(i,t,e,r,o){for(let s=0;s<e.length;){const a=e[s++],l=e[s++],u=t[a],d=i.data[a];null!==d.setInput?d.setInput(u,o,r,l):u[l]=o}}function Xc(i,t,e){let r=e?i.styles:null,o=e?i.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?o=we(o,l):2==s&&(r=we(r,l+": "+t[++a]+";"))}e?i.styles=r:i.stylesWithoutHost=r,e?i.classes=o:i.classesWithoutHost=o}function Qc(i,t,e,r,o=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&r.push(ur(s)),Co(s))for(let l=10;l<s.length;l++){const u=s[l],d=u[1].firstChild;null!==d&&Qc(u[1],u,d,r)}const a=e.type;if(8&a)Qc(i,t,e.child,r);else if(32&a){const l=Wp(e,t);let u;for(;u=l();)r.push(u)}else if(16&a){const l=cC(t,e);if(Array.isArray(l))r.push(...l);else{const u=hd(t[16]);Qc(u[1],u,l,r,!0)}}e=o?e.projectionNext:e.next}return r}class pd{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Qc(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Co(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Kp(t,r),Oc(e,r))}this._attachedToViewContainer=!1}iC(this._lView[1],this._lView)}onDestroy(t){!function jC(i,t,e,r){const o=iy(t);null===e?o.push(r):(o.push(e),i.firstCreatePass&&ny(i).push(r,o.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Sg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Kc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CI(i,t){fd(i,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=t}}class VR extends pd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Kc(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class xg extends ru{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=qe(t);return new gd(e,this.ngModule)}}function sy(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class $R{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const o=this.injector.get(t,kp,r);return o!==kp||e===kp?o:this.parentInjector.get(t,e,r)}}class gd extends L0{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function HI(i){return i.map(VI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return sy(this.componentDef.inputs)}get outputs(){return sy(this.componentDef.outputs)}create(t,e,r,o){let s=(o=o||this.ngModule)instanceof Ya?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new $R(t,s):t,l=a.get(H0,null);if(null===l)throw new Ge(407,!1);const u=a.get(LO,null),d=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?function CR(i,t,e){return i.selectRootElement(t,e===$e.ShadowDom)}(d,r,this.componentDef.encapsulation):qp(l.createRenderer(null,this.componentDef),p,function HR(i){const t=i.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),E=this.componentDef.onPush?288:272,P=yg(0,null,null,1,0,null,null,null,null,null),H=jc(null,P,null,E,null,null,l,d,u,a,null);let U,X;rp(H);try{const J=function zR(i,t,e,r,o,s){const a=e[1];e[22]=i;const u=du(a,22,2,"#host",null),d=u.mergedAttrs=t.hostAttrs;null!==d&&(Xc(u,d,!0),null!==i&&(Ec(o,i,d),null!==u.classes&&eg(o,i,u.classes),null!==u.styles&&pC(o,i,u.styles)));const p=r.createRenderer(i,t),m=jc(e,GC(t),null,t.onPush?32:16,e[22],u,r,p,s||null,null,null);return a.firstCreatePass&&(xc(qu(u,e),a,t.type),ZC(a,u),JC(u,e.length,1)),qc(e,m),e[22]=m}(m,this.componentDef,H,l,d);if(m)if(r)Ec(d,m,["ng-version",VO.full]);else{const{attrs:te,classes:ne}=function $I(i){const t=[],e=[];let r=1,o=2;for(;r<i.length;){let s=i[r];if("string"==typeof s)2===o?""!==s&&t.push(s,i[++r]):8===o&&e.push(s);else{if(!Os(o))break;o=s}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);te&&Ec(d,m,te),ne&&ne.length>0&&eg(d,m,ne.join(" "))}if(X=Qf(P,22),void 0!==e){const te=X.projection=[];for(let ne=0;ne<this.ngContentSelectors.length;ne++){const De=e[ne];te.push(null!=De?Array.from(De):null)}}U=function WR(i,t,e,r){const o=e[1],s=function ER(i,t,e){const r=Cr();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),ey(i,r,t,cu(i,t,1,null),e),qC(i,r));const o=Ku(t,i,r.directiveStart,r);ro(o,t);const s=gs(r,t);return s&&ro(s,t),o}(o,e,t);if(i[8]=e[8]=s,null!==r)for(const l of r)l(s,t);if(t.contentQueries){const l=Cr();t.contentQueries(1,s,l.directiveStart)}const a=Cr();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Wa(a.index),XC(e[1],a,0,a.directiveStart,a.directiveEnd,t),QC(t,s)),s}(J,this.componentDef,H,[GR]),vg(P,H,null)}finally{op()}return new UR(this.componentType,U,ou(X,H),H,X)}}class UR extends class RO{}{constructor(t,e,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new VR(o),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){const s=this._rootLView;Tg(s[1],s,o,t,e),KC(s,this._tNode.index)}}get injector(){return new ql(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function GR(){const i=Cr();yc(et()[1],i)}function fn(i){let t=function ay(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const r=[i];for(;t;){let o;if(yo(i))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ge(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);const a=i;a.inputs=Ag(i.inputs),a.declaredInputs=Ag(i.declaredInputs),a.outputs=Ag(i.outputs);const l=o.hostBindings;l&&KR(i,l);const u=o.viewQuery,d=o.contentQueries;if(u&&YR(i,u),d&&qR(i,d),ue(i.inputs,o.inputs),ue(i.declaredInputs,o.declaredInputs),ue(i.outputs,o.outputs),yo(o)&&o.data.animation){const p=i.data;p.animation=(p.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(i),l===fn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function jR(i){let t=0,e=null;for(let r=i.length-1;r>=0;r--){const o=i[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Sc(o.hostAttrs,e=Sc(e,o.hostAttrs))}}(r)}function Ag(i){return i===ai?{}:i===pt?[]:i}function YR(i,t){const e=i.viewQuery;i.viewQuery=e?(r,o)=>{t(r,o),e(r,o)}:t}function qR(i,t){const e=i.contentQueries;i.contentQueries=e?(r,o,s)=>{t(r,o,s),e(r,o,s)}:t}function KR(i,t){const e=i.hostBindings;i.hostBindings=e?(r,o)=>{t(r,o),e(r,o)}:t}function oo(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Rs(i,t,e,r){const o=et();return oo(o,Gl(),t)&&(Qi(),qs(Qn(),o,i,t,e,r)),Rs}function fu(i,t,e,r){return oo(i,Gl(),e)?t+Je(e)+r:Ci}function ba(i,t,e){const r=et();return oo(r,Gl(),t)&&es(Qi(),Qn(),r,i,t,r[11],e,!1),ba}function Ig(i,t,e,r,o){const a=o?"class":"style";Tg(i,e,t.inputs[a],a,r)}function br(i,t,e,r){const o=et(),s=Qi(),a=22+i,l=o[11],u=o[a]=qp(l,t,function lA(){return mi.lFrame.currentNamespace}()),d=s.firstCreatePass?function aM(i,t,e,r,o,s,a){const l=t.consts,d=du(t,i,2,o,za(l,s));return function wg(i,t,e,r){let o=!1;if(I_()){const s=function xR(i,t,e){const r=i.directiveRegistry;let o=null;if(r)for(let s=0;s<r.length;s++){const a=r[s];_C(e,a.selectors,!1)&&(o||(o=[]),xc(qu(e,t),i,a.type),yo(a)?(ZC(i,e),o.unshift(a)):o.push(a))}return o}(i,t,e),a=null===r?null:{"":-1};if(null!==s){o=!0,JC(e,i.data.length,s.length);for(let p=0;p<s.length;p++){const m=s[p];m.providersResolver&&m.providersResolver(m)}let l=!1,u=!1,d=cu(i,t,s.length,null);for(let p=0;p<s.length;p++){const m=s[p];e.mergedAttrs=Sc(e.mergedAttrs,m.hostAttrs),ey(i,e,t,d,m),OR(d,m,a),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const E=m.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),l=!0),!u&&(E.ngOnChanges||E.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),u=!0),d++}qC(i,e)}a&&function AR(i,t,e){if(t){const r=i.localNames=[];for(let o=0;o<t.length;o+=2){const s=e[t[o+1]];if(null==s)throw new Ge(-301,!1);r.push(t[o],s)}}}(e,r,a)}return e.mergedAttrs=Sc(e.mergedAttrs,e.attrs),o}(t,e,d,za(l,a)),null!==d.attrs&&Xc(d,d.attrs,!1),null!==d.mergedAttrs&&Xc(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(a,s,o,0,t,e,r):s.data[a];js(d,!0);const p=d.mergedAttrs;null!==p&&Ec(l,u,p);const m=d.classes;null!==m&&eg(l,u,m);const E=d.styles;return null!==E&&pC(l,u,E),64!=(64&d.flags)&&$c(s,o,u,d),0===function Wx(){return mi.lFrame.elementDepthCount}()&&ro(u,o),function Gx(){mi.lFrame.elementDepthCount++}(),fa(d)&&(function _g(i,t,e){!I_()||(function DR(i,t,e,r){const o=e.directiveStart,s=e.directiveEnd;i.firstCreatePass||qu(e,t),ro(r,t);const a=e.initialInputs;for(let l=o;l<s;l++){const u=i.data[l],d=yo(u);d&&IR(t,e,u);const p=Ku(t,i,l,e);ro(p,t),null!==a&&RR(0,l-o,p,u,0,a),d&&(Xo(e.index,t)[8]=p)}}(i,t,e,gs(e,t)),128==(128&e.flags)&&function TR(i,t,e){const r=e.directiveStart,o=e.directiveEnd,s=e.index,a=function eA(){return mi.lFrame.currentDirectiveIndex}();try{Wa(s);for(let l=r;l<o;l++){const u=i.data[l],d=t[l];tp(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&QC(u,d)}}finally{Wa(-1),tp(a)}}(i,t,e))}(s,o,d),function WC(i,t,e){if(zl(t)){const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=i.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}(s,d,o)),null!==r&&function Cg(i,t,e=gs){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],l=-1===a?e(t,i):i[a];i[o++]=l}}}(o,d),br}function cr(){let i=Cr();Jf()?function ep(){mi.lFrame.isParent=!1}():(i=i.parent,js(i,!1));const t=i;!function jx(){mi.lFrame.elementDepthCount--}();const e=Qi();return e.firstCreatePass&&(yc(e,i),zl(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function fA(i){return 0!=(16&i.flags)}(t)&&Ig(e,t,et(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function pA(i){return 0!=(32&i.flags)}(t)&&Ig(e,t,et(),t.stylesWithoutHost,!1),cr}function Cl(i,t,e,r){return br(i,t,e,r),cr(),Cl}function _d(i){return!!i&&"function"==typeof i.then}const Pg=function _y(i){return!!i&&"function"==typeof i.subscribe};function Er(i,t,e,r){const o=et(),s=Qi(),a=Cr();return function yy(i,t,e,r,o,s,a,l){const u=fa(r),p=i.firstCreatePass&&ny(i),m=t[8],E=iy(t);let P=!0;if(3&r.type||l){const X=gs(r,t),J=l?l(X):X,te=E.length,ne=l?xe=>l(ur(xe[r.index])):r.index;let De=null;if(!l&&u&&(De=function dM(i,t,e,r){const o=i.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const a=o[s];if(a===e&&o[s+1]===r){const l=t[7],u=o[s+2];return l.length>u?l[u]:null}"string"==typeof a&&(s+=2)}return null}(i,t,o,r.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=s,De.__ngLastListenerFn__=s,P=!1;else{s=by(r,t,m,s,!1);const xe=e.listen(J,o,s);E.push(s,xe),p&&p.push(o,ne,te,te+1)}}else s=by(r,t,m,s,!1);const H=r.outputs;let U;if(P&&null!==H&&(U=H[o])){const X=U.length;if(X)for(let J=0;J<X;J+=2){const Ue=t[U[J]][U[J+1]].subscribe(s),ot=E.length;E.push(s,Ue),p&&p.push(o,r.index,ot,-(ot+1))}}}(s,o,o[11],a,i,t,0,r),Er}function wy(i,t,e,r){try{return!1!==e(r)}catch(o){return oy(i,o),!1}}function by(i,t,e,r,o){return function s(a){if(a===Function)return r;Sg(2&i.flags?Xo(i.index,t):t);let u=wy(t,0,r,a),d=s.__ngNextListenerFn__;for(;d;)u=wy(t,0,d,a)&&u,d=d.__ngNextListenerFn__;return o&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function eh(i,t,e,r,o){const s=et(),a=fu(s,t,e,r);return a!==Ci&&es(Qi(),Qn(),s,i,a,s[11],o,!1),eh}function My(i,t,e,r,o){const s=i[e+1],a=null===t;let l=r?Is(s):ya(s),u=!1;for(;0!==l&&(!1===u||a);){const p=i[l+1];vM(i[l],t)&&(u=!0,i[l+1]=r?lg(p):sg(p)),l=r?Is(p):ya(p)}u&&(i[e+1]=r?sg(s):lg(s))}function vM(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&Jl(i,t)>=0}function ih(i,t){return function Ms(i,t,e,r){const o=et(),s=Qi(),a=function ga(i){const t=mi.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}(2);s.firstUpdatePass&&function By(i,t,e,r){const o=i.data;if(null===o[e+1]){const s=o[bo()],a=function $y(i,t){return t>=i.expandoStartIndex}(i,e);(function Gy(i,t){return 0!=(i.flags&(t?16:32))})(s,r)&&null===t&&!a&&(t=!1),t=function TM(i,t,e,r){const o=function ip(i){const t=mi.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}(i);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(e=Cd(e=kg(null,i,t,e,r),t.attrs,r),s=null);else{const a=t.directiveStylingLast;if(-1===a||i[a]!==o)if(e=kg(o,i,t,e,r),null===s){let u=function xM(i,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ya(r))return i[Is(r)]}(i,t,r);void 0!==u&&Array.isArray(u)&&(u=kg(null,i,t,u[1],r),u=Cd(u,t.attrs,r),function AM(i,t,e,r){i[Is(e?t.classBindings:t.styleBindings)]=r}(i,t,r,u))}else s=function OM(i,t,e){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Cd(r,i[s].hostAttrs,e);return Cd(r,t.attrs,e)}(i,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(o,s,t,r),function gM(i,t,e,r,o,s){let a=s?t.classBindings:t.styleBindings,l=Is(a),u=ya(a);i[r]=e;let p,d=!1;if(Array.isArray(e)){const m=e;p=m[1],(null===p||Jl(m,p)>0)&&(d=!0)}else p=e;if(o)if(0!==u){const E=Is(i[l+1]);i[r+1]=zc(E,l),0!==E&&(i[E+1]=ag(i[E+1],r)),i[l+1]=function oR(i,t){return 131071&i|t<<17}(i[l+1],r)}else i[r+1]=zc(l,0),0!==l&&(i[l+1]=ag(i[l+1],r)),l=r;else i[r+1]=zc(u,0),0===l?l=r:i[u+1]=ag(i[u+1],r),u=r;d&&(i[r+1]=sg(i[r+1])),My(i,p,r,!0),My(i,p,r,!1),function mM(i,t,e,r,o){const s=o?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof t&&Jl(s,t)>=0&&(e[r+1]=lg(e[r+1]))}(t,p,i,r,s),a=zc(l,u),s?t.classBindings=a:t.styleBindings=a}(o,s,t,e,a,r)}}(s,i,a,r),t!==Ci&&oo(o,a,t)&&function zy(i,t,e,r,o,s,a,l){if(!(3&t.type))return;const u=i.data,d=u[l+1];nh(function kC(i){return 1==(1&i)}(d)?Wy(u,t,e,o,ya(d),a):void 0)||(nh(s)||function PC(i){return 2==(2&i)}(d)&&(s=Wy(u,null,e,o,l,a)),function OI(i,t,e,r,o){if(t)o?i.addClass(e,r):i.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:No.DashCase;null==o?i.removeStyle(e,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=No.Important),i.setStyle(e,r,o,s))}}(r,a,_c(bo(),e),o,s))}(s,s.data[bo()],o,o[11],i,o[a+1]=function MM(i,t){return null==i||("string"==typeof t?i+=t:"object"==typeof i&&(i=re(function ja(i){return i instanceof class y0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?i.changingThisBreaksApplicationSecurity:i}(i)))),i}(t,e),r,a)}(i,t,null,!0),ih}function kg(i,t,e,r,o){let s=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(s=t[l],r=Cd(r,s.hostAttrs,o),s!==i);)l++;return null!==i&&(e.directiveStylingLast=l),r}function Cd(i,t,e){const r=e?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:o===r&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Zo(i,a,!!e||t[++s]))}return void 0===i?null:i}function Wy(i,t,e,r,o,s){const a=null===t;let l;for(;o>0;){const u=i[o],d=Array.isArray(u),p=d?u[1]:u,m=null===p;let E=e[o+1];E===Ci&&(E=m?pt:void 0);let P=m?pp(E,r):p===r?E:void 0;if(d&&!nh(P)&&(P=pp(u,r)),nh(P)&&(l=P,a))return l;const H=i[o+1];o=a?Is(H):ya(H)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(l=pp(u,r))}return l}function nh(i){return void 0!==i}function Zs(i,t=""){const e=et(),r=Qi(),o=i+22,s=r.firstCreatePass?du(r,o,1,t,null):r.data[o],a=e[o]=function Yp(i,t){return i.createText(t)}(e[11],t);$c(r,e,a,s),js(s,!1)}function yl(i){return Fg("",i,""),yl}function Fg(i,t,e){const r=et(),o=fu(r,i,t,e);return o!==Ci&&function wa(i,t,e){const r=_c(t,i);!function eC(i,t,e){i.setValue(t,e)}(i[11],r,e)}(r,bo(),o),Fg}const Eu="en-US";let fw=Eu;function Vg(i,t,e,r,o){if(i=Ye(i),Array.isArray(i))for(let s=0;s<i.length;s++)Vg(i[s],t,e,r,o);else{const s=Qi(),a=et();let l=gl(i)?i:Ye(i.provide),u=N0(i);const d=Cr(),p=1048575&d.providerIndexes,m=d.directiveStart,E=d.providerIndexes>>20;if(gl(i)||!i.multi){const P=new ju(u,o,Xe),H=$g(l,t,o?p:p+E,m);-1===H?(xc(qu(d,a),s,l),Hg(s,i,t.length),t.push(l),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(P),a.push(P)):(e[H]=P,a[H]=P)}else{const P=$g(l,t,p+E,m),H=$g(l,t,p,p+E),U=P>=0&&e[P],X=H>=0&&e[H];if(o&&!X||!o&&!U){xc(qu(d,a),s,l);const J=function XP(i,t,e,r,o){const s=new ju(i,e,Xe);return s.multi=[],s.index=t,s.componentProviders=0,Vw(s,o,r&&!e),s}(o?KP:qP,e.length,o,r,u);!o&&X&&(e[H].providerFactory=J),Hg(s,i,t.length,0),t.push(l),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(J),a.push(J)}else Hg(s,i,P>-1?P:H,Vw(e[o?H:P],u,!o&&r));!o&&r&&X&&e[H].componentProviders++}}}function Hg(i,t,e,r){const o=gl(t),s=function EO(i){return!!i.useClass}(t);if(o||s){const u=(s?Ye(t.useClass):t).prototype.ngOnDestroy;if(u){const d=i.destroyHooks||(i.destroyHooks=[]);if(!o&&t.multi){const p=d.indexOf(e);-1===p?d.push(e,[r,u]):d[p+1].push(r,u)}else d.push(e,u)}}}function Vw(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function $g(i,t,e,r){for(let o=e;o<r;o++)if(t[o]===i)return o;return-1}function qP(i,t,e,r){return Bg(this.multi,[])}function KP(i,t,e,r){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Ku(e,e[1],this.providerFactory.index,r);s=l.slice(0,a),Bg(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Bg(o,s);return s}function Bg(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function kn(i,t=[]){return e=>{e.providersResolver=(r,o)=>function YP(i,t,e){const r=Qi();if(r.firstCreatePass){const o=yo(i);Vg(e,r.data,r.blueprint,o,!0),Vg(t,r.data,r.blueprint,o,!1)}}(r,o?o(i):i,t)}}class bl{}class Hw{}class $w extends bl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xg(this);const r=kt(t);this._bootstrapComponents=Ca(r.bootstrap),this._r3Injector=DC(t,e,[{provide:bl,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],re(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ug extends Hw{constructor(t){super(),this.moduleType=t}create(t){return new $w(this.moduleType,t)}}class ZP extends bl{constructor(t,e,r){super(),this.componentFactoryResolver=new xg(this),this.instance=null;const o=new F0([...t,{provide:bl,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],e||Vc(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function lh(i,t,e=null){return new ZP(i,t,e).injector}let JP=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=R0(0,e.type),o=r.length>0?lh([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=oe({token:i,providedIn:"environment",factory:()=>new i(Vt(Ya))}),i})();function Bw(i){i.getStandaloneInjector=t=>t.get(JP).getOrCreateStandaloneInjector(i)}function Wg(i){return t=>{setTimeout(i,void 0,t)}}const _n=class Dk extends Mi{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let o=t,s=e||(()=>null),a=r;if(t&&"object"==typeof t){const u=t;o=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=Wg(s),o&&(o=Wg(o)),a&&(a=Wg(a)));const l=super.subscribe({next:o,error:s,complete:a});return t instanceof V&&t.add(l),l}};let ks=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ik,i})();function Ik(){return function tb(i,t){let e;const r=t[i.index];if(Co(r))e=r;else{let o;if(8&i.type)o=ur(r);else{const s=t[11];o=s.createComment("");const a=gs(i,t);ml(s,Hc(s,a),o,function TI(i,t){return i.nextSibling(t)}(s,a),!1)}t[i.index]=e=function ty(i,t,e,r){return new Array(i,!0,!1,t,null,0,r,e,null,null)}(r,t,o,i),qc(t,e)}return new Jw(e,i,t)}(Cr(),et())}const Rk=ks,Jw=class extends Rk{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new ql(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tc(this._hostTNode,this._hostLView);if(G_(t)){const e=Yl(t,this._hostLView),r=jl(t);return new ql(e[1].data[r+8],e)}return new ql(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=eb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedView(e||{},s);return this.insert(a,o),a}createComponent(t,e,r,o,s){const a=t&&!function Zu(i){return"function"==typeof i}(t);let l;if(a)l=e;else{const m=e||{};l=m.index,r=m.injector,o=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=a?t:new gd(qe(t)),d=r||this.parentInjector;if(!s&&null==u.ngModule){const E=(a?d:this.parentInjector).get(Ya,null);E&&(s=E)}const p=u.create(d,o,void 0,s);return this.insert(p.hostView,l),p}insert(t,e){const r=t._lView,o=r[1];if(function zx(i){return Co(i[3])}(r)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const m=r[3],E=new Jw(m,m[6],m[3]);E.detach(E.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function wI(i,t,e,r){const o=10+r,s=e.length;r>0&&(e[o-1][4]=t),r<s-10?(t[4]=e[o],n0(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function bI(i,t){const e=i[9];t[16]!==t[3][3][16]&&(i[2]=!0),null===e?i[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(i),t[2]|=64}(o,r,a,s);const l=Zp(s,a),u=r[11],d=Hc(u,a[7]);return null!==d&&function _I(i,t,e,r,o,s){r[0]=o,r[6]=t,fd(i,r,e,1,o,s)}(o,a[6],u,r,d,l),t.attachToViewContainerRef(),n0(jg(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=eb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Kp(this._lContainer,e);r&&(Oc(jg(this._lContainer),e),iC(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Kp(this._lContainer,e);return r&&null!=Oc(jg(this._lContainer),e)?new pd(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function eb(i){return i[8]}function jg(i){return i[8]||(i[8]=[])}function ch(...i){}const hh=new oi("Application Initializer");let fh=(()=>{class i{constructor(e){this.appInits=e,this.resolve=ch,this.reject=ch,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const s=this.appInits[o]();if(_d(s))e.push(s);else if(Pg(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});e.push(a)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(Vt(hh,8))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ad=new oi("AppId",{providedIn:"root",factory:function Db(){return`${om()}${om()}${om()}`}});function om(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tb=new oi("Platform Initializer"),xb=new oi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ab=new oi("appBootstrapListener");let aF=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Sa=new oi("LocaleId",{providedIn:"root",factory:()=>rr(Sa,C.Optional|C.SkipSelf)||function lF(){return typeof $localize<"u"&&$localize.locale||Eu}()});class dF{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let sm=(()=>{class i{compileModuleSync(e){return new Ug(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Ca(kt(e).declarations).reduce((a,l)=>{const u=qe(l);return u&&a.push(new gd(u)),a},[]);return new dF(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fF=(()=>Promise.resolve(0))();function am(i){typeof Zone>"u"?fF.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Dr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _n(!1),this.onMicrotaskEmpty=new _n(!1),this.onStable=new _n(!1),this.onError=new _n(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const o=this;if(o._nesting=0,o._outer=o._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;o._inner=o._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function pF(){let i=ve.requestAnimationFrame,t=ve.cancelAnimationFrame;if(typeof Zone<"u"&&i&&t){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function vF(i){const t=()=>{!function mF(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ve,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,um(i),i.isCheckStableRunning=!0,lm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),um(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,s,a,l)=>{try{return Rb(i),e.invokeTask(o,s,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&t(),Mb(i)}},onInvoke:(e,r,o,s,a,l,u)=>{try{return Rb(i),e.invoke(o,s,a,l,u)}finally{i.shouldCoalesceRunChangeDetection&&t(),Mb(i)}},onHasTask:(e,r,o,s)=>{e.hasTask(o,s),r===o&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,um(i),lm(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,o,s)=>(e.handleError(o,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dr.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(Dr.isInAngularZone())throw new Ge(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+o,t,gF,ch,ch);try{return s.runTask(a,e,r)}finally{s.cancelTask(a)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const gF={};function lm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function um(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Rb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Mb(i){i._nesting--,lm(i)}class _F{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _n,this.onMicrotaskEmpty=new _n,this.onStable=new _n,this.onError=new _n}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}}const Pb=new oi(""),gh=new oi("");let hm,dm=(()=>{class i{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hm||(function CF(i){hm=i}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dr.assertNotInAngularZone(),am(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())am(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return i.\u0275fac=function(e){return new(e||i)(Vt(Dr),Vt(cm),Vt(gh))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),cm=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return hm?.findTestabilityInTree(this,e,r)??null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Xa=null;const kb=new oi("AllowMultipleToken"),fm=new oi("PlatformDestroyListeners");class Fb{constructor(t,e){this.name=t,this.token=e}}function Lb(i,t,e=[]){const r=`Platform: ${t}`,o=new oi(r);return(s=[])=>{let a=pm();if(!a||a.injector.get(kb,!1)){const l=[...e,...s,{provide:o,useValue:!0}];i?i(l):function bF(i){if(Xa&&!Xa.get(kb,!1))throw new Ge(400,!1);Xa=i;const t=i.get(Hb);(function Nb(i){const t=i.get(Tb,null);t&&t.forEach(e=>e())})(i)}(function Vb(i=[],t){return Jo.create({name:t,providers:[{provide:Ip,useValue:"platform"},{provide:fm,useValue:new Set([()=>Xa=null])},...i]})}(l,r))}return function SF(i){const t=pm();if(!t)throw new Ge(401,!1);return t}()}}function pm(){return Xa?.get(Hb)??null}let Hb=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function Bb(i,t){let e;return e="noop"===i?new _F:("zone.js"===i?void 0:i)||new Dr(t),e}(r?.ngZone,function $b(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Dr,useValue:o}];return o.run(()=>{const a=Jo.create({providers:s,parent:this.injector,name:e.moduleType.name}),l=e.create(a),u=l.injector.get(su,null);if(!u)throw new Ge(402,!1);return o.runOutsideAngular(()=>{const d=o.onError.subscribe({next:p=>{u.handleError(p)}});l.onDestroy(()=>{mh(this._modules,l),d.unsubscribe()})}),function Ub(i,t,e){try{const r=e();return _d(r)?r.catch(o=>{throw t.runOutsideAngular(()=>i.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>i.handleError(r)),r}}(u,o,()=>{const d=l.injector.get(fh);return d.runInitializers(),d.donePromise.then(()=>(function pw(i){ir(i,"Expected localeId to be defined"),"string"==typeof i&&(fw=i.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Sa,Eu)||Eu),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,r=[]){const o=zb({},r);return function yF(i,t,e){const r=new Ug(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(e){const r=e.injector.get(El);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Ge(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(fm,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(Vt(Jo))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function zb(i,t){return Array.isArray(t)?t.reduce(zb,i):{...i,...t}}let El=(()=>{class i{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new It(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new It(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Dr.assertNotInAngularZone(),am(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Dr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=function Mo(...i){const t=Yn(i),e=function Gi(i,t){return"number"==typeof Io(i)?i.pop():t}(i,1/0),r=i;return r.length?1===r.length?Vn(r[0]):Ji(e)(si(r,t)):zn}(s,a.pipe(go()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof L0;if(!this._injector.get(fh).done)throw!o&&function $t(i){const t=qe(i)||tt(i)||At(i);return null!==t&&t.standalone}(e),new Ge(405,false);let a;a=o?e:this._injector.get(ru).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const l=function wF(i){return i.isBoundToModule}(a)?void 0:this._injector.get(bl),d=a.create(Jo.NULL,[],r||a.selector,l),p=d.location.nativeElement,m=d.injector.get(Pb,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),mh(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;mh(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ab,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>mh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ge(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(e){return new(e||i)(Vt(Dr),Vt(Ya),Vt(su))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mh(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}let Gb=!0,Od=(()=>{class i{}return i.__NG_ELEMENT_ID__=xF,i})();function xF(i){return function AF(i,t,e){if(ha(i)&&!e){const r=Xo(i.index,t);return new pd(r,r)}return 47&i.type?new pd(t[16],t):null}(Cr(),et(),16==(16&i))}const BF=Lb(null,"core",[]);let UF=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(Vt(El))},i.\u0275mod=W({type:i}),i.\u0275inj=ft({}),i})();let yh=null;function Js(){return yh}const Vo=new oi("DocumentToken");let Cm=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:function(){return function jF(){return Vt(iE)}()},providedIn:"platform"}),i})();const YF=new oi("Location Initialized");let iE=(()=>{class i extends Cm{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Js().getBaseHref(this._doc)}onPopState(e){const r=Js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){nE()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){nE()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(Vt(Vo))},i.\u0275prov=oe({token:i,factory:function(){return function qF(){return new iE(Vt(Vo))}()},providedIn:"platform"}),i})();function nE(){return!!window.history.pushState}function ym(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function rE(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function xa(i){return i&&"?"!==i[0]?"?"+i:i}let Dl=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:function(){return rr(sE)},providedIn:"root"}),i})();const oE=new oi("appBaseHref");let sE=(()=>{class i extends Dl{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rr(Vo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ym(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+xa(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,s){const a=this.prepareExternalUrl(o+xa(s));this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,s){const a=this.prepareExternalUrl(o+xa(s));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(Vt(Cm),Vt(oE,8))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),KF=(()=>{class i extends Dl{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ym(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,s){let a=this.prepareExternalUrl(o+xa(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,s){let a=this.prepareExternalUrl(o+xa(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(Vt(Cm),Vt(oE,8))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),wm=(()=>{class i{constructor(e){this._subject=new _n,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=rE(aE(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+xa(r))}normalize(e){return i.stripTrailingSlash(function QF(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,aE(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xa(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return i.normalizeQueryParams=xa,i.joinWithSlash=ym,i.stripTrailingSlash=rE,i.\u0275fac=function(e){return new(e||i)(Vt(Dl))},i.\u0275prov=oe({token:i,factory:function(){return function XF(){return new wm(Vt(Dl))}()},providedIn:"root"}),i})();function aE(i){return i.replace(/\/index.html$/,"")}let bE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({}),i})();let v1=(()=>{class i{}return i.\u0275prov=oe({token:i,providedIn:"root",factory:()=>new _1(Vt(Vo),window)}),i})();class _1{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function C1(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const r=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const s=o.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=SE(this.window.history)||SE(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function SE(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Lm extends class V1 extends class GF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function WF(i){yh||(yh=i)}(new Lm)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function H1(){return kd=kd||document.querySelector("base"),kd?kd.getAttribute("href"):null}();return null==e?null:function $1(i){Rh=Rh||document.createElement("a"),Rh.setAttribute("href",i);const t=Rh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){kd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function kN(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const r=e.indexOf("="),[o,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Rh,kd=null;const AE=new oi("TRANSITION_ID"),U1=[{provide:hh,useFactory:function B1(i,t,e){return()=>{e.get(fh).donePromise.then(()=>{const r=Js(),o=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<o.length;s++)r.remove(o[s])})}},deps:[AE,Vo,Jo],multi:!0}];let W1=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();const Mh=new oi("EventManagerPlugins");let Ph=(()=>{class i{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let s=0;s<o.length;s++){const a=o[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(Vt(Mh),Vt(Dr))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();class OE{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=Js().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let IE=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),Fd=(()=>{class i extends IE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,o.push(r.appendChild(a))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(RE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(RE))}}return i.\u0275fac=function(e){return new(e||i)(Vt(Vo))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();function RE(i){Js().remove(i)}const Vm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hm=/%COMP%/g;function kh(i,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?kh(i,o,e):(o=o.replace(Hm,i),e.push(o))}return e}function kE(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let $m=(()=>{class i{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Bm(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case $e.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new X1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case $e.ShadowDom:return new Q1(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=kh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(Vt(Ph),Vt(Fd),Vt(Ad))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();class Bm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Vm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(NE(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(NE(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const s=Vm[o];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Vm[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(No.DashCase|No.Important)?t.style.setProperty(e,r,o&No.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&No.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,kE(r)):this.eventManager.addEventListener(t,e,kE(r))}}function NE(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class X1 extends Bm{constructor(t,e,r,o){super(t),this.component=r;const s=kh(o+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function Y1(i){return"_ngcontent-%COMP%".replace(Hm,i)}(o+"-"+r.id),this.hostAttr=function q1(i){return"_nghost-%COMP%".replace(Hm,i)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Q1 extends Bm{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=kh(o.id,o.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Z1=(()=>{class i extends OE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return i.\u0275fac=function(e){return new(e||i)(Vt(Vo))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();const LE=["alt","control","meta","shift"],J1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eL={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let tL=(()=>{class i extends OE{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,r,o){const s=i.parseEventName(r),a=i.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Js().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=i._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),LE.forEach(d=>{const p=r.indexOf(d);p>-1&&(r.splice(p,1),a+=d+".")}),a+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(e,r){let o=J1[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(o=e.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),LE.forEach(a=>{a!==o&&(0,eL[a])(e)&&(s+=a+".")}),s+=o,s===r)}static eventCallback(e,r,o){return s=>{i.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(Vt(Vo))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();const oL=Lb(BF,"browser",[{provide:xb,useValue:"browser"},{provide:Tb,useValue:function iL(){Lm.makeCurrent()},multi:!0},{provide:Vo,useFactory:function rL(){return function KA(i){Cp=i}(document),document},deps:[]}]),$E=new oi(""),BE=[{provide:gh,useClass:class z1{addToWindow(t){ve.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new Error("Could not find testability for element.");return s},ve.getAllAngularTestabilities=()=>t.getAllTestabilities(),ve.getAllAngularRootElements=()=>t.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const o=ve.getAllAngularTestabilities();let s=o.length,a=!1;const l=function(u){a=a||u,s--,0==s&&r(a)};o.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Js().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:Pb,useClass:dm,deps:[Dr,cm,gh]},{provide:dm,useClass:dm,deps:[Dr,cm,gh]}],UE=[{provide:Ip,useValue:"root"},{provide:su,useFactory:function nL(){return new su},deps:[]},{provide:Mh,useClass:Z1,multi:!0,deps:[Vo,Dr,xb]},{provide:Mh,useClass:tL,multi:!0,deps:[Vo]},{provide:$m,useClass:$m,deps:[Ph,Fd,Ad]},{provide:H0,useExisting:$m},{provide:IE,useExisting:Fd},{provide:Fd,useClass:Fd,deps:[Vo]},{provide:Ph,useClass:Ph,deps:[Mh,Dr]},{provide:class y1{},useClass:W1,deps:[]},[]];let sL=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:Ad,useValue:e.appId},{provide:AE,useExisting:Ad},U1]}}}return i.\u0275fac=function(e){return new(e||i)(Vt($E,12))},i.\u0275mod=W({type:i}),i.\u0275inj=ft({providers:[...UE,...BE],imports:[bE,UF]}),i})(),zE=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(Vt(Vo))},i.\u0275prov=oe({token:i,factory:function(e){let r=null;return r=e?new e:function lL(){return new zE(Vt(Vo))}(),r},providedIn:"root"}),i})();typeof window<"u"&&window;const{isArray:mL}=Array,{getPrototypeOf:vL,prototype:_L,keys:CL}=Object;function jE(i){if(1===i.length){const t=i[0];if(mL(t))return{args:t,keys:null};if(function yL(i){return i&&"object"==typeof i&&vL(i)===_L}(t)){const e=CL(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:i,keys:null}}const{isArray:wL}=Array;function YE(i){return Ae(t=>function bL(i,t){return wL(t)?i(...t):i(t)}(i,t))}function qE(i,t){return i.reduce((e,r,o)=>(e[r]=t[o],e),{})}function KE(...i){const t=tr(i),{args:e,keys:r}=jE(i),o=new It(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let u=a,d=a;for(let p=0;p<a;p++){let m=!1;Vn(e[p]).subscribe(Oi(s,E=>{m||(m=!0,d--),l[p]=E},()=>u--,void 0,()=>{(!u||!m)&&(d||s.next(r?qE(r,l):l),s.complete())}))}});return t?o.pipe(YE(t)):o}let XE=(()=>{class i{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(Xe(_a),Xe(Fo))},i.\u0275dir=_e({type:i}),i})(),Tl=(()=>{class i extends XE{}return i.\u0275fac=function(){let t;return function(r){return(t||(t=yr(i)))(r||i)}}(),i.\u0275dir=_e({type:i,features:[fn]}),i})();const ea=new oi("NgValueAccessor"),EL={provide:ea,useExisting:Fe(()=>Wm),multi:!0};let Wm=(()=>{class i extends Tl{writeValue(e){this.setProperty("checked",e)}}return i.\u0275fac=function(){let t;return function(r){return(t||(t=yr(i)))(r||i)}}(),i.\u0275dir=_e({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&Er("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[kn([EL]),fn]}),i})();const SL={provide:ea,useExisting:Fe(()=>Gm),multi:!0},TL=new oi("CompositionEventMode");let Gm=(()=>{class i extends XE{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DL(){const i=Js()?Js().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(Xe(_a),Xe(Fo),Xe(TL,8))},i.\u0275dir=_e({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Er("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[kn([SL]),fn]}),i})();const ao=new oi("NgValidators"),Ja=new oi("NgAsyncValidators");function sS(i){return null!=i}function aS(i){return _d(i)?si(i):i}function lS(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function uS(i,t){return t.map(e=>e(i))}function dS(i){return i.map(t=>function OL(i){return!i.validate}(t)?t:e=>t.validate(e))}function jm(i){return null!=i?function cS(i){if(!i)return null;const t=i.filter(sS);return 0==t.length?null:function(e){return lS(uS(e,t))}}(dS(i)):null}function Ym(i){return null!=i?function hS(i){if(!i)return null;const t=i.filter(sS);return 0==t.length?null:function(e){return KE(uS(e,t).map(aS)).pipe(Ae(lS))}}(dS(i)):null}function fS(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function qm(i){return i?Array.isArray(i)?i:[i]:[]}function Nh(i,t){return Array.isArray(i)?i.includes(t):i===t}function mS(i,t){const e=qm(t);return qm(i).forEach(o=>{Nh(e,o)||e.push(o)}),e}function vS(i,t){return qm(t).filter(e=>!Nh(i,e))}class _S{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ym(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class To extends _S{get formDirective(){return null}get path(){return null}}class el extends _S{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let yS=(()=>{class i extends class CS{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(Xe(el,2))},i.\u0275dir=_e({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ih("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[fn]}),i})();const Nd="VALID",Vh="INVALID",Tu="PENDING",Ld="DISABLED";function bS(i){return Array.isArray(i)?jm(i):i||null}function ES(i){return Array.isArray(i)?Ym(i):i||null}function Hh(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function Vd(i,t){(function tv(i,t){const e=function pS(i){return i._rawValidators}(i);null!==t.validator?i.setValidators(fS(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const r=function gS(i){return i._rawAsyncValidators}(i);null!==t.asyncValidator?i.setAsyncValidators(fS(r,t.asyncValidator)):"function"==typeof r&&i.setAsyncValidators([r]);const o=()=>i.updateValueAndValidity();Uh(t._rawValidators,o),Uh(t._rawAsyncValidators,o)})(i,t),t.valueAccessor.writeValue(i.value),i.disabled&&t.valueAccessor.setDisabledState?.(!0),function HL(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&xS(i,t)})}(i,t),function BL(i,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function $L(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&xS(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function VL(i,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Uh(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function xS(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function RS(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function MS(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const KL={provide:el,useExisting:Fe(()=>ov)},NS=(()=>Promise.resolve())();let ov=(()=>{class i extends el{constructor(e,r,o,s,a){super(),this._changeDetectorRef=a,this.control=new class extends class TS{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=bS(this._rawValidators),this._composedAsyncValidatorFn=ES(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Nd}get invalid(){return this.status===Vh}get pending(){return this.status==Tu}get disabled(){return this.status===Ld}get enabled(){return this.status!==Ld}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=bS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ES(t)}addValidators(t){this.setValidators(mS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vS(t,this._rawAsyncValidators))}hasValidator(t){return Nh(this._rawValidators,t)}hasAsyncValidator(t){return Nh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Tu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ld,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nd,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nd||this.status===Tu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ld:Nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Tu,this._hasOwnPendingAsyncValidator=!0;const e=aS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new _n,this.statusChanges=new _n}_calculateStatus(){return this._allControlsDisabled()?Ld:this.errors?Vh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tu)?Tu:this._anyControlsHaveStatus(Vh)?Vh:Nd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Hh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,r){super(function Zm(i){return(Hh(i)?i.validators:i)||null}(e),function Jm(i,t){return(Hh(t)?t.asyncValidators:i)||null}(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=MS(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){MS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new _n,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function nv(i,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===Gm?e=s:function WL(i){return Object.getPrototypeOf(i.constructor)===Tl}(s)?r=s:o=s}),o||r||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function iv(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){NS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&function Ta(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}(r);NS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function $h(i,t){return[...t.path,i]}(e,this._parent):[e]}}return i.\u0275fac=function(e){return new(e||i)(Xe(To,9),Xe(ao,10),Xe(Ja,10),Xe(ea,10),Xe(Od,8))},i.\u0275dir=_e({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kn([KL]),fn,Nr]}),i})(),VS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({}),i})(),yV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({imports:[VS]}),i})(),wV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({imports:[yV]}),i})();function Ut(...i){return si(i,Yn(i))}class Vs extends Mi{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const $d=T(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function iD(...i){const t=Yn(i),e=tr(i),{args:r,keys:o}=jE(i);if(0===r.length)return si([],t);const s=new It(function EV(i,t,e=_i){return r=>{nD(t,()=>{const{length:o}=i,s=new Array(o);let a=o,l=o;for(let u=0;u<o;u++)nD(t,()=>{const d=si(i[u],t);let p=!1;d.subscribe(Oi(r,m=>{s[u]=m,p||(p=!0,l--),l||r.next(e(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,t,o?a=>qE(o,a):_i));return e?s.pipe(YE(e)):s}function nD(i,t,e){i?er(e,i,t):t()}function Bd(...i){return function SV(){return Ji(1)}()(si(i,Yn(i)))}function Ud(i){return new It(t=>{Vn(i()).subscribe(t)})}function zd(i,t){const e=y(i)?i:()=>i,r=o=>o.error(e());return new It(t?o=>t.schedule(r,0,o):r)}function hv(){return Wi((i,t)=>{let e=null;i._refCount++;const r=Oi(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const o=i._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});i.subscribe(r),r.closed||(e=i.connect())})}class rD extends It{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Lt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new V;const e=this.getSubject();t.add(this.source.subscribe(Oi(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=V.EMPTY)}return t}refCount(){return hv()(this)}}function ts(i,t){return Wi((e,r)=>{let o=null,s=0,a=!1;const l=()=>a&&!o&&r.complete();e.subscribe(Oi(r,u=>{o?.unsubscribe();let d=0;const p=s++;Vn(i(u,p)).subscribe(o=Oi(r,m=>r.next(t?t(u,m,p,d++):m),()=>{o=null,l()}))},()=>{a=!0,l()}))})}function Oa(i){return i<=0?()=>zn:Wi((t,e)=>{let r=0;t.subscribe(Oi(e,o=>{++r<=i&&(e.next(o),i<=r&&e.complete())}))})}function tl(i,t){return Wi((e,r)=>{let o=0;e.subscribe(Oi(r,s=>i.call(t,s,o++)&&r.next(s)))})}function Wh(i){return Wi((t,e)=>{let r=!1;t.subscribe(Oi(e,o=>{r=!0,e.next(o)},()=>{r||e.next(i),e.complete()}))})}function oD(i=TV){return Wi((t,e)=>{let r=!1;t.subscribe(Oi(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(i())))})}function TV(){return new $d}function il(i,t){const e=arguments.length>=2;return r=>r.pipe(i?tl((o,s)=>i(o,s,r)):_i,Oa(1),e?Wh(t):oD(()=>new $d))}function nl(i,t){return y(t)?mn(i,t,1):mn(i,1)}function lo(i,t,e){const r=y(i)||t||e?{next:i,error:t,complete:e}:i;return r?Wi((o,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;o.subscribe(Oi(s,u=>{var d;null===(d=r.next)||void 0===d||d.call(r,u),s.next(u)},()=>{var u;l=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var d;l=!1,null===(d=r.error)||void 0===d||d.call(r,u),s.error(u)},()=>{var u,d;l&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):_i}function rl(i){return Wi((t,e)=>{let s,r=null,o=!1;r=t.subscribe(Oi(e,void 0,void 0,a=>{s=Vn(i(a,rl(i)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(e))})}function xV(i,t,e,r,o){return(s,a)=>{let l=e,u=t,d=0;s.subscribe(Oi(a,p=>{const m=d++;u=l?i(u,p,m):(l=!0,p),r&&a.next(u)},o&&(()=>{l&&a.next(u),a.complete()})))}}function sD(i,t){return Wi(xV(i,t,arguments.length>=2,!0))}function fv(i){return i<=0?()=>zn:Wi((t,e)=>{let r=[];t.subscribe(Oi(e,o=>{r.push(o),i<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function aD(i,t){const e=arguments.length>=2;return r=>r.pipe(i?tl((o,s)=>i(o,s,r)):_i,fv(1),e?Wh(t):oD(()=>new $d))}function pv(i){return Wi((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}const Ni="primary",Wd=Symbol("RouteTitle");class IV{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xu(i){return new IV(i)}function RV(i,t,e){const r=e.path.split("/");if(r.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<i.length))return null;const o={};for(let s=0;s<r.length;s++){const a=r[s],l=i[s];if(a.startsWith(":"))o[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:i.slice(0,r.length),posParams:o}}function ta(i,t){const e=i?Object.keys(i):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!lD(i[o],t[o]))return!1;return!0}function lD(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),r=[...t].sort();return e.every((o,s)=>r[s]===o)}return i===t}function uD(i){return Array.prototype.concat.apply([],i)}function dD(i){return i.length>0?i[i.length-1]:null}function Yr(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function ol(i){return Pg(i)?i:_d(i)?si(Promise.resolve(i)):Ut(i)}const kV={exact:function fD(i,t,e){if(!Ol(i.segments,t.segments)||!Gh(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!i.children[r]||!fD(i.children[r],t.children[r],e))return!1;return!0},subset:pD},cD={exact:function FV(i,t){return ta(i,t)},subset:function NV(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>lD(i[e],t[e]))},ignored:()=>!0};function hD(i,t,e){return kV[e.paths](i.root,t.root,e.matrixParams)&&cD[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function pD(i,t,e){return gD(i,t,t.segments,e)}function gD(i,t,e,r){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!Ol(o,e)||t.hasChildren()||!Gh(o,e,r))}if(i.segments.length===e.length){if(!Ol(i.segments,e)||!Gh(i.segments,e,r))return!1;for(const o in t.children)if(!i.children[o]||!pD(i.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(Ol(i.segments,o)&&Gh(i.segments,o,r)&&i.children[Ni])&&gD(i.children[Ni],t,s,r)}}function Gh(i,t,e){return t.every((r,o)=>cD[e](i[o].parameters,r.parameters))}class Al{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}toString(){return HV.serialize(this)}}class Hi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yr(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}}class Gd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=xu(this.parameters)),this._parameterMap}toString(){return CD(this)}}function Ol(i,t){return i.length===t.length&&i.every((e,r)=>e.path===t[r].path)}let mD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:function(){return new mv},providedIn:"root"}),i})();class mv{parse(t){const e=new qV(t);return new Al(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${jd(t.root,!0)}`,r=function UV(i){const t=Object.keys(i).map(e=>{const r=i[e];return Array.isArray(r)?r.map(o=>`${Yh(e)}=${Yh(o)}`).join("&"):`${Yh(e)}=${Yh(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function $V(i){return encodeURI(i)}(t.fragment)}`:""}`}}const HV=new mv;function jh(i){return i.segments.map(t=>CD(t)).join("/")}function jd(i,t){if(!i.hasChildren())return jh(i);if(t){const e=i.children[Ni]?jd(i.children[Ni],!1):"",r=[];return Yr(i.children,(o,s)=>{s!==Ni&&r.push(`${s}:${jd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function VV(i,t){let e=[];return Yr(i.children,(r,o)=>{o===Ni&&(e=e.concat(t(r,o)))}),Yr(i.children,(r,o)=>{o!==Ni&&(e=e.concat(t(r,o)))}),e}(i,(r,o)=>o===Ni?[jd(i.children[Ni],!1)]:[`${o}:${jd(r,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Ni]?`${jh(i)}/${e[0]}`:`${jh(i)}/(${e.join("//")})`}}function vD(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yh(i){return vD(i).replace(/%3B/gi,";")}function vv(i){return vD(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qh(i){return decodeURIComponent(i)}function _D(i){return qh(i.replace(/\+/g,"%20"))}function CD(i){return`${vv(i.path)}${function BV(i){return Object.keys(i).map(t=>`;${vv(t)}=${vv(i[t])}`).join("")}(i.parameters)}`}const zV=/^[^\/()?;=#]+/;function Kh(i){const t=i.match(zV);return t?t[0]:""}const WV=/^[^=?&#]+/,jV=/^[^&#]+/;class qV{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hi([],{}):new Hi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Ni]=new Hi(t,e)),r}parseSegment(){const t=Kh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ge(4009,!1);return this.capture(t),new Gd(qh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Kh(this.remaining);o&&(r=o,this.capture(r))}t[qh(e)]=qh(r)}parseQueryParam(t){const e=function GV(i){const t=i.match(WV);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=function YV(i){const t=i.match(jV);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const o=_D(e),s=_D(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(s)}else t[o]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kh(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ge(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ni);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Ni]:new Hi([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ge(4011,!1)}}function _v(i){return i.segments.length>0?new Hi([],{[Ni]:i}):i}function Xh(i){const t={};for(const r of Object.keys(i.children)){const s=Xh(i.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function KV(i){if(1===i.numberOfChildren&&i.children[Ni]){const t=i.children[Ni];return new Hi(i.segments.concat(t.segments),t.children)}return i}(new Hi(i.segments,t))}function Il(i){return i instanceof Al}function ZV(i,t,e,r,o){if(0===e.length)return Au(t.root,t.root,t.root,r,o);const s=function bD(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new wD(!0,0,i);let t=0,e=!1;const r=i.reduce((o,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Yr(s.outlets,(u,d)=>{l[d]="string"==typeof u?u.split("/"):u}),[...o,{outlets:l}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===a?(s.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?e=!0:".."===l?t++:""!=l&&o.push(l))}),o):[...o,s]},[]);return new wD(e,t,r)}(e);return s.toRoot()?Au(t.root,t.root,new Hi([],{}),r,o):function a(u){const d=function eH(i,t,e,r){if(i.isAbsolute)return new Ou(t.root,!0,0);if(-1===r)return new Ou(e,e===t.root,0);return function ED(i,t,e){let r=i,o=t,s=e;for(;s>o;){if(s-=o,r=r.parent,!r)throw new Ge(4005,!1);o=r.segments.length}return new Ou(r,!1,o-s)}(e,r+(Yd(i.commands[0])?0:1),i.numberOfDoubleDots)}(s,t,i.snapshot?._urlSegment,u),p=d.processChildren?Kd(d.segmentGroup,d.index,s.commands):yv(d.segmentGroup,d.index,s.commands);return Au(t.root,d.segmentGroup,p,r,o)}(i.snapshot?._lastPathIndex)}function Yd(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function qd(i){return"object"==typeof i&&null!=i&&i.outlets}function Au(i,t,e,r,o){let a,s={};r&&Yr(r,(u,d)=>{s[d]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),a=i===t?e:yD(i,t,e);const l=_v(Xh(a));return new Al(l,s,o)}function yD(i,t,e){const r={};return Yr(i.children,(o,s)=>{r[s]=o===t?e:yD(o,t,e)}),new Hi(i.segments,r)}class wD{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Yd(r[0]))throw new Ge(4003,!1);const o=r.find(qd);if(o&&o!==dD(r))throw new Ge(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ou{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function yv(i,t,e){if(i||(i=new Hi([],{})),0===i.segments.length&&i.hasChildren())return Kd(i,t,e);const r=function iH(i,t,e){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(r>=e.length)return s;const a=i.segments[o],l=e[r];if(qd(l))break;const u=`${l}`,d=r<e.length-1?e[r+1]:null;if(o>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!DD(u,d,a))return s;r+=2}else{if(!DD(u,{},a))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(i,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){const s=new Hi(i.segments.slice(0,r.pathIndex),{});return s.children[Ni]=new Hi(i.segments.slice(r.pathIndex),i.children),Kd(s,0,o)}return r.match&&0===o.length?new Hi(i.segments,{}):r.match&&!i.hasChildren()?wv(i,t,e):r.match?Kd(i,0,o):wv(i,t,e)}function Kd(i,t,e){if(0===e.length)return new Hi(i.segments,{});{const r=function tH(i){return qd(i[0])?i[0].outlets:{[Ni]:i}}(e),o={};return Yr(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[a]=yv(i.children[a],t,s))}),Yr(i.children,(s,a)=>{void 0===r[a]&&(o[a]=s)}),new Hi(i.segments,o)}}function wv(i,t,e){const r=i.segments.slice(0,t);let o=0;for(;o<e.length;){const s=e[o];if(qd(s)){const u=nH(s.outlets);return new Hi(r,u)}if(0===o&&Yd(e[0])){r.push(new Gd(i.segments[t].path,SD(e[0]))),o++;continue}const a=qd(s)?s.outlets[Ni]:`${s}`,l=o<e.length-1?e[o+1]:null;a&&l&&Yd(l)?(r.push(new Gd(a,SD(l))),o+=2):(r.push(new Gd(a,{})),o++)}return new Hi(r,{})}function nH(i){const t={};return Yr(i,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=wv(new Hi([],{}),0,e))}),t}function SD(i){const t={};return Yr(i,(e,r)=>t[r]=`${e}`),t}function DD(i,t,e){return i==e.path&&ta(t,e.parameters)}class Ia{constructor(t,e){this.id=t,this.url=e}}class bv extends Ia{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rl extends Ia{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qh extends Ia{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TD extends Ia{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rH extends Ia{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oH extends Ia{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sH extends Ia{constructor(t,e,r,o,s){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aH extends Ia{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lH extends Ia{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xD{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ev(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ev(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Sv(t,this._root).map(e=>e.value)}}function Ev(i,t){if(i===t.value)return t;for(const e of t.children){const r=Ev(i,e);if(r)return r}return null}function Sv(i,t){if(i===t.value)return[t];for(const e of t.children){const r=Sv(i,e);if(r.length)return r.unshift(t),r}return[]}class Ra{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Iu(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class OD extends AD{constructor(t,e){super(t),this.snapshot=e,Dv(this,t)}toString(){return this.snapshot.toString()}}function ID(i,t){const e=function mH(i,t){const a=new Zh([],{},{},"",{},Ni,t,null,i.root,-1,{});return new MD("",new Ra(a,[]))}(i,t),r=new Vs([new Gd("",{})]),o=new Vs({}),s=new Vs({}),a=new Vs({}),l=new Vs(""),u=new Ml(r,o,a,l,s,Ni,t,e.root);return u.snapshot=e.root,new OD(new Ra(u,[]),e)}class Ml{constructor(t,e,r,o,s,a,l,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.pipe(Ae(d=>d[Wd]))??Ut(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(t=>xu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(t=>xu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RD(i,t="emptyOnly"){const e=i.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],s=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function vH(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Zh{constructor(t,e,r,o,s,a,l,u,d,p,m,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.[Wd],this.routeConfig=u,this._urlSegment=d,this._lastPathIndex=p,this._correctedLastPathIndex=E??p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MD extends AD{constructor(t,e){super(e),this.url=t,Dv(this,e)}toString(){return PD(this._root)}}function Dv(i,t){t.value._routerState=i,t.children.forEach(e=>Dv(i,e))}function PD(i){const t=i.children.length>0?` { ${i.children.map(PD).join(", ")} } `:"";return`${i.value}${t}`}function Tv(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ta(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),ta(t.params,e.params)||i.params.next(e.params),function MV(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ta(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),ta(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function xv(i,t){const e=ta(i.params,t.params)&&function LV(i,t){return Ol(i,t)&&i.every((e,r)=>ta(e.parameters,t[r].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||xv(i.parent,t.parent))}function Xd(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function CH(i,t,e){return t.children.map(r=>{for(const o of e.children)if(i.shouldReuseRoute(r.value,o.value.snapshot))return Xd(i,r,o);return Xd(i,r)})}(i,t,e);return new Ra(r,o)}{if(i.shouldAttach(t.value)){const s=i.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>Xd(i,l)),a}}const r=function yH(i){return new Ml(new Vs(i.url),new Vs(i.params),new Vs(i.queryParams),new Vs(i.fragment),new Vs(i.data),i.outlet,i.component,i)}(t.value),o=t.children.map(s=>Xd(i,s));return new Ra(r,o)}}const Av="ngNavigationCancelingError";function kD(i,t){const{redirectTo:e,navigationBehaviorOptions:r}=Il(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=FD(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function FD(i,t,e){const r=new Error("NavigationCancelingError: "+(i||""));return r[Av]=!0,r.cancellationCode=t,e&&(r.url=e),r}function ND(i){return LD(i)&&Il(i.url)}function LD(i){return i&&i[Av]}class wH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qd,this.attachRef=null}}let Qd=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new wH,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Jh=!1;let VD=(()=>{class i{constructor(e,r,o,s,a){this.parentContexts=e,this.location=r,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new _n,this.deactivateEvents=new _n,this.attachEvents=new _n,this.detachEvents=new _n,this.name=o||Ni,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ge(4012,Jh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ge(4012,Jh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ge(4012,Jh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ge(4013,Jh);this._activatedRoute=e;const o=this.location,a=e._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new bH(e,l,o.injector);if(r&&function EH(i){return!!i.resolveComponentFactory}(r)){const d=r.resolveComponentFactory(a);this.activated=o.createComponent(d,o.length,u)}else this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(Xe(Qd),Xe(ks),function Xu(i){return function _A(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const s=e[o];if(U_(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(s===t)return e[o+1];o+=2}}}return null}(Cr(),i)}("name"),Xe(Od),Xe(Ya))},i.\u0275dir=_e({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),i})();class bH{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ml?this.route:t===Qd?this.childContexts:this.parent.get(t,e)}}let Ov=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Nt({type:i,selectors:[["ng-component"]],standalone:!0,features:[Bw],decls:1,vars:0,template:function(e,r){1&e&&Cl(0,"router-outlet")},dependencies:[VD],encapsulation:2}),i})();function HD(i,t){return i.providers&&!i._injector&&(i._injector=lh(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Rv(i){const t=i.children&&i.children.map(Rv),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ni&&(e.component=Ov),e}function Cs(i){return i.outlet||Ni}function $D(i,t){const e=i.filter(r=>Cs(r)===t);return e.push(...i.filter(r=>Cs(r)!==t)),e}function Zd(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class AH{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Tv(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Iu(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,o[a],r),delete o[a]}),Yr(o,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const o=t.value,s=e?e.value:null;if(o===s)if(o.component){const a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,s=Iu(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,s=Iu(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Iu(e);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new pH(s.value.snapshot))}),t.children.length&&this.forwardEvent(new hH(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,s=e?e.value:null;if(Tv(o),o===s)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Tv(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=Zd(o.snapshot),u=l?.get(ru)??null;a.attachRef=null,a.route=o,a.resolver=u,a.injector=l,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class BD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ef{constructor(t,e){this.component=t,this.route=e}}function OH(i,t,e){const r=i._root;return Jd(r,t?t._root:null,e,[r.value])}function Ru(i,t){const e=Symbol(),r=t.get(i,e);return r===e?"function"!=typeof i||function Kn(i){return null!==Ei(i)}(i)?t.get(i):i:r}function Jd(i,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Iu(t);return i.children.forEach(a=>{(function RH(i,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,a=t?t.value:null,l=e?e.getContext(i.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function MH(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Ol(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Ol(i.url,t.url)||!ta(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(i,t)||!ta(i.queryParams,t.queryParams);default:return!xv(i,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new BD(r)):(s.data=a.data,s._resolvedData=a._resolvedData),Jd(i,t,s.component?l?l.children:null:e,r,o),u&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new ef(l.outlet.component,a))}else a&&ec(t,l,o),o.canActivateChecks.push(new BD(r)),Jd(i,null,s.component?l?l.children:null:e,r,o)})(a,s[a.value.outlet],e,r.concat([a.value]),o),delete s[a.value.outlet]}),Yr(s,(a,l)=>ec(a,e.getContext(l),o)),o}function ec(i,t,e){const r=Iu(i),o=i.value;Yr(r,(s,a)=>{ec(s,o.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new ef(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function tc(i){return"function"==typeof i}function Mv(i){return i instanceof $d||"EmptyError"===i?.name}const tf=Symbol("INITIAL_VALUE");function Mu(){return ts(i=>iD(i.map(t=>t.pipe(Oa(1),function DV(...i){const t=Yn(i);return Wi((e,r)=>{(t?Bd(i,e,t):Bd(i,e)).subscribe(r)})}(tf)))).pipe(Ae(t=>{for(const e of t)if(!0!==e){if(e===tf)return tf;if(!1===e||e instanceof Al)return e}return!0}),tl(t=>t!==tf),Oa(1)))}function UD(i){return function tn(...i){return Yi(i)}(lo(t=>{if(Il(t))throw kD(0,t)}),Ae(t=>!0===t))}const Pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zD(i,t,e,r,o){const s=kv(i,t,e);return s.matched?function KH(i,t,e,r){const o=t.canMatch;return o&&0!==o.length?Ut(o.map(a=>{const l=Ru(a,i);return ol(function VH(i){return i&&tc(i.canMatch)}(l)?l.canMatch(t,e):i.runInContext(()=>l(t,e)))})).pipe(Mu(),UD()):Ut(!0)}(r=HD(t,r),t,e).pipe(Ae(a=>!0===a?s:{...Pv})):Ut(s)}function kv(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...Pv}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||RV)(e,i,t);if(!o)return{...Pv};const s={};Yr(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function nf(i,t,e,r,o="corrected"){if(e.length>0&&function ZH(i,t,e){return e.some(r=>rf(i,t,r)&&Cs(r)!==Ni)}(i,e,r)){const a=new Hi(t,function QH(i,t,e,r){const o={};o[Ni]=r,r._sourceSegment=i,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Cs(s)!==Ni){const a=new Hi([],{});a._sourceSegment=i,a._segmentIndexShift=t.length,o[Cs(s)]=a}return o}(i,t,r,new Hi(e,i.children)));return a._sourceSegment=i,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function JH(i,t,e){return e.some(r=>rf(i,t,r))}(i,e,r)){const a=new Hi(i.segments,function XH(i,t,e,r,o,s){const a={};for(const l of r)if(rf(i,e,l)&&!o[Cs(l)]){const u=new Hi([],{});u._sourceSegment=i,u._segmentIndexShift="legacy"===s?i.segments.length:t.length,a[Cs(l)]=u}return{...o,...a}}(i,t,e,r,i.children,o));return a._sourceSegment=i,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new Hi(i.segments,i.children);return s._sourceSegment=i,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function rf(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function WD(i,t,e,r){return!!(Cs(i)===r||r!==Ni&&rf(t,e,i))&&("**"===i.path||kv(t,i,e).matched)}function GD(i,t,e){return 0===t.length&&!i.children[e]}const sf=!1;class af{constructor(t){this.segmentGroup=t||null}}class jD{constructor(t){this.urlTree=t}}function ic(i){return zd(new af(i))}function YD(i){return zd(new jD(i))}class n${constructor(t,e,r,o,s){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=s,this.allowRedirects=!0}apply(){const t=nf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Hi(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ni).pipe(Ae(s=>this.createUrlTree(Xh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rl(s=>{if(s instanceof jD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof af?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ni).pipe(Ae(o=>this.createUrlTree(Xh(o),t.queryParams,t.fragment))).pipe(rl(o=>{throw o instanceof af?this.noMatchError(o):o}))}noMatchError(t){return new Ge(4002,sf)}createUrlTree(t,e,r){const o=_v(t);return new Al(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Ae(s=>new Hi([],s))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return si(o).pipe(nl(s=>{const a=r.children[s],l=$D(e,s);return this.expandSegmentGroup(t,l,a,s).pipe(Ae(u=>({segment:u,outlet:s})))}),sD((s,a)=>(s[a.outlet]=a.segment,s),{}),aD())}expandSegment(t,e,r,o,s,a){return si(r).pipe(nl(l=>this.expandSegmentAgainstRoute(t,e,r,l,o,s,a).pipe(rl(d=>{if(d instanceof af)return Ut(null);throw d}))),il(l=>!!l),rl((l,u)=>{if(Mv(l))return GD(e,o,s)?Ut(new Hi([],{})):ic(e);throw l}))}expandSegmentAgainstRoute(t,e,r,o,s,a,l){return WD(o,e,s,a)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a):ic(e):ic(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YD(s):this.lineralizeSegments(r,s).pipe(mn(a=>{const l=new Hi(a,{});return this.expandSegment(t,l,e,a,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,s,a){const{matched:l,consumedSegments:u,remainingSegments:d,positionalParamSegments:p}=kv(e,o,s);if(!l)return ic(e);const m=this.applyRedirectCommands(u,o.redirectTo,p);return o.redirectTo.startsWith("/")?YD(m):this.lineralizeSegments(o,m).pipe(mn(E=>this.expandSegment(t,e,r,E.concat(d),a,!1)))}matchSegmentAgainstRoute(t,e,r,o,s){return"**"===r.path?(t=HD(r,t),r.loadChildren?(r._loadedRoutes?Ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Ae(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Hi(o,{})))):Ut(new Hi(o,{}))):zD(e,r,o,t).pipe(ts(({matched:a,consumedSegments:l,remainingSegments:u})=>a?this.getChildConfig(t=r._injector??t,r,o).pipe(mn(p=>{const m=p.injector??t,E=p.routes,{segmentGroup:P,slicedSegments:H}=nf(e,l,u,E),U=new Hi(P.segments,P.children);if(0===H.length&&U.hasChildren())return this.expandChildren(m,E,U).pipe(Ae(ne=>new Hi(l,ne)));if(0===E.length&&0===H.length)return Ut(new Hi(l,{}));const X=Cs(r)===s;return this.expandSegment(m,U,E,H,X?Ni:s,!0).pipe(Ae(te=>new Hi(l.concat(te.segments),te.children)))})):ic(e)))}getChildConfig(t,e,r){return e.children?Ut({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ut({routes:e._loadedRoutes,injector:e._loadedInjector}):function qH(i,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?Ut(!0):Ut(o.map(a=>{const l=Ru(a,i);return ol(function kH(i){return i&&tc(i.canLoad)}(l)?l.canLoad(t,e):i.runInContext(()=>l(t,e)))})).pipe(Mu(),UD())}(t,e,r).pipe(mn(o=>o?this.configLoader.loadChildren(t,e).pipe(lo(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function t$(i){return zd(FD(sf,3))}())):Ut({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ut(r);if(o.numberOfChildren>1||!o.children[Ni])return zd(new Ge(4e3,sf));o=o.children[Ni]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const s=this.createSegmentGroup(t,e.root,r,o);return new Al(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Yr(t,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);r[s]=e[l]}else r[s]=o}),r}createSegmentGroup(t,e,r,o){const s=this.createSegments(t,e.segments,r,o);let a={};return Yr(e.children,(l,u)=>{a[u]=this.createSegmentGroup(t,l,r,o)}),new Hi(s,a)}createSegments(t,e,r,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Ge(4001,sf);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class o${}class l${constructor(t,e,r,o,s,a,l,u){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=l,this.urlSerializer=u}recognize(){const t=nf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ni).pipe(Ae(e=>{if(null===e)return null;const r=new Zh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ni,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ra(r,e),s=new MD(this.url,o);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,r=RD(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return si(Object.keys(r.children)).pipe(nl(o=>{const s=r.children[o],a=$D(e,o);return this.processSegmentGroup(t,a,s,o)}),sD((o,s)=>o&&s?(o.push(...s),o):null),function AV(i,t=!1){return Wi((e,r)=>{let o=0;e.subscribe(Oi(r,s=>{const a=i(s,o++);(a||t)&&r.next(s),!a&&r.complete()}))})}(o=>null!==o),Wh(null),aD(),Ae(o=>{if(null===o)return null;const s=qD(o);return function u$(i){i.sort((t,e)=>t.value.outlet===Ni?-1:e.value.outlet===Ni?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,r,o,s){return si(e).pipe(nl(a=>this.processSegmentAgainstRoute(a._injector??t,a,r,o,s)),il(a=>!!a),rl(a=>{if(Mv(a))return GD(r,o,s)?Ut([]):Ut(null);throw a}))}processSegmentAgainstRoute(t,e,r,o,s){if(e.redirectTo||!WD(e,r,o,s))return Ut(null);let a;if("**"===e.path){const l=o.length>0?dD(o).parameters:{},u=XD(r)+o.length;a=Ut({snapshot:new Zh(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZD(e),Cs(e),e.component??e._loadedComponent??null,e,KD(r),u,JD(e),u),consumedSegments:[],remainingSegments:[]})}else a=zD(r,e,o,t).pipe(Ae(({matched:l,consumedSegments:u,remainingSegments:d,parameters:p})=>{if(!l)return null;const m=XD(r)+u.length;return{snapshot:new Zh(u,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZD(e),Cs(e),e.component??e._loadedComponent??null,e,KD(r),m,JD(e),m),consumedSegments:u,remainingSegments:d}}));return a.pipe(ts(l=>{if(null===l)return Ut(null);const{snapshot:u,consumedSegments:d,remainingSegments:p}=l;t=e._injector??t;const m=e._loadedInjector??t,E=function d$(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:H}=nf(r,d,p,E.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===H.length&&P.hasChildren())return this.processChildren(m,E,P).pipe(Ae(X=>null===X?null:[new Ra(u,X)]));if(0===E.length&&0===H.length)return Ut([new Ra(u,[])]);const U=Cs(e)===s;return this.processSegment(m,E,P,H,U?Ni:s).pipe(Ae(X=>null===X?null:[new Ra(u,X)]))}))}}function c$(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function qD(i){const t=[],e=new Set;for(const r of i){if(!c$(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=qD(r.children);t.push(new Ra(r.value,o))}return t.filter(r=>!e.has(r))}function KD(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function XD(i){let t=i,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ZD(i){return i.data||{}}function JD(i){return i.resolve||{}}function eT(i){return"string"==typeof i.title||null===i.title}function Fv(i){return ts(t=>{const e=i(t);return e?si(e).pipe(Ae(()=>t)):Ut(t)})}let tT=(()=>{class i{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Ni);return r}getResolvedTitleForRoute(e){return e.data[Wd]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:function(){return rr(iT)},providedIn:"root"}),i})(),iT=(()=>{class i extends tT{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return i.\u0275fac=function(e){return new(e||i)(Vt(zE))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class C${}class w$ extends class y${shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const uf=new oi("",{providedIn:"root",factory:()=>({})}),Nv=new oi("ROUTES");let Lv=(()=>{class i{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ut(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ol(e.loadComponent()).pipe(lo(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),pv(()=>{this.componentLoaders.delete(e)})),o=new rD(r,()=>new Mi).pipe(hv());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,d,p=!1;Array.isArray(l)?d=l:(u=l.create(e).injector,d=uD(u.get(Nv,[],C.Self|C.Optional)));return{routes:d.map(Rv),injector:u}}),pv(()=>{this.childrenLoaders.delete(r)})),a=new rD(s,()=>new Mi).pipe(hv());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(e){return ol(e()).pipe(mn(r=>r instanceof Hw||Array.isArray(r)?Ut(r):si(this.compiler.compileModuleAsync(r))))}}return i.\u0275fac=function(e){return new(e||i)(Vt(Jo),Vt(sm))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class E${}class S${shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function D$(i){throw i}function T$(i,t,e){return t.parse("/")}const x$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function rT(){const i=rr(mD),t=rr(Qd),e=rr(wm),r=rr(Jo),o=rr(sm),s=rr(Nv,{optional:!0})??[],a=rr(uf,{optional:!0})??{},l=rr(iT),u=rr(tT,{optional:!0}),d=rr(E$,{optional:!0}),p=rr(C$,{optional:!0}),m=new qr(null,i,t,e,r,o,uD(s));return d&&(m.urlHandlingStrategy=d),p&&(m.routeReuseStrategy=p),m.titleStrategy=u??l,function O$(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(a,m),m}let qr=(()=>{class i{constructor(e,r,o,s,a,l,u){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mi,this.errorHandler=D$,this.malformedUriErrorHandler=T$,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ut(void 0),this.urlHandlingStrategy=new S$,this.routeReuseStrategy=new w$,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(Lv),this.configLoader.onLoadEndListener=E=>this.triggerEvent(new dH(E)),this.configLoader.onLoadStartListener=E=>this.triggerEvent(new uH(E)),this.ngModule=a.get(bl),this.console=a.get(aF);const m=a.get(Dr);this.isNgZoneEnabled=m instanceof Dr&&Dr.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function PV(){return new Al(new Hi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ID(this.currentUrlTree,this.rootComponentType),this.transitions=new Vs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(tl(o=>0!==o.id),Ae(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ts(o=>{let s=!1,a=!1;return Ut(o).pipe(lo(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ts(l=>{const u=this.browserUrlTree.toString(),d=!this.navigated||l.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return oT(l.source)&&(this.browserUrlTree=l.extractedUrl),Ut(l).pipe(ts(m=>{const E=this.transitions.getValue();return r.next(new bv(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),E!==this.transitions.getValue()?zn:Promise.resolve(m)}),function r$(i,t,e,r){return ts(o=>function i$(i,t,e,r,o){return new n$(i,t,e,r,o).apply()}(i,t,e,o.extractedUrl,r).pipe(Ae(s=>({...o,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),lo(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},o.urlAfterRedirects=m.urlAfterRedirects}),function f$(i,t,e,r,o,s){return mn(a=>function a$(i,t,e,r,o,s,a="emptyOnly",l="legacy"){return new l$(i,t,e,r,o,a,l,s).recognize().pipe(ts(u=>null===u?function s$(i){return new It(t=>t.error(i))}(new o$):Ut(u)))}(i,t,e,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,o,s).pipe(Ae(l=>({...a,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),lo(m=>{if(o.targetSnapshot=m.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!m.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);this.setBrowserUrl(P,m)}this.browserUrlTree=m.urlAfterRedirects}const E=new rH(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);r.next(E)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:P,source:H,restoredState:U,extras:X}=l,J=new bv(E,this.serializeUrl(P),H,U);r.next(J);const te=ID(P,this.rootComponentType).snapshot;return Ut(o={...l,targetSnapshot:te,urlAfterRedirects:P,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),zn}),lo(l=>{const u=new oH(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Ae(l=>o={...l,guards:OH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function $H(i,t){return mn(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Ut({...e,guardsResult:!0}):function BH(i,t,e,r){return si(i).pipe(mn(o=>function YH(i,t,e,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ut(s.map(l=>{const u=Zd(t)??o,d=Ru(l,u);return ol(function LH(i){return i&&tc(i.canDeactivate)}(d)?d.canDeactivate(i,t,e,r):u.runInContext(()=>d(i,t,e,r))).pipe(il())})).pipe(Mu()):Ut(!0)}(o.component,o.route,e,t,r)),il(o=>!0!==o,!0))}(a,r,o,i).pipe(mn(l=>l&&function PH(i){return"boolean"==typeof i}(l)?function UH(i,t,e,r){return si(t).pipe(nl(o=>Bd(function WH(i,t){return null!==i&&t&&t(new cH(i)),Ut(!0)}(o.route.parent,r),function zH(i,t){return null!==i&&t&&t(new fH(i)),Ut(!0)}(o.route,r),function jH(i,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function IH(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Ud(()=>Ut(a.guards.map(u=>{const d=Zd(a.node)??e,p=Ru(u,d);return ol(function NH(i){return i&&tc(i.canActivateChild)}(p)?p.canActivateChild(r,i):d.runInContext(()=>p(r,i))).pipe(il())})).pipe(Mu())));return Ut(s).pipe(Mu())}(i,o.path,e),function GH(i,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ut(!0);const o=r.map(s=>Ud(()=>{const a=Zd(t)??e,l=Ru(s,a);return ol(function FH(i){return i&&tc(i.canActivate)}(l)?l.canActivate(t,i):a.runInContext(()=>l(t,i))).pipe(il())}));return Ut(o).pipe(Mu())}(i,o.route,e))),il(o=>!0!==o,!0))}(r,s,i,t):Ut(l)),Ae(l=>({...e,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),lo(l=>{if(o.guardsResult=l.guardsResult,Il(l.guardsResult))throw kD(0,l.guardsResult);const u=new sH(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(u)}),tl(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Fv(l=>{if(l.guards.canActivateChecks.length)return Ut(l).pipe(lo(u=>{const d=new aH(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(d)}),ts(u=>{let d=!1;return Ut(u).pipe(function p$(i,t){return mn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Ut(e);let s=0;return si(o).pipe(nl(a=>function g$(i,t,e,r){const o=i.routeConfig,s=i._resolve;return void 0!==o?.title&&!eT(o)&&(s[Wd]=o.title),function m$(i,t,e,r){const o=function v$(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===o.length)return Ut({});const s={};return si(o).pipe(mn(a=>function _$(i,t,e,r){const o=Zd(t)??r,s=Ru(i,o);return ol(s.resolve?s.resolve(t,e):o.runInContext(()=>s(t,e)))}(i[a],t,e,r).pipe(il(),lo(l=>{s[a]=l}))),fv(1),function OV(i){return Ae(()=>i)}(s),rl(a=>Mv(a)?zn:zd(a)))}(s,i,t,r).pipe(Ae(a=>(i._resolvedData=a,i.data=RD(i,e).resolve,o&&eT(o)&&(i.data[Wd]=o.title),null)))}(a.route,r,i,t)),lo(()=>s++),fv(1),mn(a=>s===o.length?Ut(e):zn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),lo({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),lo(u=>{const d=new lH(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(d)}))}),Fv(l=>{const u=d=>{const p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(lo(m=>{d.component=m}),Ae(()=>{})));for(const m of d.children)p.push(...u(m));return p};return iD(u(l.targetSnapshot.root)).pipe(Wh(),Oa(1))}),Fv(()=>this.afterPreactivation()),Ae(l=>{const u=function _H(i,t,e){const r=Xd(i,t._root,e?e._root:void 0);return new OD(r,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return o={...l,targetRouterState:u}}),lo(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((i,t,e)=>Ae(r=>(new AH(t,r.targetRouterState,r.currentRouterState,e).activate(i),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),lo({next(){s=!0},complete(){s=!0}}),pv(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),rl(l=>{if(a=!0,LD(l)){ND(l)||(this.navigated=!0,this.restoreHistory(o,!0));const u=new Qh(o.id,this.serializeUrl(o.extractedUrl),l.message,l.cancellationCode);if(r.next(u),ND(l)){const d=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),p={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oT(o.source)};this.scheduleNavigation(d,"imperative",null,p,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const u=new TD(o.id,this.serializeUrl(o.extractedUrl),l,o.targetSnapshot??void 0);r.next(u);try{o.resolve(this.errorHandler(l))}catch(d){o.reject(d)}}return zn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,d=o||this.routerState.root,p=u?this.currentUrlTree.fragment:a;let m=null;switch(l){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),ZV(d,this.currentUrlTree,e,m,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Il(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function I$(i){for(let t=0;t<i.length;t++){if(null==i[t])throw new Ge(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...x$}:!1===r?{...A$}:r,Il(e))return hD(this.currentUrlTree,e,o);const s=this.parseUrl(e);return hD(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const s=e[o];return null!=s&&(r[o]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Rl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,d;a?(l=a.resolve,u=a.reject,d=a.promise):d=new Promise((E,P)=>{l=E,u=P});const p=++this.navigationId;let m;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),m=o&&o.\u0275routerPageId?o.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):m=0,this.setTransition({id:p,targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(E=>Promise.reject(E))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",s):this.location.go(o,"",s)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const s=new Qh(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return i.\u0275fac=function(e){og()},i.\u0275prov=oe({token:i,factory:function(){return rT()},providedIn:"root"}),i})();function oT(i){return"imperative"!==i}class sT{}let P$=(()=>{class i{constructor(e,r,o,s,a){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(tl(e=>e instanceof Rl),nl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const s of r){s.providers&&!s._injector&&(s._injector=lh(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,l=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?o.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return si(o).pipe(Ji())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ut(null);const s=o.pipe(mn(a=>null===a?Ut(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return r.loadComponent&&!r._loadedComponent?si([s,this.loader.loadComponent(r)]).pipe(Ji()):s})}}return i.\u0275fac=function(e){return new(e||i)(Vt(qr),Vt(sm),Vt(Ya),Vt(sT),Vt(Lv))},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $v=new oi("");let aT=(()=>{class i{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Rl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new xD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){og()},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();function Pu(i,t){return{\u0275kind:i,\u0275providers:t}}function Bv(i){return[{provide:Nv,multi:!0,useValue:i}]}function uT(){const i=rr(Jo);return t=>{const e=i.get(El);if(t!==e.components[0])return;const r=i.get(qr),o=i.get(dT);1===i.get(Uv)&&r.initialNavigation(),i.get(cT,null,C.Optional)?.setUpPreloading(),i.get($v,null,C.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.next(),o.complete()}}const dT=new oi("",{factory:()=>new Mi}),Uv=new oi("",{providedIn:"root",factory:()=>1});const cT=new oi("");function L$(i){return Pu(0,[{provide:cT,useExisting:P$},{provide:sT,useExisting:i}])}const hT=new oi("ROUTER_FORROOT_GUARD"),V$=[wm,{provide:mD,useClass:mv},{provide:qr,useFactory:rT},Qd,{provide:Ml,useFactory:function lT(i){return i.routerState.root},deps:[qr]},Lv];function H$(){return new Fb("Router",qr)}let fT=(()=>{class i{constructor(e){}static forRoot(e,r){return{ngModule:i,providers:[V$,[],Bv(e),{provide:hT,useFactory:z$,deps:[[qr,new nd,new rd]]},{provide:uf,useValue:r||{}},r?.useHash?{provide:Dl,useClass:KF}:{provide:Dl,useClass:sE},{provide:$v,useFactory:()=>{const i=rr(qr),t=rr(v1),e=rr(uf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new aT(i,t,e)}},r?.preloadingStrategy?L$(r.preloadingStrategy).\u0275providers:[],{provide:Fb,multi:!0,useFactory:H$},r?.initialNavigation?W$(r):[],[{provide:pT,useFactory:uT},{provide:Ab,multi:!0,useExisting:pT}]]}}static forChild(e){return{ngModule:i,providers:[Bv(e)]}}}return i.\u0275fac=function(e){return new(e||i)(Vt(hT,8))},i.\u0275mod=W({type:i}),i.\u0275inj=ft({imports:[Ov]}),i})();function z$(i){return"guarded"}function W$(i){return["disabled"===i.initialNavigation?Pu(3,[{provide:hh,multi:!0,useFactory:()=>{const t=rr(qr);return()=>{t.setUpLocationChangeListener()}}},{provide:Uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?Pu(2,[{provide:Uv,useValue:0},{provide:hh,multi:!0,deps:[Jo],useFactory:t=>{const e=t.get(YF,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(qr),l=t.get(dT);(function o(s){t.get(qr).events.pipe(tl(l=>l instanceof Rl||l instanceof Qh||l instanceof TD),Ae(l=>l instanceof Rl||l instanceof Qh&&(0===l.code||1===l.code)&&null),tl(l=>null!==l),Oa(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),a.afterPreactivation=()=>(s(!0),r||l.closed?Ut(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const pT=new oi(""),j$=[];let Y$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({imports:[fT.forRoot(j$),fT]}),i})(),q$=(()=>{class i{constructor(){this.units=[]}load(){const e=A(1870);try{const r=e.load(this.mockData());console.log(r);const o=r.Unit;this.units=Object.keys(o).map(s=>({id:s,name:o[s].Name,group:o[s].Group}))}catch(r){console.log(r)}}getAllUnit(){return this.units.map(e=>e)}mockData(){return"\nUnit:\n  101:\n    Name: \u30a8\u30fc\u30c7\u30eb\u30ac\u30eb\u30c8\n    Group: \u9ed2\u9df2\n  102:\n    Name: \u30d2\u30e5\u30fc\u30d9\u30eb\u30c8\n    Group: \u9ed2\u9df2\n  103:\n    Name: \u30d5\u30a7\u30eb\u30c7\u30a3\u30ca\u30f3\u30c8\n    Group: \u9ed2\u9df2\n  104:\n    Name: \u30ea\u30f3\u30cf\u30eb\u30c8\n    Group: \u9ed2\u9df2\n  105:\n    Name: \u30ab\u30b9\u30d1\u30eb\n    Group: \u9ed2\u9df2\n  106:\n    Name: \u30d9\u30eb\u30ca\u30c7\u30c3\u30bf\n    Group: \u9ed2\u9df2\n  107:\n    Name: \u30c9\u30ed\u30c6\u30a2\n    Group: \u9ed2\u9df2\n  108:\n    Name: \u30da\u30c8\u30e9\n    Group: \u9ed2\u9df2\n  201:\n    Name: \u30c7\u30a3\u30df\u30c8\u30ea\n    Group: \u9752\u7345\u5b50\n  202:\n    Name: \u30c9\u30a5\u30c9\u30a5\u30fc\n    Group: \u9752\u7345\u5b50\n  203:\n    Name: \u30d5\u30a7\u30ea\u30af\u30b9\n    Group: \u9752\u7345\u5b50\n  204:\n    Name: \u30a2\u30c3\u30b7\u30e5\n    Group: \u9752\u7345\u5b50\n  205:\n    Name: \u30b7\u30eb\u30f4\u30a1\u30f3\n    Group: \u9752\u7345\u5b50\n  206:\n    Name: \u30e1\u30eb\u30bb\u30c7\u30b9\n    Group: \u9752\u7345\u5b50\n  207:\n    Name: \u30a2\u30cd\u30c3\u30c8\n    Group: \u9752\u7345\u5b50\n  208:\n    Name: \u30a4\u30f3\u30b0\u30ea\u30c3\u30c8\n    Group: \u9752\u7345\u5b50\n  301:\n    Name: \u30af\u30ed\u30fc\u30c9\n    Group: \u91d1\u9e7f\n  302:\n    Name: \u30ed\u30fc\u30ec\u30f3\u30c4\n    Group: \u91d1\u9e7f\n  303:\n    Name: \u30e9\u30d5\u30a1\u30a8\u30eb\n    Group: \u91d1\u9e7f\n  304:\n    Name: \u30a4\u30b0\u30ca\u30fc\u30c4\n    Group: \u91d1\u9e7f\n  305:\n    Name: \u30ea\u30b7\u30c6\u30a2\n    Group: \u91d1\u9e7f\n  306:\n    Name: \u30de\u30ea\u30a2\u30f3\u30cc\n    Group: \u91d1\u9e7f\n  307:\n    Name: \u30d2\u30eb\u30c0\n    Group: \u91d1\u9e7f\n  308:\n    Name: \u30ec\u30aa\u30cb\u30fc\n    Group: \u91d1\u9e7f\n  401:\n    Name: \u30bb\u30c6\u30b9\n    Group: \u6559\u4f1a\n  402:\n    Name: \u30d5\u30ec\u30f3\n    Group: \u6559\u4f1a\n  403:\n    Name: \u30cf\u30f3\u30cd\u30de\u30f3\n    Group: \u6559\u4f1a\n  404:\n    Name: \u30de\u30cc\u30a8\u30e9\n    Group: \u6559\u4f1a\n  405:\n    Name: \u30ae\u30eb\u30d9\u30eb\u30c8\n    Group: \u9752\u7345\u5b50\n  406:\n    Name: \u30a2\u30ed\u30a4\u30b9\n    Group: \u6559\u4f1a\n  407:\n    Name: \u30ab\u30c8\u30ea\u30fc\u30cc\n    Group: \u6559\u4f1a\n  408:\n    Name: \u30b7\u30e3\u30df\u30a2\n    Group: \u6559\u4f1a\n  409:\n    Name: \u30c4\u30a3\u30ea\u30eb\n    Group: \u6559\u4f1a\n  410:\n    Name: \u30ec\u30a2\n    Group: \u6559\u4f1a\n  501:\n    Name: \u30a4\u30a8\u30ea\u30c3\u30c4\u30a1\n    Group: \u9ed2\u9df2\n  502:\n    Name: \u30a2\u30f3\u30ca\n    Group: DLC\n  503:\n    Name: \u30e6\u30fc\u30ea\u30b9\n    Group: DLC\n  504:\n    Name: \u30d0\u30eb\u30bf\u30b6\u30fc\u30eb\n    Group: DLC\n  505:\n    Name: \u30b3\u30f3\u30b9\u30bf\u30f3\u30c4\u30a7\n    Group: DLC\n  506:\n    Name: \u30cf\u30d4\n    Group: DLC\n    "}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();A(380);var In=(()=>{return(i=In||(In={})).local="local",i.remote="remote",In;var i})();class gT{constructor(t){this.rxjs=t}addRxJsResource(t){this.rxjs=t}executeBackendProcessesCallback(t,e,r,o){const s=new Date;e&&r.service.postProcess&&r.service.postProcess(e),e&&r?.internalPostProcess&&r.internalPostProcess(e),void 0!==r.postProcess&&(e instanceof Object&&(e.metrics={startTime:t,endTime:s,executionTime:s.valueOf()-t.valueOf(),itemCount:o,totalItemCount:o}),r.postProcess(e))}onBackendError(t,e){if("function"!=typeof e?.onError)throw t;e.onError(t)}executeBackendCallback(t,e,r,o,s,a){var l;if(t){r&&!r.clearFilterTriggered&&!r.clearSortTriggered&&a?.emitActionChangedCallback&&a.emitActionChangedCallback.call(this,In.remote);const u=t.process(e);if(u instanceof Promise&&u.then)u.then(d=>{var p;this.executeBackendProcessesCallback(o,d,t,s),null===(p=a?.successCallback)||void 0===p||p.call(this,r)}).catch(d=>{var p;null===(p=a?.errorCallback)||void 0===p||p.call(this,r),this.onBackendError(d,t)});else if(null!==(l=this.rxjs)&&void 0!==l&&l.isObservable(u)){const d=this.rxjs;d.isObservable(a?.httpCancelRequestSubject)&&a?.httpCancelRequestSubject.next(),u.pipe(d.takeUntil(d.iif(()=>d.isObservable(a?.httpCancelRequestSubject),a?.httpCancelRequestSubject,d.EMPTY))).subscribe(p=>{var m;this.executeBackendProcessesCallback(o,p,t,s),null===(m=a?.successCallback)||void 0===m||m.call(this,r)},p=>{var m;null===(m=a?.errorCallback)||void 0===m||m.call(this,r),this.onBackendError(p,t)})}}}refreshBackendDataset(t){var e,r;let o="";const s=t?.backendServiceApi;if(!s||!s.service||!s.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(s.service&&(o=s.service.buildQuery()),o&&""!==o){const a=new Date;s.preProcess&&s.preProcess();const l=null!==(r=null===(e=t?.pagination)||void 0===e?void 0:e.totalItems)&&void 0!==r?r:0;this.executeBackendCallback(s,o,null,a,l)}}}function nc(i,t){["pop","push","reverse","shift","unshift","splice","sort"].forEach(r=>{i[r]=(...o)=>{const s=Array.prototype[r].apply(i,o);return t.apply(i,[i,o]),s}})}function zv(i,t,e){let r=i[t];Object.defineProperty(i,t,{configurable:!0,get:()=>r,set(o){r=o,e.apply(i,[o,i[t]])}})}const X$=i=>i;var sl=A(1114),Pl=A.n(sl);let zt=(()=>{class i{}return i.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_DROP_COLUMN_HEADER_TO_GROUP_BY:"Drop a column header here to group by the column",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_RECORDS_SELECTED:"records selected",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_RESET_INPUT_VALUE:"Reset Input Value",TEXT_RESET_FORM:"Reset Form",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_ALL_GROUPS:"Toggle all Groups",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_UNFREEZE_COLUMNS:"Unfreeze Columns",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"},i.treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"},i.VALIDATION_REQUIRED_FIELD="Field is required",i.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",i.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",i.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",i.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",i.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}",i.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",i.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}",i.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",i.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",i.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}",i.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",i.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}",i.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",i.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters",i.VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters",i.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters",i.VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)",i.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)",i})();var Ma=(()=>{return(i=Ma||(Ma={})).colon=":",i.comma=",",i.equalSign="=",i.pipe="|",i.semicolon=";",i.space=" ",i.tab="\t",i.doubleColon="::",i.doublePipe="||",i.doubleSemicolon=";;",Ma;var i})(),vi=(()=>{return(i=vi||(vi={})).autoTooltip="autoTooltip",i.cellExternalCopyManager="cellExternalCopyManager",i.cellMenu="cellMenu",i.checkboxSelector="checkboxSelector",i.columnPicker="columnPicker",i.contextMenu="contextMenu",i.customTooltip="customTooltip",i.draggableGrouping="draggableGrouping",i.groupItemMetaProvider="groupItemMetaProvider",i.gridMenu="gridMenu",i.headerButton="headerButton",i.headerMenu="headerMenu",i.rowDetailView="rowDetailView",i.rowMoveManager="rowMoveManager",i.rowSelection="rowSelection",vi;var i})();var Hs=(()=>{return(i=Hs||(Hs={})).csv="csv",i.txt="txt",i.xls="xls",i.xlsx="xlsx",Hs;var i})(),ku=(()=>{return(i=ku||(ku={})).merge="merge",i.chain="chain",ku;var i})(),ff=(()=>{return(i=ff||(ff={})).none="NOA",i.legacyOff="LOF",i.legacyForceFit="LFF",i.ignoreViewport="IGV",i.fitColsToViewport="FCV",i.fitViewportToCols="FVC",ff;var i})(),Kr=(()=>{return(i=Kr||(Kr={})).columns="columns",i.filter="filter",i.pagination="pagination",i.pinning="pinning",i.rowSelection="rowSelection",i.sorter="sorter",i.treeData="treeData",Kr;var i})(),Ti=(()=>{return(i=Ti||(Ti={}))[i.C=67]="C",i[i.V=86]="V",i[i.BACKSPACE=8]="BACKSPACE",i[i.DELETE=46]="DELETE",i[i.DOWN=40]="DOWN",i[i.END=35]="END",i[i.ENTER=13]="ENTER",i[i.ESCAPE=27]="ESCAPE",i[i.HOME=36]="HOME",i[i.INSERT=45]="INSERT",i[i.LEFT=37]="LEFT",i[i.PAGE_DOWN=34]="PAGE_DOWN",i[i.PAGE_UP=33]="PAGE_UP",i[i.RIGHT=39]="RIGHT",i[i.TAB=9]="TAB",i[i.UP=38]="UP",i[i.SPACE=32]="SPACE",Ti;var i})(),Xt=(()=>{return(i=Xt||(Xt={})).empty="",i.contains="Contains",i.notContains="Not_Contains",i.lessThan="LT",i.lessThanOrEqual="LE",i.greaterThan="GT",i.greaterThanOrEqual="GE",i.notEqual="NE",i.equal="EQ",i.endsWith="EndsWith",i.rangeInclusive="RangeInclusive",i.rangeExclusive="RangeExclusive",i.startsWith="StartsWith",i.in="IN",i.notIn="NOT_IN",i.inContains="IN_CONTAINS",i.notInContains="NOT_IN_CONTAINS",i.inCollection="IN_COLLECTION",i.notInCollection="NOT_IN_COLLECTION",Xt;var i})(),$s=(()=>{return(i=$s||($s={})).asc="asc",i.ASC="ASC",i.desc="desc",i.DESC="DESC",$s;var i})(),Gn=(()=>{return(i=Gn||(Gn={}))[i.asc=1]="asc",i[i.desc=-1]="desc",i[i.neutral=0]="neutral",Gn;var i})(),Pa=(()=>{return(i=Pa||(Pa={})).toggleCollapse="toggle-collapse",i.fullExpand="full-expand",i.fullCollapse="full-collapse",i.toggleExpand="toggle-expand",Pa;var i})();const Z$=Pl()||sl;class pf extends Error{constructor(t){super(t),Object.setPrototypeOf(this,pf.prototype)}}function J$(i){let t=!1;return i instanceof Promise?{promise:i.then(e=>{if(t)throw new pf("Cancelled Promise");return e}),cancel:()=>t=!0}:i}function Gv(i,t,e=""){let r=t;if(t instanceof Promise)return t;if(i.isObservable(t)&&(r=i.firstValueFrom(t)),!(r instanceof Promise))throw new Error(`Something went wrong, Slickgrid-Universal ${e} is not able to convert the Observable into a Promise.`);return r}function gf(i,t,e=0){var r;const o=null!==(r=t?.childrenPropName)&&void 0!==r?r:zt.treeDataProperties.CHILDREN_PROP;if(Array.isArray(i))for(const s of i)s&&(Array.isArray(s[o])&&s[o].length>0&&(e++,gf(s[o],t,e),e--),s[t.levelPropName]=e)}function vT(i,t){var e,r,o,s,a;const l=null!==(e=t?.identifierPropName)&&void 0!==e?e:"id",u=null!==(r=t?.childrenPropName)&&void 0!==r?r:zt.treeDataProperties.CHILDREN_PROP,d=null!==(o=t?.hasChildrenPropName)&&void 0!==o?o:zt.treeDataProperties.HAS_CHILDREN_PROP,p=null!==(s=t?.parentPropName)&&void 0!==s?s:zt.treeDataProperties.PARENT_PROP,m=null!==(a=t?.levelPropName)&&void 0!==a?a:zt.treeDataProperties.TREE_LEVEL_PROP;return t?.shouldAddTreeLevelNumber&&gf(i,{childrenPropName:u,levelPropName:m}),function Q$(i,t,e=X$,r=(()=>{})){const o=i&&i.length?[{pointer:i,offset:0}]:[],s=[];let a;for(;o.length;)for(a=o.pop();a.offset<a.pointer.length;){const l=a.pointer[a.offset],u=r(l),d=t(l);s.push(e(l,a.node,u,a.nodeId)),a.offset+=1,d&&(o.push(a),a={pointer:d,offset:0,node:l,nodeId:u})}return s}(i,P=>P[u],(P,H)=>({[l]:P[l],[p]:void 0!==H?H[l]:null,[d]:!!P[u],...CT(P,u)}))}function _T(i,t){var e,r,o,s,a;const l=null!==(e=t?.identifierPropName)&&void 0!==e?e:"id",u=null!==(r=t?.childrenPropName)&&void 0!==r?r:zt.treeDataProperties.CHILDREN_PROP,d=null!==(o=t?.parentPropName)&&void 0!==o?o:zt.treeDataProperties.PARENT_PROP,p=null!==(s=t?.levelPropName)&&void 0!==s?s:zt.treeDataProperties.TREE_LEVEL_PROP,m=null!==(a=t?.collapsedPropName)&&void 0!==a?a:zt.treeDataProperties.COLLAPSED_PROP,P=[],H={};return(i||[]).forEach(U=>H[U[l]]=U),Object.keys(H).forEach(U=>{var X;const J=H[U];if(d in J&&null!=J[d]&&""!==J[d]){if(J[d]in H){const te=H[J[d]];u in te||(te[u]=[]),te[u].push(J),void 0===te[m]&&(te[m]=null!==(X=t?.initiallyCollapsed)&&void 0!==X&&X)}}else P.push(J)}),gf(P,{childrenPropName:u,levelPropName:p},0),P}function mf(i,t,e){if(!e)throw new Error('findRecursive requires parameter "childrenPropertyName"');const r=i.find(t),o=i.filter(s=>e in s&&s[e]);if(r)return r;if(o.length){const s=[];return o.forEach(a=>{e in a&&s.push(...a[e])}),mf(s,t,e)}}function al(i,t,e,r=".",o=""){if(isNaN(+i))return i;const s=void 0===t?2:t,a=void 0===e?2:e;let l=String(Math.round(+i*Math.pow(10,a))/Math.pow(10,a));for(l.indexOf(".")<0&&s>0&&(l+=".");l.length-l.indexOf(".")<=s;)l+="0";const u=l.split(".");let d,p;d=o?u.length>=1?ka(u[0],o):void 0:u.length>=1?u[0]:l,u.length>1&&(p=u[1]);let m="";return void 0!==d&&void 0!==p?m=`${d}${r}${p}`:null!=d&&(m=d),m}function Lr(i,t,e,r,o="",s="",a=".",l=""){if(isNaN(+i))return i;const u=Math.round(1e6*parseFloat(i))/1e6;if(u<0){const d=Math.abs(u);return r?isNaN(t)&&isNaN(e)?`(${o}${ka(`${d}`,l)}${s})`:`(${o}${al(d,t,e,a,l)}${s})`:isNaN(t)&&isNaN(e)?`-${o}${ka(`${d}`,l)}${s}`:`-${o}${al(d,t,e,a,l)}${s}`}return isNaN(t)&&isNaN(e)?`${o}${ka(`${i}`,l)}${s}`:`${o}${al(i,t,e,a,l)}${s}`}function rc(i,t,e){if("function"==typeof i.queryFieldNameGetterFn){const r=i.queryFieldNameGetterFn(t);e=r?.indexOf(".")>=0?Jn(t,r):t.hasOwnProperty(r)?t[r]:e}return e}function Jn(i,t){return i&&t?t.split(".").reduce((e,r)=>e&&e[r],i):i}function ys(i){return i&&i.translationNamespace?i.translationNamespace+(i.translationNamespaceSeparator||""):""}function $o(i){let t;switch(i){case"dateTime":case"dateTimeIso":t="YYYY-MM-DD HH:mm:ss";break;case"dateTimeIsoAmPm":t="YYYY-MM-DD hh:mm:ss a";break;case"dateTimeIsoAM_PM":t="YYYY-MM-DD hh:mm:ss A";break;case"dateTimeShortIso":t="YYYY-MM-DD HH:mm";break;case"dateEuro":t="DD/MM/YYYY";break;case"dateEuroShort":t="D/M/YY";break;case"dateTimeEuro":t="DD/MM/YYYY HH:mm:ss";break;case"dateTimeShortEuro":t="DD/MM/YYYY HH:mm";break;case"dateTimeEuroAmPm":t="DD/MM/YYYY hh:mm:ss a";break;case"dateTimeEuroAM_PM":t="DD/MM/YYYY hh:mm:ss A";break;case"dateTimeEuroShort":t="D/M/YY H:m:s";break;case"dateTimeEuroShortAmPm":t="D/M/YY h:m:s a";break;case"dateUs":t="MM/DD/YYYY";break;case"dateUsShort":t="M/D/YY";break;case"dateTimeUs":t="MM/DD/YYYY HH:mm:ss";break;case"dateTimeUsAmPm":t="MM/DD/YYYY hh:mm:ss a";break;case"dateTimeUsAM_PM":t="MM/DD/YYYY hh:mm:ss A";break;case"dateTimeUsShort":t="M/D/YY H:m:s";break;case"dateTimeUsShortAmPm":t="M/D/YY h:m:s a";break;case"dateTimeShortUs":t="MM/DD/YYYY HH:mm";break;case"dateUtc":t="YYYY-MM-DDTHH:mm:ss.SSSZ";break;default:t="YYYY-MM-DD"}return t}function kl(i){let t;switch(i){case"dateTime":case"dateTimeIso":t="Y-m-d H:i:S";break;case"dateTimeShortIso":t="Y-m-d H:i";break;case"dateTimeIsoAmPm":case"dateTimeIsoAM_PM":t="Y-m-d h:i:S K";break;case"dateEuro":t="d/m/Y";break;case"dateEuroShort":t="d/m/y";break;case"dateTimeEuro":t="d/m/Y H:i:S";break;case"dateTimeShortEuro":t="d/m/y H:i";break;case"dateTimeEuroAmPm":t="d/m/Y h:i:S K";break;case"dateTimeEuroAM_PM":t="d/m/Y h:i:s K";break;case"dateTimeEuroShort":t="d/m/y H:i:s";break;case"dateTimeEuroShortAmPm":t="d/m/y h:i:s K";break;case"dateUs":t="m/d/Y";break;case"dateUsShort":t="m/d/y";break;case"dateTimeUs":t="m/d/Y H:i:S";break;case"dateTimeShortUs":t="m/d/y H:i";break;case"dateTimeUsAmPm":t="m/d/Y h:i:S K";break;case"dateTimeUsAM_PM":t="m/d/Y h:i:s K";break;case"dateTimeUsShort":t="m/d/y H:i:s";break;case"dateTimeUsShortAmPm":t="m/d/y h:i:s K";break;case"dateUtc":t="Z";break;default:t="Y-m-d"}return t}function eB(i){let t;switch(i){case"<":case"LT":t=Xt.lessThan;break;case"<=":case"LE":t=Xt.lessThanOrEqual;break;case">":case"GT":t=Xt.greaterThan;break;case">=":case"GE":t=Xt.greaterThanOrEqual;break;case"<>":case"!=":case"NE":t=Xt.notEqual;break;case"*":case"a*":case"StartsWith":t=Xt.startsWith;break;case"*z":case"EndsWith":t=Xt.endsWith;break;case"=":case"==":case"EQ":t=Xt.equal;break;case"IN":t=Xt.in;break;case"NIN":case"NOT_IN":t=Xt.notIn;break;case"Not_Contains":case"NOT_CONTAINS":t=Xt.notContains;break;default:t=Xt.contains}return t}function Fl(i){let t="";switch(i){case Xt.greaterThan:case">":t=">";break;case Xt.greaterThanOrEqual:case">=":t=">=";break;case Xt.lessThan:case"<":t="<";break;case Xt.lessThanOrEqual:case"<=":t="<=";break;case Xt.notEqual:case"<>":t="<>";break;case Xt.equal:case"=":case"==":case"EQ":t="=";break;case Xt.startsWith:case"a*":case"*":t="a*";break;case Xt.endsWith:case"*z":t="*z";break;default:t=i}return t}function jv(i){let t;switch(i){case"unknown":case"string":case"text":case"password":case"readonly":t=Xt.contains;break;default:t=Xt.equal}return t}function CT(i,t){return Object.keys(i).reduce((e,r)=>(r!==t&&(e[r]=i[r]),e),{})}function tB(i,t){let e="";if("string"==typeof i&&/^[0-9\-\/]*$/.test(i)){const r=decodeURIComponent(i),o=Z$(new Date(r));o.isValid()&&4===o.year().toString().length&&(e=t?o.utc().format():o.format())}return e}function ka(i,t=","){if(null!=i){const e=`${i}`,r=e.split(".");return 2===r.length?`${r[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)}.${r[1]}`:e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}return i}function Fa(i,t,e={}){return Array.isArray(i)?i.find(t)||e:i}function oc(i){if(Array.isArray(i))for(;i.length>0;){const t=i.pop();t?.unsubscribe&&t.unsubscribe()}return i}function yT(i,t,e="id"){let r=-1;r=i.findIndex("object"==typeof t&&e in t?o=>o[e]===t[e]:o=>o===t),r<0&&i.push(t)}function Yv(i,t=" "){let e="";for(let r=0;r<i;r++)e+=t;return e}function qv(i,t){return i.filter((e,r)=>t!==r)}function sc(i){const r=Object.prototype.toString.call(i).slice(8,-1).toLowerCase();return"object"===r?(()=>{const o={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=sc(i[s]));return o})():"array"===r?i.map(o=>sc(o)):i}function Nl(i,...t){if(!t.length)return i;const e=t.shift();if(i=!ac(i)&&ac(e)?{}:i,ac(i)&&ac(e))for(const r in e)e.hasOwnProperty(r)&&(i[r]=r in i?"object"!=typeof i[r]||"object"!=typeof e[r]?e[r]:i[r].concat&&e[r].concat?i[r].concat(e[r]):Nl(i[r],e[r]):e[r]);return Nl(i,...t)}function rB(i){for(const t in i)i.hasOwnProperty(t)&&delete i[t];return i=null,{}}function Kv(i){return null==i||0===Object.entries(i).length}function ac(i){return!(null===i||"object"!=typeof i||Array.isArray(i)||i instanceof Date)}function lc(i){return null!=i&&""!==i}function uo(i,t=!1){return t?null!=i&&"string"!=typeof i&&!isNaN(i):null!=i&&""!==i&&!isNaN(+i)}function wT(i){return!i||i&&"object"==typeof i&&0===Object.keys(i).length}function vf(i){return/(true|1)/i.test(i+"")}function Fu(i,t=!1){const e="function"==typeof i.normalize?i.normalize("NFD").replace(/[\u0300-\u036f]/g,""):i;return t?e.toLowerCase():e}function Bo(i,t,e){if("string"==typeof t&&(t=t.split(".")),t.length>1){const r=t.shift();i&&void 0!==r&&Bo(i[r]=lc(i[r])&&(Array.isArray(i[r])||"[object Object]"===Object.prototype.toString.call(i[r]))?i[r]:{},t,e)}else i&&t[0]&&(i[t[0]]=e)}function uc(i,t=!1){return"string"==typeof i?t?i.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):i.charAt(0).toUpperCase()+i.slice(1):i}function Xv(i){return"string"==typeof i?i.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,(t,e)=>/[\s+\-_\/]/.test(t)?"":0===e?t.toLowerCase():t.toUpperCase()):i}function dc(i){return"string"==typeof i?Xv(i).replace(/([A-Z])/g,"-$1").toLowerCase():i}function is(i){if("string"==typeof i){const t=i.replace(/([A-Z])|(\-)/g," $1").replace(/\s+/g," ").trim();return t.charAt(0).toUpperCase()+t.slice(1)}return i}function oB(i){return"string"==typeof i?Xv(i).replace(/([A-Z])/g,"_$1").toLowerCase():i}function bT(i){return Array.isArray(i)&&i.length>0?i.filter((t,e)=>i.indexOf(t)>=e):i}function sB(i,t="id"){if(Array.isArray(i)&&i.length>0){const e=[],r=new Map;for(const o of i)o&&!r.has(o[t])&&(r.set(o[t],!0),e.push({id:o[t],name:o.name}));return e}return i}const _f=Pl()||sl;function wn(i){const t="date"===i?_f.ISO_8601:$o(i);return(e,r,o,s,a)=>function ET(i,t,e,r,o,s,a){var l,u;let d=0;const p=null!==(u=null!==(l=r?.valueCouldBeUndefined)&&void 0!==l?l:o?.cellValueCouldBeUndefined)&&void 0!==u&&u,m=_f(i,s,a),E=_f(t,s,a);return d=null===i||""===i||p&&void 0===i||!m.isValid()?-1:null===t||""===t||p&&void 0===t||!E.isValid()?1:m.valueOf()<E.valueOf()?-1:1,e*d}(e,r,o,s,a,t,t!==_f.ISO_8601)}wn("date"),wn("dateIso"),wn("dateUtc"),wn("dateTime"),wn("dateTimeIso"),wn("dateTimeIsoAmPm"),wn("dateTimeIsoAM_PM"),wn("dateTimeShortIso"),wn("dateEuro"),wn("dateEuroShort"),wn("dateTimeShortEuro"),wn("dateTimeEuro"),wn("dateTimeEuroAmPm"),wn("dateTimeEuroAM_PM"),wn("dateTimeEuroShort"),wn("dateTimeEuroShortAmPm"),wn("dateTimeEuroShortAM_PM"),wn("dateUs"),wn("dateUsShort"),wn("dateTimeShortUs"),wn("dateTimeUs"),wn("dateTimeUsAmPm"),wn("dateTimeUsAM_PM"),wn("dateTimeUsShort"),wn("dateTimeUsShortAmPm"),wn("dateTimeUsShortAM_PM");function cc(i,t,e,r,o,s){let a=0;switch(i){case"float":case"integer":case"number":a=((i,t,e,r,o)=>{var s,a;const l=null!==(a=null!==(s=r?.valueCouldBeUndefined)&&void 0!==s?s:o?.cellValueCouldBeUndefined)&&void 0!==a&&a,u=isNaN(i)||""===i||null===i||l&&void 0===i?-99e10:parseFloat(i),d=isNaN(t)||""===t||null===t||l&&void 0===t?-99e10:parseFloat(t);return e*(u===d?0:u>d?1:-1)})(t,e,r,o,s);break;case"date":case"dateIso":case"dateUtc":case"dateTime":case"dateTimeIso":case"dateTimeIsoAmPm":case"dateTimeIsoAM_PM":case"dateTimeShortIso":case"dateEuro":case"dateEuroShort":case"dateTimeShortEuro":case"dateTimeEuro":case"dateTimeEuroAmPm":case"dateTimeEuroAM_PM":case"dateTimeEuroShort":case"dateTimeEuroShortAmPm":case"dateTimeEuroShortAM_PM":case"dateUs":case"dateUsShort":case"dateTimeShortUs":case"dateTimeUs":case"dateTimeUsAmPm":case"dateTimeUsAM_PM":case"dateTimeUsShort":case"dateTimeUsShortAmPm":case"dateTimeUsShortAM_PM":a=wn(i).call(this,t,e,r,o,s);break;case"object":a=((i,t,e,r,o)=>{var s,a;if(!r||!r.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');const l=i?.hasOwnProperty(r.dataKey)?i[r.dataKey]:i,u=t?.hasOwnProperty(r.dataKey)?t[r.dataKey]:t,d=null!==(a=null!==(s=r?.valueCouldBeUndefined)&&void 0!==s?s:o?.cellValueCouldBeUndefined)&&void 0!==a&&a;null==e&&(e=Gn.neutral);let p=0;return p="object"!=typeof i?-99e10:"object"!=typeof t?99e10:null===l||d&&void 0===l?-1:null===u||d&&void 0===u?1:l===u?0:e?l<u?-1:1:l<u?1:-1,e*p})(t,e,r,o,s);break;default:a=((i,t,e,r,o)=>{var s,a;null==e&&(e=Gn.neutral);let l=0;const u=null!==(a=null!==(s=r?.valueCouldBeUndefined)&&void 0!==s?s:o?.cellValueCouldBeUndefined)&&void 0!==a&&a;return i===t?l=0:null===i||u&&void 0===i?l=-1:null===t||u&&void 0===t?l=1:(o?.ignoreAccentOnStringFilterAndSort&&(i=Fu(i,!1),t=Fu(t,!1)),l=e?i<t?-1:1:i<t?1:-1),e*l})(t,e,r,o,s)}return a}var ws=(()=>{return(i=ws||(ws={})).camelCase="camelCase",i.kebabCase="kebabCase",i.lowerCase="lowerCase",i.lowerCaseWithoutOnPrefix="lowerCaseWithoutOnPrefix",ws;var i})();function ST(i,t,e,r,o,s,a){try{var l=i[s](a),u=l.value}catch(d){return void e(d)}l.done?t(u):Promise.resolve(u).then(r,o)}function Uo(i){return function(){var t=this,e=arguments;return new Promise(function(r,o){var s=i.apply(t,e);function a(u){ST(s,r,o,a,l,"next",u)}function l(u){ST(s,r,o,a,l,"throw",u)}a(void 0)})}}A(5987);var ia=A(2735);function TT(i){var t,e,r,o;let s=0,a=0,l=0,u=0;const d=null!==(t=window.innerHeight)&&void 0!==t?t:0,p=null!==(e=window.innerWidth)&&void 0!==e?e:0,m=function dB(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}(),E=m.top,P=m.left,H=zo(i);if(H){const U=null!==(r=H.top)&&void 0!==r?r:0,X=null!==(o=H.left)&&void 0!==o?o:0;a=U-E,s=d-(U-E),l=X-P,u=p-(X-P)}return{top:a,bottom:s,left:l,right:u}}function Le(i,t){const e=document.createElement(i);return t&&Object.keys(t).forEach(r=>{const o=t[r];"object"==typeof o?Nl(e[r],o):e[r]=t[r]}),e}function Cf(i){if(i)for(const t of Object.keys(i))Array.isArray(i[t])&&Cf(i[t]),i[t]instanceof HTMLElement&&(i[t]=null)}function bn(i){if(i?.firstChild)for(;i.firstChild;)i.lastChild&&i.removeChild(i.lastChild);return i}function zo(i){var t;if(!i)return;const e=null===(t=i?.getBoundingClientRect)||void 0===t?void 0:t.call(i);let r=0,o=0,s=0,a=0;return void 0!==e?.top&&void 0!==e.left&&(r=e.top+window.pageYOffset,o=e.left+window.pageXOffset,a=e.right,s=e.bottom),{top:r,left:o,bottom:s,right:a}}function ll(i,t="auto"){return(/^[0-9]+$/i.test(`${i}`)?+i+"px":i)||t}function xT(i){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(i||"").toString().replace(/[&<>"']/g,e=>t[e])}function uB(i,t){const e=i.length;let r=xT(i);if(e<t)for(let o=e;o<t;o++)r+="&nbsp;";return r}function hc(i){const t=document.createElement("div");return t.innerHTML=i,t.textContent||t.innerText||""}function ns(i,t,e){let r=t;return"function"==typeof i?.sanitizer?r=i.sanitizer(t||""):"function"==typeof ia?.sanitize&&(r=(ia.sanitize(t||"",e||{})||"").toString()),r}function Zv(i,t){const e=Le("select",{className:"form-control"});for(const r of i)e.appendChild(Le("option",{value:r.operator,innerHTML:ns(t,`${uB(r.operator,3)}${r.description}`)}));return e}function AT(i,t,e,r,o){return Jv.apply(this,arguments)}function Jv(){return(Jv=Uo(function*(i,t,e,r,o){var s,a,l;const u=null!==(s=t?.filter)&&void 0!==s?s:{},d=null!==(a=u?.collectionOptions)&&void 0!==a?a:{};let p=null;if(i){const m=null!==(l=r?.isObservable(i))&&void 0!==l&&l;m&&r&&(p=yield Gv(r,i));const E=yield i;if(Array.isArray(E)?p=E:E?.status>=200&&E.status<300&&"function"==typeof E.json?p=yield E.json():E&&E.content&&(p=E.content),!Array.isArray(p)&&d?.collectionInsideObjectProperty&&(p=Jn(p||E,d.collectionInsideObjectProperty||"")),!Array.isArray(p))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');u.collection=p,e(p),m&&hB(t,e,r,o)}return p})).apply(this,arguments)}function hB(i,t,e,r){var o;const s=null!==(o=i?.filter)&&void 0!==o?o:{},a=e?.createSubject();s.collectionAsync=a,r&&a&&r.push(a.subscribe(l=>function cB(i,t,e){var r,o;const s=null!==(r=t?.filter)&&void 0!==r?r:{},a=null!==(o=s?.collectionOptions)&&void 0!==o?o:{};if(a&&a.collectionInsideObjectProperty&&(i=Jn(i,a.collectionInsideObjectProperty)),!Array.isArray(i))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');s.collection=i,e(i)}(l,i,t)))}var e_=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Nu={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(i){return typeof console<"u"&&console.warn(i)},getWeek:function(i){var t=new Date(i.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},t_={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(i){var t=i%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const i_=t_;var Wo=function(i,t){return void 0===t&&(t=2),("000"+i).slice(-1*t)},bs=function(i){return!0===i?1:0};function OT(i,t){var e;return function(){var r=this,o=arguments;clearTimeout(e),e=setTimeout(function(){return i.apply(r,o)},t)}}var n_=function(i){return i instanceof Array?i:[i]};function xo(i,t,e){if(!0===e)return i.classList.add(t);i.classList.remove(t)}function sn(i,t,e){var r=window.document.createElement(i);return e=e||"",r.className=t=t||"",void 0!==e&&(r.textContent=e),r}function yf(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function IT(i,t){return t(i)?i:i.parentNode?IT(i.parentNode,t):void 0}function wf(i,t){var e=sn("div","numInputWrapper"),r=sn("input","numInput "+i),o=sn("span","arrowUp"),s=sn("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var a in t)r.setAttribute(a,t[a]);return e.appendChild(r),e.appendChild(o),e.appendChild(s),e}function rs(i){try{return"function"==typeof i.composedPath?i.composedPath()[0]:i.target}catch{return i.target}}var r_=function(){},bf=function(i,t,e){return e.months[t?"shorthand":"longhand"][i]},pB={D:r_,F:function(i,t,e){i.setMonth(e.months.longhand.indexOf(t))},G:function(i,t){i.setHours((i.getHours()>=12?12:0)+parseFloat(t))},H:function(i,t){i.setHours(parseFloat(t))},J:function(i,t){i.setDate(parseFloat(t))},K:function(i,t,e){i.setHours(i.getHours()%12+12*bs(new RegExp(e.amPM[1],"i").test(t)))},M:function(i,t,e){i.setMonth(e.months.shorthand.indexOf(t))},S:function(i,t){i.setSeconds(parseFloat(t))},U:function(i,t){return new Date(1e3*parseFloat(t))},W:function(i,t,e){var r=parseInt(t),o=new Date(i.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+e.firstDayOfWeek),o},Y:function(i,t){i.setFullYear(parseFloat(t))},Z:function(i,t){return new Date(t)},d:function(i,t){i.setDate(parseFloat(t))},h:function(i,t){i.setHours((i.getHours()>=12?12:0)+parseFloat(t))},i:function(i,t){i.setMinutes(parseFloat(t))},j:function(i,t){i.setDate(parseFloat(t))},l:r_,m:function(i,t){i.setMonth(parseFloat(t)-1)},n:function(i,t){i.setMonth(parseFloat(t)-1)},s:function(i,t){i.setSeconds(parseFloat(t))},u:function(i,t){return new Date(parseFloat(t))},w:r_,y:function(i,t){i.setFullYear(2e3+parseFloat(t))}},Ll={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},fc={Z:function(i){return i.toISOString()},D:function(i,t,e){return t.weekdays.shorthand[fc.w(i,t,e)]},F:function(i,t,e){return bf(fc.n(i,t,e)-1,!1,t)},G:function(i,t,e){return Wo(fc.h(i,t,e))},H:function(i){return Wo(i.getHours())},J:function(i,t){return void 0!==t.ordinal?i.getDate()+t.ordinal(i.getDate()):i.getDate()},K:function(i,t){return t.amPM[bs(i.getHours()>11)]},M:function(i,t){return bf(i.getMonth(),!0,t)},S:function(i){return Wo(i.getSeconds())},U:function(i){return i.getTime()/1e3},W:function(i,t,e){return e.getWeek(i)},Y:function(i){return Wo(i.getFullYear(),4)},d:function(i){return Wo(i.getDate())},h:function(i){return i.getHours()%12?i.getHours()%12:12},i:function(i){return Wo(i.getMinutes())},j:function(i){return i.getDate()},l:function(i,t){return t.weekdays.longhand[i.getDay()]},m:function(i){return Wo(i.getMonth()+1)},n:function(i){return i.getMonth()+1},s:function(i){return i.getSeconds()},u:function(i){return i.getTime()},w:function(i){return i.getDay()},y:function(i){return String(i.getFullYear()).substring(2)}},RT=function(i){var t=i.config,e=void 0===t?Nu:t,r=i.l10n,o=void 0===r?t_:r,s=i.isMobile,a=void 0!==s&&s;return function(l,u,d){var p=d||o;return void 0===e.formatDate||a?u.split("").map(function(m,E,P){return fc[m]&&"\\"!==P[E-1]?fc[m](l,p,e):"\\"!==m?m:""}).join(""):e.formatDate(l,u,p)}},o_=function(i){var t=i.config,e=void 0===t?Nu:t,r=i.l10n,o=void 0===r?t_:r;return function(s,a,l,u){if(0===s||s){var p,d=u||o,m=s;if(s instanceof Date)p=new Date(s.getTime());else if("string"!=typeof s&&void 0!==s.toFixed)p=new Date(s);else if("string"==typeof s){var E=a||(e||Nu).dateFormat,P=String(s).trim();if("today"===P)p=new Date,l=!0;else if(e&&e.parseDate)p=e.parseDate(s,E);else if(/Z$/.test(P)||/GMT$/.test(P))p=new Date(s);else{for(var H=void 0,U=[],X=0,J=0,te="";X<E.length;X++){var ne=E[X],De="\\"===ne;if(Ll[ne]&&"\\"!==E[X-1]&&!De){te+=Ll[ne];var Ue=new RegExp(te).exec(s);Ue&&(H=!0)&&U["Y"!==ne?"push":"unshift"]({fn:pB[ne],val:Ue[++J]})}else De||(te+=".")}p=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),U.forEach(function(ot){return p=(0,ot.fn)(p,ot.val,d)||p}),p=H?p:void 0}}return p instanceof Date&&!isNaN(p.getTime())?(!0===l&&p.setHours(0,0,0,0),p):void e.errorHandler(new Error("Invalid date provided: "+m))}}};function os(i,t,e){return void 0===e&&(e=!0),!1!==e?new Date(i.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):i.getTime()-t.getTime()}var s_=function(i,t,e){return 3600*i+60*t+e};function a_(i){var t=i.defaultHour,e=i.defaultMinute,r=i.defaultSeconds;if(void 0!==i.minDate){var o=i.minDate.getHours(),s=i.minDate.getMinutes(),a=i.minDate.getSeconds();t<o&&(t=o),t===o&&e<s&&(e=s),t===o&&e===s&&r<a&&(r=i.minDate.getSeconds())}if(void 0!==i.maxDate){var l=i.maxDate.getHours(),u=i.maxDate.getMinutes();(t=Math.min(t,l))===l&&(e=Math.min(u,e)),t===l&&e===u&&(r=i.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:r}}A(8323);var co=function(){return co=Object.assign||function(i){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i},co.apply(this,arguments)},MT=function(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;var r=Array(i),o=0;for(t=0;t<e;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r};function CB(i,t){var e={config:co(co({},Nu),pr.defaultConfig),l10n:i_};function s(){var Q;return(null===(Q=e.calendarContainer)||void 0===Q?void 0:Q.getRootNode()).activeElement||document.activeElement}function a(Q){return Q.bind(e)}function l(){var Q=e.config;!1===Q.weekNumbers&&1===Q.showMonths||!0!==Q.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==e.calendarContainer&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),void 0!==e.daysContainer){var ee=(e.days.offsetWidth+1)*Q.showMonths;e.daysContainer.style.width=ee+"px",e.calendarContainer.style.width=ee+(void 0!==e.weekWrapper?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function u(Q){if(0===e.selectedDates.length){var ee=void 0===e.config.minDate||os(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),be=a_(e.config);ee.setHours(be.hours,be.minutes,be.seconds,ee.getMilliseconds()),e.selectedDates=[ee],e.latestSelectedDateObj=ee}void 0!==Q&&"blur"!==Q.type&&function hz(Q){Q.preventDefault();var ee="keydown"===Q.type,be=rs(Q),He=be;void 0!==e.amPM&&be===e.amPM&&(e.amPM.textContent=e.l10n.amPM[bs(e.amPM.textContent===e.l10n.amPM[0])]);var wt=parseFloat(He.getAttribute("min")),Rt=parseFloat(He.getAttribute("max")),xi=parseFloat(He.getAttribute("step")),jt=parseInt(He.value,10),Bt=jt+xi*(Q.delta||(ee?38===Q.which?1:-1:0));if(typeof He.value<"u"&&2===He.value.length){var gi=He===e.hourElement,Dn=He===e.minuteElement;Bt<wt?(Bt=Rt+Bt+bs(!gi)+(bs(gi)&&bs(!e.amPM)),Dn&&De(void 0,-1,e.hourElement)):Bt>Rt&&(Bt=He===e.hourElement?Bt-Rt-bs(!e.amPM):wt,Dn&&De(void 0,1,e.hourElement)),e.amPM&&gi&&(1===xi?Bt+jt===23:Math.abs(Bt-jt)>xi)&&(e.amPM.textContent=e.l10n.amPM[bs(e.amPM.textContent===e.l10n.amPM[0])]),He.value=Wo(Bt)}}(Q);var He=e._input.value;m(),Va(),e._input.value!==He&&e._debouncedChange()}function m(){if(void 0!==e.hourElement&&void 0!==e.minuteElement){var Q=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,ee=(parseInt(e.minuteElement.value,10)||0)%60,be=void 0!==e.secondElement?(parseInt(e.secondElement.value,10)||0)%60:0;void 0!==e.amPM&&(Q=function d(Q,ee){return Q%12+12*bs(ee===e.l10n.amPM[1])}(Q,e.amPM.textContent));var He=void 0!==e.config.minTime||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&0===os(e.latestSelectedDateObj,e.config.minDate,!0),wt=void 0!==e.config.maxTime||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&0===os(e.latestSelectedDateObj,e.config.maxDate,!0);if(void 0!==e.config.maxTime&&void 0!==e.config.minTime&&e.config.minTime>e.config.maxTime){var Rt=s_(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),xi=s_(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),jt=s_(Q,ee,be);if(jt>xi&&jt<Rt){var Bi=function(i){var t=Math.floor(i/3600),e=(i-3600*t)/60;return[t,e,i-3600*t-60*e]}(Rt);Q=Bi[0],ee=Bi[1],be=Bi[2]}}else{if(wt){var Bt=void 0!==e.config.maxTime?e.config.maxTime:e.config.maxDate;(Q=Math.min(Q,Bt.getHours()))===Bt.getHours()&&(ee=Math.min(ee,Bt.getMinutes())),ee===Bt.getMinutes()&&(be=Math.min(be,Bt.getSeconds()))}if(He){var gi=void 0!==e.config.minTime?e.config.minTime:e.config.minDate;(Q=Math.max(Q,gi.getHours()))===gi.getHours()&&ee<gi.getMinutes()&&(ee=gi.getMinutes()),ee===gi.getMinutes()&&(be=Math.max(be,gi.getSeconds()))}}P(Q,ee,be)}}function E(Q){var ee=Q||e.latestSelectedDateObj;ee&&ee instanceof Date&&P(ee.getHours(),ee.getMinutes(),ee.getSeconds())}function P(Q,ee,be){void 0!==e.latestSelectedDateObj&&e.latestSelectedDateObj.setHours(Q%24,ee,be||0,0),e.hourElement&&e.minuteElement&&!e.isMobile&&(e.hourElement.value=Wo(e.config.time_24hr?Q:(12+Q)%12+12*bs(Q%12==0)),e.minuteElement.value=Wo(ee),void 0!==e.amPM&&(e.amPM.textContent=e.l10n.amPM[bs(Q>=12)]),void 0!==e.secondElement&&(e.secondElement.value=Wo(be)))}function H(Q){var ee=rs(Q),be=parseInt(ee.value)+(Q.delta||0);(be/1e3>1||"Enter"===Q.key&&!/[^\d]/.test(be.toString()))&&Mn(be)}function U(Q,ee,be,He){return ee instanceof Array?ee.forEach(function(wt){return U(Q,wt,be,He)}):Q instanceof Array?Q.forEach(function(wt){return U(wt,ee,be,He)}):(Q.addEventListener(ee,be,He),void e._handlers.push({remove:function(){return Q.removeEventListener(ee,be,He)}}))}function X(){jn("onChange")}function te(Q,ee){var be=void 0!==Q?e.parseDate(Q):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),He=e.currentYear,wt=e.currentMonth;try{void 0!==be&&(e.currentYear=be.getFullYear(),e.currentMonth=be.getMonth())}catch(Rt){Rt.message="Invalid date supplied: "+be,e.config.errorHandler(Rt)}ee&&e.currentYear!==He&&(jn("onYearChange"),cn()),ee&&(e.currentYear!==He||e.currentMonth!==wt)&&jn("onMonthChange"),e.redraw()}function ne(Q){var ee=rs(Q);~ee.className.indexOf("arrow")&&De(Q,ee.classList.contains("arrowUp")?1:-1)}function De(Q,ee,be){var He=Q&&rs(Q),wt=be||He&&He.parentNode&&He.parentNode.firstChild,Rt=w_("increment");Rt.delta=ee,wt&&wt.dispatchEvent(Rt)}function Ue(Q,ee,be,He){var wt=sr(ee,!0),Rt=sn("span",Q,ee.getDate().toString());return Rt.dateObj=ee,Rt.$i=He,Rt.setAttribute("aria-label",e.formatDate(ee,e.config.ariaDateFormat)),-1===Q.indexOf("hidden")&&0===os(ee,e.now)&&(e.todayDateElem=Rt,Rt.classList.add("today"),Rt.setAttribute("aria-current","date")),wt?(Rt.tabIndex=-1,b_(ee)&&(Rt.classList.add("selected"),e.selectedDateElem=Rt,"range"===e.config.mode&&(xo(Rt,"startRange",e.selectedDates[0]&&0===os(ee,e.selectedDates[0],!0)),xo(Rt,"endRange",e.selectedDates[1]&&0===os(ee,e.selectedDates[1],!0)),"nextMonthDay"===Q&&Rt.classList.add("inRange")))):Rt.classList.add("flatpickr-disabled"),"range"===e.config.mode&&function dz(Q){return!("range"!==e.config.mode||e.selectedDates.length<2)&&os(Q,e.selectedDates[0])>=0&&os(Q,e.selectedDates[1])<=0}(ee)&&!b_(ee)&&Rt.classList.add("inRange"),e.weekNumbers&&1===e.config.showMonths&&"prevMonthDay"!==Q&&He%7==6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(ee)+"</span>"),jn("onDayCreate",Rt),Rt}function ot(Q){Q.focus(),"range"===e.config.mode&&zs(Q)}function it(Q){for(var be=Q>0?e.config.showMonths:-1,He=Q>0?0:e.config.showMonths-1;He!=be;He+=Q)for(var wt=e.daysContainer.children[He],xi=Q>0?wt.children.length:-1,jt=Q>0?0:wt.children.length-1;jt!=xi;jt+=Q){var Bi=wt.children[jt];if(-1===Bi.className.indexOf("hidden")&&sr(Bi.dateObj))return Bi}}function Jt(Q,ee){var be=s(),He=na(be||document.body),wt=void 0!==Q?Q:He?be:void 0!==e.selectedDateElem&&na(e.selectedDateElem)?e.selectedDateElem:void 0!==e.todayDateElem&&na(e.todayDateElem)?e.todayDateElem:it(ee>0?1:-1);void 0===wt?e._input.focus():He?function Wt(Q,ee){for(var be=-1===Q.className.indexOf("Month")?Q.dateObj.getMonth():e.currentMonth,He=ee>0?e.config.showMonths:-1,wt=ee>0?1:-1,Rt=be-e.currentMonth;Rt!=He;Rt+=wt)for(var xi=e.daysContainer.children[Rt],Bi=xi.children.length,Bt=be-e.currentMonth===Rt?Q.$i+ee:ee<0?xi.children.length-1:0;Bt>=0&&Bt<Bi&&Bt!=(ee>0?Bi:-1);Bt+=wt){var gi=xi.children[Bt];if(-1===gi.className.indexOf("hidden")&&sr(gi.dateObj)&&Math.abs(Q.$i-Bt)>=Math.abs(ee))return ot(gi)}e.changeMonth(wt),Jt(it(wt),0)}(wt,ee):ot(wt)}function Kt(Q,ee){for(var be=(new Date(Q,ee,1).getDay()-e.l10n.firstDayOfWeek+7)%7,He=e.utils.getDaysInMonth((ee-1+12)%12,Q),wt=e.utils.getDaysInMonth(ee,Q),Rt=window.document.createDocumentFragment(),xi=e.config.showMonths>1,jt=xi?"prevMonthDay hidden":"prevMonthDay",Bi=xi?"nextMonthDay hidden":"nextMonthDay",Bt=He+1-be,gi=0;Bt<=He;Bt++,gi++)Rt.appendChild(Ue("flatpickr-day "+jt,new Date(Q,ee-1,Bt),0,gi));for(Bt=1;Bt<=wt;Bt++,gi++)Rt.appendChild(Ue("flatpickr-day",new Date(Q,ee,Bt),0,gi));for(var Dn=wt+1;Dn<=42-be&&(1===e.config.showMonths||gi%7!=0);Dn++,gi++)Rt.appendChild(Ue("flatpickr-day "+Bi,new Date(Q,ee+1,Dn%wt),0,gi));var ra=sn("div","dayContainer");return ra.appendChild(Rt),ra}function $i(){if(void 0!==e.daysContainer){yf(e.daysContainer),e.weekNumbers&&yf(e.weekNumbers);for(var Q=document.createDocumentFragment(),ee=0;ee<e.config.showMonths;ee++){var be=new Date(e.currentYear,e.currentMonth,1);be.setMonth(e.currentMonth+ee),Q.appendChild(Kt(be.getFullYear(),be.getMonth()))}e.daysContainer.appendChild(Q),e.days=e.daysContainer.firstChild,"range"===e.config.mode&&1===e.selectedDates.length&&zs()}}function cn(){if(!(e.config.showMonths>1||"dropdown"!==e.config.monthSelectorType)){e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var ee=0;ee<12;ee++)if(He=ee,!(void 0!==e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&He<e.config.minDate.getMonth()||void 0!==e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()&&He>e.config.maxDate.getMonth())){var be=sn("option","flatpickr-monthDropdown-month");be.value=new Date(e.currentYear,ee).getMonth().toString(),be.textContent=bf(ee,e.config.shorthandCurrentMonth,e.l10n),be.tabIndex=-1,e.currentMonth===ee&&(be.selected=!0),e.monthsDropdownContainer.appendChild(be)}}var He}function En(){var be,Q=sn("div","flatpickr-month"),ee=window.document.createDocumentFragment();e.config.showMonths>1||"static"===e.config.monthSelectorType?be=sn("span","cur-month"):(e.monthsDropdownContainer=sn("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),U(e.monthsDropdownContainer,"change",function(xi){var jt=rs(xi),Bi=parseInt(jt.value,10);e.changeMonth(Bi-e.currentMonth),jn("onMonthChange")}),cn(),be=e.monthsDropdownContainer);var He=wf("cur-year",{tabindex:"-1"}),wt=He.getElementsByTagName("input")[0];wt.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&wt.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(wt.setAttribute("max",e.config.maxDate.getFullYear().toString()),wt.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var Rt=sn("div","flatpickr-current-month");return Rt.appendChild(be),Rt.appendChild(He),ee.appendChild(Rt),Q.appendChild(ee),{container:Q,yearElement:wt,monthElement:be}}function Cn(){yf(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var Q=e.config.showMonths;Q--;){var ee=En();e.yearElements.push(ee.yearElement),e.monthElements.push(ee.monthElement),e.monthNav.appendChild(ee.container)}e.monthNav.appendChild(e.nextMonthNav)}function Vr(){e.weekdayContainer?yf(e.weekdayContainer):e.weekdayContainer=sn("div","flatpickr-weekdays");for(var Q=e.config.showMonths;Q--;){var ee=sn("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(ee)}return Sn(),e.weekdayContainer}function Sn(){if(e.weekdayContainer){var Q=e.l10n.firstDayOfWeek,ee=MT(e.l10n.weekdays.shorthand);Q>0&&Q<ee.length&&(ee=MT(ee.splice(Q,ee.length),ee.splice(0,Q)));for(var be=e.config.showMonths;be--;)e.weekdayContainer.children[be].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+ee.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function ho(Q,ee){void 0===ee&&(ee=!0);var be=ee?Q:Q-e.currentMonth;be<0&&!0===e._hidePrevMonthArrow||be>0&&!0===e._hideNextMonthArrow||(e.currentMonth+=be,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,jn("onYearChange"),cn()),$i(),jn("onMonthChange"),jf())}function Go(Q){return e.calendarContainer.contains(Q)}function Us(Q){if(e.isOpen&&!e.config.inline){var ee=rs(Q),be=Go(ee),wt=!(ee===e.input||ee===e.altInput||e.element.contains(ee)||Q.path&&Q.path.indexOf&&(~Q.path.indexOf(e.input)||~Q.path.indexOf(e.altInput))||be||Go(Q.relatedTarget)),Rt=!e.config.ignoredFocusElements.some(function(xi){return xi.contains(ee)});wt&&Rt&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement&&""!==e.input.value&&void 0!==e.input.value&&u(),e.close(),e.config&&"range"===e.config.mode&&1===e.selectedDates.length&&e.clear(!1))}}function Mn(Q){if(!(!Q||e.config.minDate&&Q<e.config.minDate.getFullYear()||e.config.maxDate&&Q>e.config.maxDate.getFullYear())){var be=e.currentYear!==Q;e.currentYear=Q||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),be&&(e.redraw(),jn("onYearChange"),cn())}}function sr(Q,ee){var be;void 0===ee&&(ee=!0);var He=e.parseDate(Q,void 0,ee);if(e.config.minDate&&He&&os(He,e.config.minDate,void 0!==ee?ee:!e.minDateHasTime)<0||e.config.maxDate&&He&&os(He,e.config.maxDate,void 0!==ee?ee:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&0===e.config.disable.length)return!0;if(void 0===He)return!1;for(var wt=!!e.config.enable,Rt=null!==(be=e.config.enable)&&void 0!==be?be:e.config.disable,xi=0,jt=void 0;xi<Rt.length;xi++){if("function"==typeof(jt=Rt[xi])&&jt(He))return wt;if(jt instanceof Date&&void 0!==He&&jt.getTime()===He.getTime())return wt;if("string"==typeof jt){var Bi=e.parseDate(jt,void 0,!0);return Bi&&Bi.getTime()===He.getTime()?wt:!wt}if("object"==typeof jt&&void 0!==He&&jt.from&&jt.to&&He.getTime()>=jt.from.getTime()&&He.getTime()<=jt.to.getTime())return wt}return!wt}function na(Q){return void 0!==e.daysContainer&&-1===Q.className.indexOf("hidden")&&-1===Q.className.indexOf("flatpickr-disabled")&&e.daysContainer.contains(Q)}function Vu(Q){var ee=Q.target===e._input,be=e._input.value.trimEnd()!==E_();ee&&be&&(!Q.relatedTarget||!Go(Q.relatedTarget))&&e.setDate(e._input.value,!0,Q.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function La(Q){var ee=rs(Q),be=e.config.wrap?i.contains(ee):ee===e._input,He=e.config.allowInput,wt=e.isOpen&&(!He||!be),Rt=e.config.inline&&be&&!He;if(13===Q.keyCode&&be){if(He)return e.setDate(e._input.value,!0,ee===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),ee.blur();e.open()}else if(Go(ee)||wt||Rt){var xi=!!e.timeContainer&&e.timeContainer.contains(ee);switch(Q.keyCode){case 13:xi?(Q.preventDefault(),u(),y_()):Ix(Q);break;case 27:Q.preventDefault(),y_();break;case 8:case 46:be&&!e.config.allowInput&&(Q.preventDefault(),e.clear());break;case 37:case 39:if(xi||be)e.hourElement&&e.hourElement.focus();else{Q.preventDefault();var jt=s();if(void 0!==e.daysContainer&&(!1===He||jt&&na(jt))){var Bi=39===Q.keyCode?1:-1;Q.ctrlKey?(Q.stopPropagation(),ho(Bi),Jt(it(1),0)):Jt(void 0,Bi)}}break;case 38:case 40:Q.preventDefault();var Bt=40===Q.keyCode?1:-1;e.daysContainer&&void 0!==ee.$i||ee===e.input||ee===e.altInput?Q.ctrlKey?(Q.stopPropagation(),Mn(e.currentYear-Bt),Jt(it(1),0)):xi||Jt(void 0,7*Bt):ee===e.currentYearElement?Mn(e.currentYear-Bt):e.config.enableTime&&(!xi&&e.hourElement&&e.hourElement.focus(),u(Q),e._debouncedChange());break;case 9:if(xi){var gi=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(as){return as}),Dn=gi.indexOf(ee);if(-1!==Dn){var ra=gi[Dn+(Q.shiftKey?-1:1)];Q.preventDefault(),(ra||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(ee)&&Q.shiftKey&&(Q.preventDefault(),e._input.focus())}}if(void 0!==e.amPM&&ee===e.amPM)switch(Q.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],m(),Va();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],m(),Va()}(be||Go(ee))&&jn("onKeyDown",Q)}function zs(Q,ee){if(void 0===ee&&(ee="flatpickr-day"),1===e.selectedDates.length&&(!Q||Q.classList.contains(ee)&&!Q.classList.contains("flatpickr-disabled"))){for(var be=Q?Q.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),He=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),wt=Math.min(be,e.selectedDates[0].getTime()),Rt=Math.max(be,e.selectedDates[0].getTime()),xi=!1,jt=0,Bi=0,Bt=wt;Bt<Rt;Bt+=864e5)sr(new Date(Bt),!0)||(xi=xi||Bt>wt&&Bt<Rt,Bt<He&&(!jt||Bt>jt)?jt=Bt:Bt>He&&(!Bi||Bt<Bi)&&(Bi=Bt));Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+ee)).forEach(function(Dn){var as=Dn.dateObj.getTime(),mc=jt>0&&as<jt||Bi>0&&as>Bi;if(mc)return Dn.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function($u){Dn.classList.remove($u)});xi&&!mc||(["startRange","inRange","endRange","notAllowed"].forEach(function($u){Dn.classList.remove($u)}),void 0!==Q&&(Q.classList.add(be<=e.selectedDates[0].getTime()?"startRange":"endRange"),He<be&&as===He?Dn.classList.add("startRange"):He>be&&as===He&&Dn.classList.add("endRange"),as>=jt&&(0===Bi||as<=Bi)&&function(i,t,e){return i>Math.min(t,e)&&i<Math.max(t,e)}(as,He,be)&&Dn.classList.add("inRange")))})}}function Ao(){e.isOpen&&!e.config.static&&!e.config.inline&&Wf()}function $l(Q){return function(ee){var be=e.config["_"+Q+"Date"]=e.parseDate(ee,e.config.dateFormat),He=e.config["_"+("min"===Q?"max":"min")+"Date"];void 0!==be&&(e["min"===Q?"minDateHasTime":"maxDateHasTime"]=be.getHours()>0||be.getMinutes()>0||be.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(wt){return sr(wt)}),!e.selectedDates.length&&"min"===Q&&E(be),Va()),e.daysContainer&&(Ox(),void 0!==be?e.currentYearElement[Q]=be.getFullYear().toString():e.currentYearElement.removeAttribute(Q),e.currentYearElement.disabled=!!He&&void 0!==be&&He.getFullYear()===be.getFullYear())}}function ul(){return e.config.wrap?i.querySelector("[data-input]"):i}function Ax(){"object"!=typeof e.config.locale&&typeof pr.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=co(co({},pr.l10ns.default),"object"==typeof e.config.locale?e.config.locale:"default"!==e.config.locale?pr.l10ns[e.config.locale]:void 0),Ll.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ll.l="("+e.l10n.weekdays.longhand.join("|")+")",Ll.M="("+e.l10n.months.shorthand.join("|")+")",Ll.F="("+e.l10n.months.longhand.join("|")+")",Ll.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")",void 0===co(co({},t),JSON.parse(JSON.stringify(i.dataset||{}))).time_24hr&&void 0===pr.defaultConfig.time_24hr&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=RT(e),e.parseDate=o_({config:e.config,l10n:e.l10n})}function Wf(Q){if("function"!=typeof e.config.position){if(void 0!==e.calendarContainer){jn("onPreCalendarPosition");var ee=Q||e._positionElement,be=Array.prototype.reduce.call(e.calendarContainer.children,function(yz,wz){return yz+wz.offsetHeight},0),He=e.calendarContainer.offsetWidth,wt=e.config.position.split(" "),Rt=wt[0],xi=wt.length>1?wt[1]:null,jt=ee.getBoundingClientRect(),Bi=window.innerHeight-jt.bottom,Bt="above"===Rt||"below"!==Rt&&Bi<be&&jt.top>be,gi=window.pageYOffset+jt.top+(Bt?-be-2:ee.offsetHeight+2);if(xo(e.calendarContainer,"arrowTop",!Bt),xo(e.calendarContainer,"arrowBottom",Bt),!e.config.inline){var Dn=window.pageXOffset+jt.left,ra=!1,as=!1;"center"===xi?(Dn-=(He-jt.width)/2,ra=!0):"right"===xi&&(Dn-=He-jt.width,as=!0),xo(e.calendarContainer,"arrowLeft",!ra&&!as),xo(e.calendarContainer,"arrowCenter",ra),xo(e.calendarContainer,"arrowRight",as);var mc=window.document.body.offsetWidth-(window.pageXOffset+jt.right),$u=Dn+He>window.document.body.offsetWidth,fz=mc+He>window.document.body.offsetWidth;if(xo(e.calendarContainer,"rightMost",$u),!e.config.static)if(e.calendarContainer.style.top=gi+"px",$u)if(fz){var S_=function iz(){for(var Q=null,ee=0;ee<document.styleSheets.length;ee++){var be=document.styleSheets[ee];if(be.cssRules){Q=be;break}}return Q??function nz(){var Q=document.createElement("style");return document.head.appendChild(Q),Q.sheet}()}();if(void 0===S_)return;var pz=window.document.body.offsetWidth,gz=Math.max(0,pz/2-He/2),_z=S_.cssRules.length,Cz="{left:"+jt.left+"px;right:auto;}";xo(e.calendarContainer,"rightMost",!1),xo(e.calendarContainer,"centerMost",!0),S_.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+Cz,_z),e.calendarContainer.style.left=gz+"px",e.calendarContainer.style.right="auto"}else e.calendarContainer.style.left="auto",e.calendarContainer.style.right=mc+"px";else e.calendarContainer.style.left=Dn+"px",e.calendarContainer.style.right="auto"}}}else e.config.position(e,Q)}function Ox(){e.config.noCalendar||e.isMobile||(cn(),jf(),$i())}function y_(){e._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(e.close,0):e.close()}function Ix(Q){Q.preventDefault(),Q.stopPropagation();var be=IT(rs(Q),function(gi){return gi.classList&&gi.classList.contains("flatpickr-day")&&!gi.classList.contains("flatpickr-disabled")&&!gi.classList.contains("notAllowed")});if(void 0!==be){var He=be,wt=e.latestSelectedDateObj=new Date(He.dateObj.getTime()),Rt=(wt.getMonth()<e.currentMonth||wt.getMonth()>e.currentMonth+e.config.showMonths-1)&&"range"!==e.config.mode;if(e.selectedDateElem=He,"single"===e.config.mode)e.selectedDates=[wt];else if("multiple"===e.config.mode){var xi=b_(wt);xi?e.selectedDates.splice(parseInt(xi),1):e.selectedDates.push(wt)}else"range"===e.config.mode&&(2===e.selectedDates.length&&e.clear(!1,!1),e.latestSelectedDateObj=wt,e.selectedDates.push(wt),0!==os(wt,e.selectedDates[0],!0)&&e.selectedDates.sort(function(gi,Dn){return gi.getTime()-Dn.getTime()}));if(m(),Rt){var jt=e.currentYear!==wt.getFullYear();e.currentYear=wt.getFullYear(),e.currentMonth=wt.getMonth(),jt&&(jn("onYearChange"),cn()),jn("onMonthChange")}jf(),$i(),Va(),Rt||"range"===e.config.mode||1!==e.config.showMonths?void 0!==e.selectedDateElem&&void 0===e.hourElement&&e.selectedDateElem&&e.selectedDateElem.focus():ot(He),void 0!==e.hourElement&&void 0!==e.hourElement&&e.hourElement.focus(),e.config.closeOnSelect&&("single"===e.config.mode&&!e.config.enableTime||"range"===e.config.mode&&2===e.selectedDates.length&&!e.config.enableTime)&&y_(),X()}}e.parseDate=o_({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=U,e._setHoursFromDate=E,e._positionCalendar=Wf,e.changeMonth=ho,e.changeYear=Mn,e.clear=function gr(Q,ee){if(void 0===Q&&(Q=!0),void 0===ee&&(ee=!0),e.input.value="",void 0!==e.altInput&&(e.altInput.value=""),void 0!==e.mobileInput&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,!0===ee&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),!0===e.config.enableTime){var be=a_(e.config);P(be.hours,be.minutes,be.seconds)}e.redraw(),Q&&jn("onChange")},e.close=function Nn(){e.isOpen=!1,e.isMobile||(void 0!==e.calendarContainer&&e.calendarContainer.classList.remove("open"),void 0!==e._input&&e._input.classList.remove("active")),jn("onClose")},e.onMouseOver=zs,e._createElement=sn,e.createDay=Ue,e.destroy=function ss(){void 0!==e.config&&jn("onDestroy");for(var Q=e._handlers.length;Q--;)e._handlers[Q].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var ee=e.calendarContainer.parentNode;if(ee.lastChild&&ee.removeChild(ee.lastChild),ee.parentNode){for(;ee.firstChild;)ee.parentNode.insertBefore(ee.firstChild,ee);ee.parentNode.removeChild(ee)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(be){try{delete e[be]}catch{}})},e.isEnabled=sr,e.jumpToDate=te,e.updateValue=Va,e.open=function xx(Q,ee){if(void 0===ee&&(ee=e._positionElement),!0===e.isMobile){if(Q){Q.preventDefault();var be=rs(Q);be&&be.blur()}return void 0!==e.mobileInput&&(e.mobileInput.focus(),e.mobileInput.click()),void jn("onOpen")}if(!e._input.disabled&&!e.config.inline){var He=e.isOpen;e.isOpen=!0,He||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),jn("onOpen"),Wf(ee)),!0===e.config.enableTime&&!0===e.config.noCalendar&&!1===e.config.allowInput&&(void 0===Q||!e.timeContainer.contains(Q.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}},e.redraw=Ox,e.set=function rz(Q,ee){if(null!==Q&&"object"==typeof Q)for(var be in Object.assign(e.config,Q),Q)void 0!==Gf[be]&&Gf[be].forEach(function(He){return He()});else e.config[Q]=ee,void 0!==Gf[Q]?Gf[Q].forEach(function(He){return He()}):e_.indexOf(Q)>-1&&(e.config[Q]=n_(ee));e.redraw(),Va(!0)},e.setDate=function oz(Q,ee,be){if(void 0===ee&&(ee=!1),void 0===be&&(be=e.config.dateFormat),0!==Q&&!Q||Q instanceof Array&&0===Q.length)return e.clear(ee);Rx(Q,be),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),te(void 0,ee),E(),0===e.selectedDates.length&&e.clear(!1),Va(ee),ee&&jn("onChange")},e.toggle=function uz(Q){if(!0===e.isOpen)return e.close();e.open(Q)};var Gf={locale:[Ax,Sn],showMonths:[Cn,l,Vr],minDate:[te],maxDate:[te],positionElement:[Px],clickOpens:[function(){!0===e.config.clickOpens?(U(e._input,"focus",e.open),U(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Rx(Q,ee){var be=[];if(Q instanceof Array)be=Q.map(function(He){return e.parseDate(He,ee)});else if(Q instanceof Date||"number"==typeof Q)be=[e.parseDate(Q,ee)];else if("string"==typeof Q)switch(e.config.mode){case"single":case"time":be=[e.parseDate(Q,ee)];break;case"multiple":be=Q.split(e.config.conjunction).map(function(He){return e.parseDate(He,ee)});break;case"range":be=Q.split(e.l10n.rangeSeparator).map(function(He){return e.parseDate(He,ee)})}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Q)));e.selectedDates=e.config.allowInvalidPreload?be:be.filter(function(He){return He instanceof Date&&sr(He,!1)}),"range"===e.config.mode&&e.selectedDates.sort(function(He,wt){return He.getTime()-wt.getTime()})}function Mx(Q){return Q.slice().map(function(ee){return"string"==typeof ee||"number"==typeof ee||ee instanceof Date?e.parseDate(ee,void 0,!0):ee&&"object"==typeof ee&&ee.from&&ee.to?{from:e.parseDate(ee.from,void 0),to:e.parseDate(ee.to,void 0)}:ee}).filter(function(ee){return ee})}function Px(){e._positionElement=e.config.positionElement||e._input}function jn(Q,ee){if(void 0!==e.config){var be=e.config[Q];if(void 0!==be&&be.length>0)for(var He=0;be[He]&&He<be.length;He++)be[He](e.selectedDates,e.input.value,e,ee);"onChange"===Q&&(e.input.dispatchEvent(w_("change")),e.input.dispatchEvent(w_("input")))}}function w_(Q){var ee=document.createEvent("Event");return ee.initEvent(Q,!0,!0),ee}function b_(Q){for(var ee=0;ee<e.selectedDates.length;ee++){var be=e.selectedDates[ee];if(be instanceof Date&&0===os(be,Q))return""+ee}return!1}function jf(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(Q,ee){var be=new Date(e.currentYear,e.currentMonth,1);be.setMonth(e.currentMonth+ee),e.config.showMonths>1||"static"===e.config.monthSelectorType?e.monthElements[ee].textContent=bf(be.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=be.getMonth().toString(),Q.value=be.getFullYear().toString()}),e._hidePrevMonthArrow=void 0!==e.config.minDate&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=void 0!==e.config.maxDate&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function E_(Q){var ee=Q||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(be){return e.formatDate(be,ee)}).filter(function(be,He,wt){return"range"!==e.config.mode||e.config.enableTime||wt.indexOf(be)===He}).join("range"!==e.config.mode?e.config.conjunction:e.l10n.rangeSeparator)}function Va(Q){void 0===Q&&(Q=!0),void 0!==e.mobileInput&&e.mobileFormatStr&&(e.mobileInput.value=void 0!==e.latestSelectedDateObj?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=E_(e.config.dateFormat),void 0!==e.altInput&&(e.altInput.value=E_(e.config.altFormat)),!1!==Q&&jn("onValueUpdate")}function cz(Q){var ee=rs(Q),be=e.prevMonthNav.contains(ee),He=e.nextMonthNav.contains(ee);be||He?ho(be?-1:1):e.yearElements.indexOf(ee)>=0?ee.select():ee.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):ee.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}return function o(){e.element=e.input=i,e.isOpen=!1,function Hu(){var Q=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ee=co(co({},JSON.parse(JSON.stringify(i.dataset||{}))),t),be={};e.config.parseDate=ee.parseDate,e.config.formatDate=ee.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(gi){e.config._enable=Mx(gi)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(gi){e.config._disable=Mx(gi)}});var He="time"===ee.mode;ee.dateFormat||!ee.enableTime&&!He||(be.dateFormat=ee.noCalendar||He?"H:i"+(ee.enableSeconds?":S":""):(pr.defaultConfig.dateFormat||Nu.dateFormat)+" H:i"+(ee.enableSeconds?":S":"")),ee.altInput&&(ee.enableTime||He)&&!ee.altFormat&&(be.altFormat=ee.noCalendar||He?"h:i"+(ee.enableSeconds?":S K":" K"):(pr.defaultConfig.altFormat||Nu.altFormat)+" h:i"+(ee.enableSeconds?":S":"")+" K"),Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:$l("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:$l("max")});var xi=function(gi){return function(Dn){e.config["min"===gi?"_minTime":"_maxTime"]=e.parseDate(Dn,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:xi("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:xi("max")}),"time"===ee.mode&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,be,ee);for(var jt=0;jt<Q.length;jt++)e.config[Q[jt]]=!0===e.config[Q[jt]]||"true"===e.config[Q[jt]];for(e_.filter(function(gi){return void 0!==e.config[gi]}).forEach(function(gi){e.config[gi]=n_(e.config[gi]||[]).map(a)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&"single"===e.config.mode&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),jt=0;jt<e.config.plugins.length;jt++){var Bi=e.config.plugins[jt](e)||{};for(var Bt in Bi)e_.indexOf(Bt)>-1?e.config[Bt]=n_(Bi[Bt]).map(a).concat(e.config[Bt]):typeof ee[Bt]>"u"&&(e.config[Bt]=Bi[Bt])}ee.altInputClass||(e.config.altInputClass=ul().className+" "+e.config.altInputClass),jn("onParseConfig")}(),Ax(),function az(){e.input=ul(),e.input?(e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=sn(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Px()):e.config.errorHandler(new Error("Invalid input element specified"))}(),function sz(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var Q=e.config.defaultDate||("INPUT"!==e.input.nodeName&&"TEXTAREA"!==e.input.nodeName||!e.input.placeholder||e.input.value!==e.input.placeholder?e.input.value:null);Q&&Rx(Q,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),void 0!==e.config.minTime&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),void 0!==e.config.maxTime&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}(),function r(){e.utils={getDaysInMonth:function(Q,ee){return void 0===Q&&(Q=e.currentMonth),void 0===ee&&(ee=e.currentYear),1===Q&&(ee%4==0&&ee%100!=0||ee%400==0)?29:e.l10n.daysInMonth[Q]}}}(),e.isMobile||function xe(){var Q=window.document.createDocumentFragment();if(e.calendarContainer=sn("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(Q.appendChild(function Fn(){return e.monthNav=sn("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=sn("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=sn("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Cn(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(Q){e.__hidePrevMonthArrow!==Q&&(xo(e.prevMonthNav,"flatpickr-disabled",Q),e.__hidePrevMonthArrow=Q)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(Q){e.__hideNextMonthArrow!==Q&&(xo(e.nextMonthNav,"flatpickr-disabled",Q),e.__hideNextMonthArrow=Q)}}),e.currentYearElement=e.yearElements[0],jf(),e.monthNav}()),e.innerContainer=sn("div","flatpickr-innerContainer"),e.config.weekNumbers){var ee=function Rn(){e.calendarContainer.classList.add("hasWeeks");var Q=sn("div","flatpickr-weekwrapper");Q.appendChild(sn("span","flatpickr-weekday",e.l10n.weekAbbreviation));var ee=sn("div","flatpickr-weeks");return Q.appendChild(ee),{weekWrapper:Q,weekNumbers:ee}}(),be=ee.weekWrapper,He=ee.weekNumbers;e.innerContainer.appendChild(be),e.weekNumbers=He,e.weekWrapper=be}e.rContainer=sn("div","flatpickr-rContainer"),e.rContainer.appendChild(Vr()),e.daysContainer||(e.daysContainer=sn("div","flatpickr-days"),e.daysContainer.tabIndex=-1),$i(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),Q.appendChild(e.innerContainer)}e.config.enableTime&&Q.appendChild(function Ss(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var Q=a_(e.config);e.timeContainer=sn("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var ee=sn("span","flatpickr-time-separator",":"),be=wf("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=be.getElementsByTagName("input")[0];var He=wf("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=He.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Wo(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?Q.hours:function p(Q){switch(Q%24){case 0:case 12:return 12;default:return Q%12}}(Q.hours)),e.minuteElement.value=Wo(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():Q.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(be),e.timeContainer.appendChild(ee),e.timeContainer.appendChild(He),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var wt=wf("flatpickr-second");e.secondElement=wt.getElementsByTagName("input")[0],e.secondElement.value=Wo(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():Q.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(sn("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(wt)}return e.config.time_24hr||(e.amPM=sn("span","flatpickr-am-pm",e.l10n.amPM[bs((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}()),xo(e.calendarContainer,"rangeMode","range"===e.config.mode),xo(e.calendarContainer,"animate",!0===e.config.animate),xo(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(Q);var wt=void 0!==e.config.appendTo&&void 0!==e.config.appendTo.nodeType;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!wt&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):void 0!==e.config.appendTo&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var Rt=sn("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(Rt,e.element),Rt.appendChild(e.element),e.altInput&&Rt.appendChild(e.altInput),Rt.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(void 0!==e.config.appendTo?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}(),function J(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(be){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+be+"]"),function(He){return U(He,"click",e[be])})}),e.isMobile)!function lz(){var Q=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=sn("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=Q,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr="datetime-local"===Q?"Y-m-d\\TH:i:S":"date"===Q?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",void 0!==e.altInput&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}U(e.mobileInput,"change",function(ee){e.setDate(rs(ee).value,!1,e.mobileFormatStr),jn("onChange"),jn("onClose")})}();else{var Q=OT(Ao,50);if(e._debouncedChange=OT(X,300),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&U(e.daysContainer,"mouseover",function(be){"range"===e.config.mode&&zs(rs(be))}),U(e._input,"keydown",La),void 0!==e.calendarContainer&&U(e.calendarContainer,"keydown",La),!e.config.inline&&!e.config.static&&U(window,"resize",Q),void 0!==window.ontouchstart?U(window.document,"touchstart",Us):U(window.document,"mousedown",Us),U(window.document,"focus",Us,{capture:!0}),!0===e.config.clickOpens&&(U(e._input,"focus",e.open),U(e._input,"click",e.open)),void 0!==e.daysContainer&&(U(e.monthNav,"click",cz),U(e.monthNav,["keyup","increment"],H),U(e.daysContainer,"click",Ix)),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement){U(e.timeContainer,["increment"],u),U(e.timeContainer,"blur",u,{capture:!0}),U(e.timeContainer,"click",ne),U([e.hourElement,e.minuteElement],["focus","click"],function(be){return rs(be).select()}),void 0!==e.secondElement&&U(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),void 0!==e.amPM&&U(e.amPM,"click",function(be){u(be)})}e.config.allowInput&&U(e._input,"blur",Vu)}}(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&E(e.config.noCalendar?e.latestSelectedDateObj:void 0),Va(!1)),l();var Q=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&Q&&Wf(),jn("onReady")}(),e}function Lu(i,t){for(var e=Array.prototype.slice.call(i).filter(function(a){return a instanceof HTMLElement}),r=[],o=0;o<e.length;o++){var s=e[o];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=CB(s,t||{}),r.push(s._flatpickr)}catch(a){console.error(a)}}return 1===r.length?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(i){return Lu(this,i)},HTMLElement.prototype.flatpickr=function(i){return Lu([this],i)});var pr=function(i,t){return"string"==typeof i?Lu(window.document.querySelectorAll(i),t):i instanceof Node?Lu([i],t):Lu(i,t)};pr.defaultConfig={},pr.l10ns={en:co({},i_),default:co({},i_)},pr.localize=function(i){pr.l10ns.default=co(co({},pr.l10ns.default),i)},pr.setDefaults=function(i){pr.defaultConfig=co(co({},pr.defaultConfig),i)},pr.parseDate=o_({}),pr.formatDate=RT({}),pr.compareDates=os,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(i){return Lu(this,i)}),Date.prototype.fp_incr=function(i){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof i?parseInt(i,10):i))},typeof window<"u"&&(window.flatpickr=pr);const Ef=pr;class xr{constructor(){this._boundedEvents=[]}get boundedEvents(){return this._boundedEvents}dispose(){this.unbindAll(),this._boundedEvents=[]}bind(t,e,r,o){const s=Array.isArray(e)?e:[e];if(t?.forEach)t?.forEach(a=>{for(const l of s)a.addEventListener(l,r,o),this._boundedEvents.push({element:a,eventName:l,listener:r})});else for(const a of s)t.addEventListener(a,r,o),this._boundedEvents.push({element:t,eventName:a,listener:r})}unbind(t,e,r){const o=Array.isArray(t)?t:[t],s=Array.isArray(e)?e:[e];for(const a of s)for(const l of o)l?.removeEventListener&&l.removeEventListener(a,r)}unbindAll(){for(;this._boundedEvents.length>0;){const t=this._boundedEvents.pop(),{element:e,eventName:r,listener:o}=t;this.unbind(e,r,o)}}}const yB=_&&Ef||_;class Sf{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._debounceTypingDelay=0,this._shouldTriggerQuery=!0,this._inputType="text",this.searchTerms=[],this._bindEventService=new xr}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this.grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get columnFilter(){var t,e;return null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)&&void 0!==e?e:{}}get defaultOperator(){return Xt.empty}get inputType(){return this._inputType}set inputType(t){this._inputType=t}get locales(){return this.gridOptions.locales||zt.locales}get operator(){return this._operator||this.defaultOperator}set operator(t){this._operator=t}init(t){var e,r,o,s,a;if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm;const l=null===(e=this.gridOptions)||void 0===e?void 0:e.backendServiceApi;this._debounceTypingDelay=null!==(a=l?null!==(r=l?.filterTypingDebounce)&&void 0!==r?r:null===(o=this.gridOptions)||void 0===o?void 0:o.defaultBackendServiceFilterTypingDebounce:null===(s=this.gridOptions)||void 0===s?void 0:s.filterTypingDebounce)&&void 0!==a?a:0;const u=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(u),this._bindEventService.bind(this._filterInputElm,["keyup","blur","change","wheel"],this.onTriggerEvent.bind(this)),this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this))}clear(t=!0){this._filterElm&&this._selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this._selectOperatorElm.selectedIndex=0,this._filterInputElm.value="",this.onTriggerEvent(void 0),this._filterElm.classList.remove("filled"),this._filterInputElm.classList.remove("filled"))}destroy(){var t,e,r,o;this._bindEventService.unbindAll(),null===(e=null===(t=this._selectOperatorElm)||void 0===t?void 0:t.remove)||void 0===e||e.call(t),null===(o=null===(r=this._filterElm)||void 0===r?void 0:r.remove)||void 0===o||o.call(r)}getValues(){return this._filterInputElm.value}setValues(t,e){let r="";if(t&&(r=`${(Array.isArray(t)?t[0]:t)??""}`),this._filterInputElm.value=r,""!==this.getValues()?(this._filterElm.classList.add("filled"),this._filterInputElm.classList.add("filled")):(this._filterElm.classList.remove("filled"),this._filterInputElm.classList.remove("filled")),this.operator=e||this.defaultOperator,e&&this._selectOperatorElm){const o=Fl(this.operator);this._selectOperatorElm.value=o}}buildInputElement(){var t,e,r,o,s,a,l;const u=null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==e?e:"";let d=null!==(o=null===(r=this.gridOptions)||void 0===r?void 0:r.defaultFilterPlaceholder)&&void 0!==o?o:"";null!==(s=this.columnFilter)&&void 0!==s&&s.placeholder&&(d=this.columnFilter.placeholder);const p=Le("input",{type:this._inputType||"text",autocomplete:"off",placeholder:d,className:`form-control compound-input filter-${u}`});return p.setAttribute("role","presentation"),p.setAttribute("aria-label",null!==(l=null===(a=this.columnFilter)||void 0===a?void 0:a.ariaLabel)&&void 0!==l?l:`${is(u+"")} Search Filter`),p}getOperatorOptionValues(){var t;let r=[];if(null!==(t=this.columnFilter)&&void 0!==t&&t.compoundOperatorList)return this.columnFilter.compoundOperatorList;switch(this.columnDef.type&&this.columnDef.type?this.columnDef.type:"string"){case"string":case"text":case"readonly":case"password":r=[{operator:"",description:this.getOutputText("CONTAINS","TEXT_CONTAINS","Contains")},{operator:"<>",description:this.getOutputText("NOT_CONTAINS","TEXT_NOT_CONTAINS","Not Contains")},{operator:"=",description:this.getOutputText("EQUALS","TEXT_EQUALS","Equals")},{operator:"!=",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")},{operator:"a*",description:this.getOutputText("STARTS_WITH","TEXT_STARTS_WITH","Starts with")},{operator:"*z",description:this.getOutputText("ENDS_WITH","TEXT_ENDS_WITH","Ends with")}];break;default:r=[{operator:"",description:""},{operator:"=",description:this.getOutputText("EQUAL_TO","TEXT_EQUAL_TO","Equal to")},{operator:"<",description:this.getOutputText("LESS_THAN","TEXT_LESS_THAN","Less than")},{operator:"<=",description:this.getOutputText("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to")},{operator:">",description:this.getOutputText("GREATER_THAN","TEXT_GREATER_THAN","Greater than")},{operator:">=",description:this.getOutputText("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to")},{operator:"<>",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")}]}return r}getOutputText(t,e,r){var o,s,a,l;if((null===(o=this.gridOptions)||void 0===o?void 0:o.enableTranslate)&&(null===(s=this.translaterService)||void 0===s?void 0:s.translate)){const u=ys(this.gridOptions);return this.translaterService.translate(`${u}${t}`)}return null!==(l=null===(a=this.locales)||void 0===a?void 0:a[e])&&void 0!==l?l:r}createDomElement(t){var e,r;const o=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"";bn(this.filterContainerElm),this._selectOperatorElm=Zv(this.getOperatorOptionValues(),this.gridOptions),this._filterInputElm=this.buildInputElement();const s=Le("span"),a=Le("div",{className:`form-group search-filter filter-${o}`}),l=Le("div",{className:"input-group"}),u=Le("div",{className:"input-group-addon input-group-prepend operator"});if(u.appendChild(this._selectOperatorElm),l.appendChild(u),l.appendChild(this._filterInputElm),l.appendChild(s),a.appendChild(l),this._filterInputElm.value=`${t??""}`,this._filterInputElm.dataset.columnid=`${o}`,this.operator){const d=Fl(this.operator);this._selectOperatorElm.value=d}return t&&this._filterInputElm.classList.add("filled"),a&&this.filterContainerElm.appendChild(a),a}onTriggerEvent(t){var e;if(this._clearFilterTriggered)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled");else{const r=null!==(e=t?.type)&&void 0!==e?e:"",o=this._selectOperatorElm.value;let s=this._filterInputElm.value;const a=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof s&&a&&(s=s.trim()),null!=s&&""!==s?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled");const l={columnDef:this.columnDef,searchTerms:s?[s]:null,operator:o,shouldTriggerQuery:this._shouldTriggerQuery},u="keyup"===r&&"Enter"!==t?.key?this._debounceTypingDelay:0;u>0?(clearTimeout(this.timer),this.timer=setTimeout(()=>this.callback(t,l),u)):this.callback(t,l)}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}}const xB=_&&Ef||_,kT=Pl()||sl;class FT{constructor(t){this.translaterService=t}filterCollection(t,e,r=ku.chain){let o=[];if(Array.isArray(e)){o=r===ku.merge?[]:[...t];for(const s of e)if(r===ku.merge){const a=this.singleFilterCollection(t,s);o=bT([...o,...a])}else o=this.singleFilterCollection(o,s)}else o=this.singleFilterCollection(t,e);return o}singleFilterCollection(t,e){let r=[];if(e){const o=e.property,a=typeof e.value>"u"?"":e.value;switch(e.operator||Xt.equal){case Xt.equal:r=t.filter(o?l=>l[o]===a:l=>l===a);break;case Xt.contains:r=t.filter(o?l=>-1!==l[o].toString().indexOf(a.toString()):l=>null!=l&&-1!==l.toString().indexOf(a.toString()));break;case Xt.notContains:r=t.filter(o?l=>-1===l[o].toString().indexOf(a.toString()):l=>null!=l&&-1===l.toString().indexOf(a.toString()));break;default:r=t.filter(o?l=>l[o]!==a:l=>l!==a)}}return r}sortCollection(t,e,r,o){var s,a,l,u;if(o&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let d=[];if(r)if(Array.isArray(r))d=e.sort((p,m)=>{var E,P,H,U;for(let X=0,J=r.length;X<J;X++){const te=r[X];if(te?.property){const ne=te.sortDesc?Gn.desc:Gn.asc,De=te.property,it=cc(null!==(P=null!==(E=te?.fieldType)&&void 0!==E?E:t?.type)&&void 0!==P?P:"string",o?(null===(H=this.translaterService)||void 0===H?void 0:H.translate)&&this.translaterService.translate(p[De]||" "):p[De],o?(null===(U=this.translaterService)||void 0===U?void 0:U.translate)&&this.translaterService.translate(m[De]||" "):m[De],ne,t);if(it!==Gn.neutral)return it}}return Gn.neutral});else if(r?.property){const p=r.property,m=r.sortDesc?Gn.desc:Gn.asc,E=null!==(a=null!==(s=r?.fieldType)&&void 0!==s?s:t?.type)&&void 0!==a?a:"string";d=e.sort((P,H)=>{var U,X;const J=o?(null===(U=this.translaterService)||void 0===U?void 0:U.translate)&&this.translaterService.translate(P[p]||" "):P[p],te=o?(null===(X=this.translaterService)||void 0===X?void 0:X.translate)&&this.translaterService.translate(H[p]||" "):H[p],ne=cc(E,J,te,m,t);return ne!==Gn.neutral?ne:Gn.neutral})}else if(r&&!r.property){const p=r.sortDesc?Gn.desc:Gn.asc,m=null!==(u=null!==(l=r?.fieldType)&&void 0!==l?l:t?.type)&&void 0!==u?u:"string";d=e.sort((E,P)=>{var H,U;const X=o?(null===(H=this.translaterService)||void 0===H?void 0:H.translate)&&this.translaterService.translate(E||" "):E,J=o?(null===(U=this.translaterService)||void 0===U?void 0:U.translate)&&this.translaterService.translate(P||" "):P,te=cc(m,X,J,p,t);return te!==Gn.neutral?te:Gn.neutral})}return d}}class OB{constructor(t,e,r){this.sharedService=t,this.backendUtilities=e,this.translaterService=r}getPickerTitleOutputString(t,e){var r,o,s,a,l,u,d,p,m,E,P,H,U,X,J;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let te="";const ne=null!==(o=null===(r=this.sharedService.gridOptions)||void 0===r?void 0:r[e])&&void 0!==o?o:{},De=null!==(a=null===(s=this.sharedService.gridOptions)||void 0===s?void 0:s.enableTranslate)&&void 0!==a&&a,xe=null!==(u=null===(l=this.sharedService.gridOptions)||void 0===l?void 0:l.locales)&&void 0!==u?u:zt.locales,Ue=ne?.[t],ot=ne?.[`${t}Key`],Wt=ys(this.sharedService.gridOptions);if(ot&&(null===(d=this.translaterService)||void 0===d?void 0:d.translate))te=this.translaterService.translate(ot||" ");else switch(t){case"commandTitle":te=Ue||De&&(null===(p=this.translaterService)||void 0===p?void 0:p.getCurrentLanguage)&&(null===(m=this.translaterService)||void 0===m?void 0:m.translate(`${Wt}COMMANDS`||" "))||xe?.TEXT_COMMANDS;break;case"columnTitle":te=Ue||De&&(null===(E=this.translaterService)||void 0===E?void 0:E.getCurrentLanguage)&&(null===(P=this.translaterService)||void 0===P?void 0:P.translate(`${Wt}COLUMNS`||" "))||xe?.TEXT_COLUMNS;break;case"forceFitTitle":te=Ue||De&&(null===(H=this.translaterService)||void 0===H?void 0:H.getCurrentLanguage)&&(null===(U=this.translaterService)||void 0===U?void 0:U.translate(`${Wt}FORCE_FIT_COLUMNS`||" "))||xe?.TEXT_FORCE_FIT_COLUMNS;break;case"syncResizeTitle":te=Ue||De&&(null===(X=this.translaterService)||void 0===X?void 0:X.getCurrentLanguage)&&(null===(J=this.translaterService)||void 0===J?void 0:J.translate(`${Wt}SYNCHRONOUS_RESIZE`||" "))||xe?.TEXT_SYNCHRONOUS_RESIZE;break;default:te=Ue}return te}readjustFrozenColumnIndexWhenNeeded(t,e,r){if(t>=0){const o=r.findIndex(s=>s.id===this.sharedService.frozenVisibleColumnId);o>=0&&o!==t&&(this.sharedService.gridOptions.frozenColumn=o,this.sharedService.slickGrid.setOptions({frozenColumn:o})),Array.isArray(r)&&Array.isArray(e)&&r.length!==e.length&&this.sharedService.slickGrid.setColumns(r)}}refreshBackendDataset(t){var e;let r=this.sharedService.gridOptions;t&&(r={...this.sharedService.gridOptions,...t},this.sharedService.gridOptions=r),null===(e=this.backendUtilities)||void 0===e||e.refreshBackendDataset(r)}runOverrideFunctionWhenExists(t,e){return"function"!=typeof t||!!t.call(this,e)}sortItems(t,e){Array.isArray(t)&&t.sort((r,o)=>r&&o&&r.hasOwnProperty(e)&&o.hasOwnProperty(e)?r[e]-o[e]:0)}translateItems(t,e,r){var o,s;if(Array.isArray(t))for(const a of t)a.hasOwnProperty(e)&&(a[r]=null===(s=null===(o=this.translaterService)||void 0===o?void 0:o.translate)||void 0===s?void 0:s.call(o,a[e]))}translateMenuItemsFromTitleKey(t){for(const e of t)"object"==typeof e&&e.titleKey&&(e.title=this.translateWhenEnabledAndServiceExist(`${e.titleKey}`,`TEXT_${e.titleKey}`))}translateWhenEnabledAndServiceExist(t,e,r){var o,s,a;let l="";const u=null===(o=this.sharedService)||void 0===o?void 0:o.gridOptions,d=null!==(s=u?.locales)&&void 0!==s?s:zt.locales;return l=r||(u.enableTranslate&&(null===(a=this.translaterService)||void 0===a?void 0:a.translate)?this.translaterService.translate(t||" "):e in d?d[e]:e),l}}class IB{constructor(t){this._defaults={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:void 0,replaceExisting:!0},this.pluginName="AutoTooltips",this._eventHandler=new Slick.EventHandler,this._addonOptions=t}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}init(t){this._addonOptions={...this._defaults,...this.addonOptions},this._grid=t,this._addonOptions.enableForCells&&this._eventHandler.subscribe(this._grid.onMouseEnter,this.handleMouseEnter.bind(this)),this._addonOptions.enableForHeaderCells&&this._eventHandler.subscribe(this._grid.onHeaderMouseEnter,this.handleHeaderMouseEnter.bind(this))}dispose(){var t;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll()}handleMouseEnter(t){var e,r,o,s,a;const l=this._grid.getCellFromEvent(t);if(l){let d,u=this._grid.getCellNode(l.row,l.cell);this._addonOptions&&u&&(!u.title||(null===(e=this._addonOptions)||void 0===e?void 0:e.replaceExisting))&&(u.clientWidth<u.scrollWidth?(d=null!==(o=null===(r=u.textContent)||void 0===r?void 0:r.trim())&&void 0!==o?o:"",(null===(s=this._addonOptions)||void 0===s?void 0:s.maxToolTipLength)&&d.length>(null===(a=this._addonOptions)||void 0===a?void 0:a.maxToolTipLength)&&(d=d.substr(0,this._addonOptions.maxToolTipLength-3)+"...")):d="",u.title=d),u=null}}handleHeaderMouseEnter(t,e){var r;const o=e.column;let s;const a=t.target;a&&(s=a.closest(".slick-header-column"),s&&!o?.toolTip&&(s.title=a.clientWidth<s.clientWidth&&null!==(r=o?.name)&&void 0!==r?r:"")),s=null}}class RB{constructor(){this.pluginName="CellExcelCopyManager",this._eventHandler=new Slick.EventHandler,this._bindingEventService=new xr}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get commandQueue(){return this._commandQueue}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get undoRedoBuffer(){return this._undoRedoBuffer}init(t,e){this._grid=t,this.createUndoRedoBuffer(),this._cellSelectionModel=new NB,this._grid.setSelectionModel(this._cellSelectionModel),this._bindingEventService.bind(document.body,"keydown",this.handleBodyKeyDown.bind(this)),this._addonOptions={...this.getDefaultOptions(),...e},this._cellExternalCopyManagerPlugin=new PB,this._cellExternalCopyManagerPlugin.init(this._grid,this._addonOptions),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onCopyCells,(r,o)=>{this._addonOptions&&"function"==typeof this._addonOptions.onCopyCells&&this._addonOptions.onCopyCells(r,o)}),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onCopyCancelled,(r,o)=>{this._addonOptions&&"function"==typeof this._addonOptions.onCopyCancelled&&this._addonOptions.onCopyCancelled(r,o)}),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onPasteCells,(r,o)=>{this._addonOptions&&"function"==typeof this._addonOptions.onPasteCells&&this._addonOptions.onPasteCells(r,o)})}dispose(){var t,e;this._eventHandler.unsubscribeAll(),this._bindingEventService.unbindAll(),null===(t=this._cellSelectionModel)||void 0===t||t.dispose(),null===(e=this._cellExternalCopyManagerPlugin)||void 0===e||e.dispose()}createUndoRedoBuffer(){let t=0;this._commandQueue=[],this._undoRedoBuffer={queueAndExecuteCommand:e=>{this._commandQueue[t]=e,t++,e.execute()},undo:()=>{if(0===t)return;t--;const e=this._commandQueue[t];e&&Slick.GlobalEditorLock.cancelCurrentEdit()&&e.undo()},redo:()=>{if(t>=this._commandQueue.length)return;const e=this._commandQueue[t];t++,e&&Slick.GlobalEditorLock.cancelCurrentEdit()&&e.execute()}}}getDefaultOptions(){let t=0;return{clipboardCommandHandler:e=>{this._undoRedoBuffer.queueAndExecuteCommand.call(this._undoRedoBuffer,e)},dataItemColumnValueExtractor:(e,r)=>{if(!this.gridOptions.editable||!r.editor){const o={...this.gridOptions.exportOptions,...this.gridOptions.textExportOptions},s=void 0!==r.exportWithFormatter?r.exportWithFormatter:o?.exportWithFormatter;if(r.formatter&&s){const a=r.formatter(0,0,e[r.field],r,e,this._grid);if(r.sanitizeDataExport||o?.sanitizeDataExport){let l=a;return a&&"object"==typeof a&&a.hasOwnProperty("text")&&(l=a.text),null===l&&(l=""),hc(l)}return a}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:e=>{for(let r=0;r<e;r++)this._grid.getData().addItem({id:"newRow_"+t++})}}}handleBodyKeyDown(t){90===(t.keyCode||t.code)&&(t.ctrlKey||t.metaKey)&&(t.shiftKey?this._undoRedoBuffer.redo():this._undoRedoBuffer.undo())}}class PB{constructor(){this._bodyElement=document.body,this._copiedCellStyle="copied",this._copiedCellStyleLayerKey="copy-manager",this._copiedRanges=null,this.pluginName="CellExternalCopyManager",this.onCopyCells=new Slick.Event,this.onCopyCancelled=new Slick.Event,this.onPasteCells=new Slick.Event,this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get clipCommand(){return this._clipCommand}get eventHandler(){return this._eventHandler}init(t,e){this._grid=t,this._addonOptions={...this._addonOptions,...e},this._copiedCellStyleLayerKey=this._addonOptions.copiedCellStyleLayerKey||"copy-manager",this._copiedCellStyle=this._addonOptions.copiedCellStyle||"copied",this._bodyElement=this._addonOptions.bodyElement||document.body,this._onCopyInit=this._addonOptions.onCopyInit||void 0,this._onCopySuccess=this._addonOptions.onCopySuccess||void 0,this._eventHandler.subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this));const r=t.getSelectionModel();if(!r)throw new Error("Selection model is mandatory for this plugin. Please set a selection model on the grid before adding this plugin: grid.setSelectionModel(new Slick.CellSelectionModel())");this._eventHandler.subscribe(r.onSelectedRangesChanged,()=>this._grid.focus())}dispose(){this._eventHandler.unsubscribeAll()}clearCopySelection(){this._grid.removeCellCssStyles(this._copiedCellStyleLayerKey)}getHeaderValueForColumn(t){if("function"==typeof this._addonOptions.headerColumnValueExtractor){const e=this._addonOptions.headerColumnValueExtractor(t);if(e)return e}return t.name}getDataItemValueForColumn(t,e,r){if("function"==typeof this._addonOptions.dataItemColumnValueExtractor){const s=this._addonOptions.dataItemColumnValueExtractor(t,e);if(s)return s}let o="";if(e)if(e.editor){const s=new e.editor({container:document.createElement("p"),column:e,event:r,position:{top:0,left:0},grid:this._grid});s.loadValue(t),o=s.serializeValue(),s.destroy()}else o=t[e.field||""];return o}setDataItemValueForColumn(t,e,r){if(!e?.denyPaste){if(this._addonOptions.dataItemColumnValueSetter)return this._addonOptions.dataItemColumnValueSetter(t,e,r);if(e.editor){const o=new e.editor({container:document.body,column:e,position:{top:0,left:0},grid:this._grid});o.loadValue(t),o.applyValue(t,r),o.destroy()}else t[e.field]=r}}setIncludeHeaderWhenCopying(t){this._addonOptions.includeHeaderWhenCopying=t}createTextBox(t){const e=Le("textarea",{value:t,style:{position:"absolute",left:"-1000px",top:`${document.body.scrollTop}px`}});return this._bodyElement.appendChild(e),e.select(),e}decodeTabularData(t,e){var r;const o=t.getColumns(),a=e.value.split(/[\n\f\r]/);""===a[a.length-1]&&a.pop();let l=0;const u=[];this._bodyElement.removeChild(e);for(const De of a)u[l++]=""!==De?De.split("\t"):[""];const d=this._grid.getActiveCell(),p=null===(r=this._grid.getSelectionModel())||void 0===r?void 0:r.getSelectedRanges(),m=p?.length?p[0]:null;let E,P;if(m)E=m.fromRow,P=m.fromCell;else{if(!d)return;E=d.row,P=d.cell}let H=!1,U=u.length,X=u.length?u[0].length:0;1===u.length&&1===u[0].length&&m&&(H=!0,U=m.toRow-m.fromRow+1,X=m.toCell-m.fromCell+1);const J=this._grid.getData().length-E;let te=0;if(J<U&&"function"==typeof this._addonOptions.newRowCreator){const De=this._grid.getData();for(te=1;te<=U-J;te++)De.push({});this._grid.setData(De),this._grid.render()}if(E+U>this._grid.getDataLength()&&"function"==typeof this._addonOptions.newRowCreator){const De=E+U-this._grid.getDataLength();this._addonOptions.newRowCreator(De)}this._clipCommand={isClipboardCommand:!0,clippedRange:u,oldValues:[],cellExternalCopyManager:this,_options:this._addonOptions,setDataItemValueForColumn:this.setDataItemValueForColumn,markCopySelection:this.markCopySelection,oneCellToMultiple:H,activeRow:E,activeCell:P,destH:U,destW:X,maxDestY:this._grid.getDataLength(),maxDestX:this._grid.getColumns().length,h:0,w:0,execute:()=>{var De;this._clipCommand.h=0;for(let Ue=0;Ue<this._clipCommand.destH;Ue++){this._clipCommand.oldValues[Ue]=[],this._clipCommand.w=0,this._clipCommand.h++;for(let ot=0;ot<this._clipCommand.destW;ot++){this._clipCommand.w++;const it=E+Ue,Wt=P+ot;if(it<this._clipCommand.maxDestY&&Wt<this._clipCommand.maxDestX){const Jt=this._grid.getDataItem(it);this._clipCommand.oldValues[Ue][ot]=Jt[o[Wt].field],this.setDataItemValueForColumn(Jt,o[Wt],H?u[0][0]:u[Ue]?u[Ue][ot]:""),this._grid.updateCell(it,Wt),this._grid.onCellChange.notify({row:it,cell:Wt,item:Jt,grid:this._grid,column:{}})}}}const xe={fromCell:P,fromRow:E,toCell:P+this._clipCommand.w-1,toRow:E+this._clipCommand.h-1};this.markCopySelection([xe]),null===(De=this._grid.getSelectionModel())||void 0===De||De.setSelectedRanges([xe]),this.onPasteCells.notify({ranges:[xe]})},undo:()=>{var De;for(let Ue=0;Ue<this._clipCommand.destH;Ue++)for(let ot=0;ot<this._clipCommand.destW;ot++){const it=E+Ue,Wt=P+ot;if(it<this._clipCommand.maxDestY&&Wt<this._clipCommand.maxDestX){const Jt=this._grid.getDataItem(it);this.setDataItemValueForColumn(Jt,o[Wt],H?this._clipCommand.oldValues[0][0]:this._clipCommand.oldValues[Ue][ot]),this._grid.updateCell(it,Wt),this._grid.onCellChange.notify({row:it,cell:Wt,item:Jt,grid:this._grid,column:{}})}}const xe={fromCell:P,fromRow:E,toCell:P+this._clipCommand.w-1,toRow:E+this._clipCommand.h-1};if(this.markCopySelection([xe]),null===(De=this._grid.getSelectionModel())||void 0===De||De.setSelectedRanges([xe]),this.onPasteCells.notify({ranges:[xe]}),"function"==typeof this._addonOptions.onPasteCells&&this._addonOptions.onPasteCells(new Slick.EventData,{ranges:[xe]}),te>1){const Ue=this._grid.getData();for(;te>1;te--)Ue.splice(Ue.length-1,1);this._grid.setData(Ue),this._grid.render()}}},this._addonOptions.clipboardCommandHandler?this._addonOptions.clipboardCommandHandler(this._clipCommand):this._clipCommand.execute()}handleKeyDown(t){var e,r,o,s,a,l;let u;if(!this._grid.getEditorLock().isActive()||this._grid.getOptions().autoEdit){if((t.which===Ti.ESCAPE||"Escape"===t.key)&&this._copiedRanges&&(t.preventDefault(),this.clearCopySelection(),this.onCopyCancelled.notify({ranges:this._copiedRanges}),"function"==typeof this._addonOptions.onCopyCancelled&&this._addonOptions.onCopyCancelled(t,{ranges:this._copiedRanges}),this._copiedRanges=null),(t.which===Ti.C||"c"===t.key||t.which===Ti.INSERT||"Insert"===t.key)&&(t.ctrlKey||t.metaKey)&&!t.shiftKey&&("function"==typeof this._onCopyInit&&this._onCopyInit.call(this),u=null!==(r=null===(e=this._grid.getSelectionModel())||void 0===e?void 0:e.getSelectedRanges())&&void 0!==r?r:[],0!==u.length)){this._copiedRanges=u,this.markCopySelection(u),this.onCopyCells.notify({ranges:u}),"function"==typeof this._addonOptions.onCopyCells&&this._addonOptions.onCopyCells(t,{ranges:u});const d=this._grid.getColumns();let p="";for(let m=0;m<u.length;m++){const E=u[m],P=[];for(let H=E.fromRow;H<E.toRow+1;H++){const U=[],X=this._grid.getDataItem(H);if(0===P.length&&this._addonOptions.includeHeaderWhenCopying){const J=[];for(let te=E.fromCell;te<E.toCell+1;te++)d[te].name.length>0&&J.push(this.getHeaderValueForColumn(d[te]));P.push(J.join("\t"))}for(let J=E.fromCell;J<E.toCell+1;J++)U.push(this.getDataItemValueForColumn(X,d[J],t));P.push(U.join("\t"))}p+=P.join("\r\n")+"\r\n"}if(window.clipboardData)return window.clipboardData.setData("Text",p),!0;{const m=document.activeElement,E=this.createTextBox(p);return E.focus(),setTimeout(()=>{this._bodyElement.removeChild(E),m?m.focus():console.log("No element to restore focus to after copy?")},null!==(s=null===(o=this.addonOptions)||void 0===o?void 0:o.clipboardPasteDelay)&&void 0!==s?s:100),"function"==typeof this._onCopySuccess&&this._onCopySuccess(1===u.length?u[0].toRow+1-u[0].fromRow:u.length),!1}}if(!this._addonOptions.readOnlyMode&&((t.which===Ti.V||"v"===t.key)&&(t.ctrlKey||t.metaKey)&&!t.shiftKey||(t.which===Ti.INSERT||"Insert"===t.key)&&t.shiftKey&&!t.ctrlKey)){const d=this.createTextBox("");return setTimeout(()=>this.decodeTabularData(this._grid,d),null!==(l=null===(a=this.addonOptions)||void 0===a?void 0:a.clipboardPasteDelay)&&void 0!==l?l:100),!1}}}markCopySelection(t){var e;this.clearCopySelection();const r=this._grid.getColumns(),o={};for(const s of t)for(let a=s.fromRow;a<=s.toRow;a++){o[a]={};for(let l=s.fromCell;l<=s.toCell&&l<r.length;l++)o[a][r[l].id]=this._copiedCellStyle}this._grid.setCellCssStyles(this._copiedCellStyleLayerKey,o),clearTimeout(this._clearCopyTI),this._clearCopyTI=setTimeout(()=>this.clearCopySelection(),(null===(e=this.addonOptions)||void 0===e?void 0:e.clearCopySelectionDelay)||2e3)}}class Df{constructor(t,e,r){this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this._addonOptions={},this._camelPluginName="",this._gridUid="",this._menuCssPrefix="",this._menuPluginCssPrefix="",this._bindEventService=new xr,this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}set addonOptions(t){this._addonOptions=t}get eventHandler(){return this._eventHandler}get grid(){return this.sharedService.slickGrid}get gridOptions(){var t;return null!==(t=this.sharedService.gridOptions)&&void 0!==t?t:{}}get gridUid(){var t,e;return this._gridUid||(null!==(e=null===(t=this.grid)||void 0===t?void 0:t.getUID())&&void 0!==e?e:"")}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get menuElement(){return this._menuElm||document.querySelector(`.${this._menuPluginCssPrefix||this._menuCssPrefix}${this.gridUidSelector}`)}dispose(){var t,e,r,o,s;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll(),this._bindEventService.unbindAll(),this.pubSubService.unsubscribeAll(),null===(e=this._commandTitleElm)||void 0===e||e.remove(),null===(r=this._optionTitleElm)||void 0===r||r.remove(),null===(o=this.menuElement)||void 0===o||o.remove(),bn(this._menuElm),null===(s=this._menuElm)||void 0===s||s.remove()}setOptions(t){this._addonOptions={...this._addonOptions,...t}}populateCommandOrOptionItems(t,e,r,o,s,a){if(s&&o&&e)for(const l of o)this.populateSingleCommandOrOptionItem(t,e,r,l,s,a)}populateCommandOrOptionTitle(t,e,r){var o,s;if(e){const a=null!==(s=null===(o=this._menuElm)||void 0===o?void 0:o.querySelector(`.slick-${t}-header`))&&void 0!==s?s:Le("div",{className:`slick-${t}-header`}),l=`${t}Title`;e?.[l]?(this[`_${t}TitleElm`]=Le("span",{className:"slick-menu-title",textContent:e[l]}),a.appendChild(this[`_${t}TitleElm`]),a.classList.add("with-title")):a.classList.add("no-title"),r.appendChild(a)}}populateSingleCommandOrOptionItem(t,e,r,o,s,a){let l=null;if(s&&o&&e){const d=`${this._menuCssPrefix}${"headerButtons"===this._camelPluginName?"":"-item"}`;let p=!0,m=!0;if("object"==typeof o&&(p=this.extensionUtility.runOverrideFunctionWhenExists(o.itemVisibilityOverride,s),m=this.extensionUtility.runOverrideFunctionWhenExists(o.itemUsabilityOverride,s)),!p)return null;if("object"==typeof o&&o.itemUsabilityOverride&&(o.disabled=!m),l=Le("li",{className:d}),"object"==typeof o&&lc(o[t])&&(l.dataset[t]=o?.[t]),r&&r.appendChild(l),"object"==typeof o&&o.divider||"divider"===o)return l.classList.add(`${d}-divider`),l;if(o.disabled&&l.classList.add(`${d}-disabled`),(o.hidden||o.showOnHover)&&l.classList.add(`${d}-hidden`),o.cssClass&&l.classList.add(...o.cssClass.split(" ")),o.tooltip&&(l.title=o.tooltip),"headerButtons"!==this._camelPluginName){const E=Le("div",{className:`${this._menuCssPrefix}-icon`});l.appendChild(E),o.iconCssClass?E.classList.add(...o.iconCssClass.split(" ")):E.textContent="\u25e6";const P=Le("span",{className:`${this._menuCssPrefix}-content`,textContent:"object"==typeof o&&o.title||""});l.appendChild(P),o.textCssClass&&P.classList.add(...o.textCssClass.split(" "))}this._bindEventService.bind(l,"click",E=>a.call(this,E,t,o,s?.column)),o.handler&&!o.disabled&&this._bindEventService.bind(l,"click",E=>o.handler.call(this,E))}return l}}class LT extends Df{constructor(t,e,r){super(t,e,r),this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this._currentCell=-1,this._currentRow=-1}createMenu(t){var e,r,o,s,a,l,u,d,p,m,E,P,H,U,X;null===(e=this.menuElement)||void 0===e||e.remove(),this._menuElm=void 0;const J=this.grid.getCellFromEvent(t);if(J){this._currentCell=null!==(r=J.cell)&&void 0!==r?r:0,this._currentRow=null!==(o=J.row)&&void 0!==o?o:0;const te=this.grid.getColumns()[this._currentCell],ne=this.grid.getDataItem(this._currentRow),De=(null===(s=this._addonOptions)||void 0===s?void 0:s.commandItems)||[],xe=(null===(a=this._addonOptions)||void 0===a?void 0:a.optionItems)||[];let Ue=!0,ot=!0;if("contextMenu"===this._camelPluginName){if(Ue=this.checkIsColumnAllowed(null!==(u=null===(l=this._addonOptions)||void 0===l?void 0:l.optionShownOverColumnIds)&&void 0!==u?u:[],te.id),ot=this.checkIsColumnAllowed(null!==(p=null===(d=this._addonOptions)||void 0===d?void 0:d.commandShownOverColumnIds)&&void 0!==p?p:[],te.id),!te||!(ot&&De.length||Ue&&xe.length))return void this.hideMenu()}else if(!te||!te.cellMenu||!De.length&&!xe.length)return;const it={cell:this._currentCell,row:this._currentRow,grid:this.grid};if(this.closeMenu(t,it),"function"==typeof t.stopPropagation&&(this.pubSubService.publish(`on${uc(this._camelPluginName)}BeforeMenuShow`,it),"function"==typeof(null===(m=this.addonOptions)||void 0===m?void 0:m.onBeforeMenuShow)&&!1===this.addonOptions.onBeforeMenuShow(t,it)))return;this._menuElm=Le("div",{className:`${this._menuPluginCssPrefix||this._menuCssPrefix} ${this.gridUid}`,style:{display:"none",left:`${t.pageX}px`,top:`${t.pageY+5}px`}});const Wt=isNaN(this.addonOptions.maxHeight)?this.addonOptions.maxHeight:`${null!==(E=this.addonOptions.maxHeight)&&void 0!==E?E:0}px`,Jt=isNaN(this.addonOptions.maxWidth)?this.addonOptions.maxWidth:`${null!==(P=this.addonOptions.maxWidth)&&void 0!==P?P:0}px`;Wt&&(this._menuElm.style.maxHeight=Wt),Jt&&(this._menuElm.style.maxWidth=Jt),null!==(H=this.addonOptions)&&void 0!==H&&H.width&&(this._menuElm.style.width=ll(null===(U=this.addonOptions)||void 0===U?void 0:U.width));const Kt=Le("button",{className:"close",type:"button",innerHTML:"&times;",dataset:{dismiss:this._menuCssPrefix}});if(Kt.setAttribute("aria-label","Close"),!this.addonOptions.hideOptionSection&&Ue&&xe.length>0){const $i=Le("div",{className:`${this._menuCssPrefix}-option-list`});this.populateCommandOrOptionTitle("option",this.addonOptions,$i),this.addonOptions.hideCloseButton||this.populateCommandOrOptionCloseBtn("option",Kt,$i),this._menuElm.appendChild($i),this.populateCommandOrOptionItems("option",this.addonOptions,$i,xe,{cell:this._currentCell,row:this._currentRow,column:te,dataContext:ne,grid:this.grid},this.handleMenuItemCommandClick)}if(!this.addonOptions.hideCommandSection&&ot&&De.length>0){const $i=Le("div",{className:`${this._menuCssPrefix}-command-list`});this.populateCommandOrOptionTitle("command",this.addonOptions,$i),!this.addonOptions.hideCloseButton&&(!Ue||0===xe.length||this.addonOptions.hideOptionSection)&&this.populateCommandOrOptionCloseBtn("command",Kt,$i),this._menuElm.appendChild($i),this.populateCommandOrOptionItems("command",this.addonOptions,$i,De,{cell:this._currentCell,row:this._currentRow,column:te,dataContext:ne,grid:this.grid},this.handleMenuItemCommandClick)}if(this._menuElm.style.display="block",document.body.appendChild(this._menuElm),this.pubSubService.publish(`on${uc(this._camelPluginName)}AfterMenuShow`,it),"function"==typeof(null===(X=this.addonOptions)||void 0===X?void 0:X.onAfterMenuShow)&&!1===this.addonOptions.onAfterMenuShow(t,it))return}return this._menuElm}closeMenu(t,e){var r;if(this.menuElement){if("function"==typeof(null===(r=this.addonOptions)||void 0===r?void 0:r.onBeforeMenuClose)&&!1===this.addonOptions.onBeforeMenuClose(t,e))return;this.hideMenu()}}hideMenu(){var t;null===(t=this.menuElement)||void 0===t||t.remove(),this._menuElm=null}checkIsColumnAllowed(t,e){return!(t?.length>0)||t.findIndex(r=>r===e)>=0}handleBodyMouseDown(t){var e;(this.menuElement!==t.target&&(null===(e=this.menuElement)||void 0===e||!e.contains(t.target))||"close"===t.target.className)&&this.closeMenu(t,{cell:this._currentCell,row:this._currentRow,grid:this.grid})}handleCloseButtonClicked(t){t.defaultPrevented||this.closeMenu(t,{cell:0,row:0,grid:this.grid})}handleMenuItemCommandClick(t,e,r){var o;if(void 0!==r?.[e]&&"divider"!==r&&!r.disabled&&!r.divider&&void 0!==this._currentCell&&void 0!==this._currentRow){if("option"===e&&!this.grid.getEditorLock().commitCurrentEdit())return;const s=this._currentCell,a=this._currentRow,l=this.grid.getColumns()[this._currentCell],u=this.grid.getDataItem(this._currentRow),d={cell:this._currentCell,row:this._currentRow,grid:this.grid,[e]:r[e],item:r,column:l,dataContext:u},p="command"===e?"onCommand":"onOptionSelected";this.pubSubService.publish(`${this._camelPluginName}:${p}`,d),"function"==typeof(null===(o=this._addonOptions)||void 0===o?void 0:o[p])&&this._addonOptions[p](t,d),"function"==typeof r.action&&r.action.call(this,t,d),t.defaultPrevented||this.closeMenu(t,{cell:s,row:a,grid:this.grid})}}populateCommandOrOptionCloseBtn(t,e,r){var o;this._bindEventService.bind(e,"click",a=>this.handleCloseButtonClicked(a));const s=null!==(o=r.querySelector(`.slick-${t}-header`))&&void 0!==o?o:Le("div",{className:`slick-${t}-header`});s?.appendChild(e),r.appendChild(s),s.classList.add("with-close")}repositionMenu(t){var e,r,o,s,a,l;if(this._menuElm&&t.target){this._menuElm.style.top="0px",this._menuElm.style.left="0px";const u=t.target.closest(".slick-cell");let d=u&&"cellMenu"===this._camelPluginName?null!==(r=null===(e=zo(u))||void 0===e?void 0:e.left)&&void 0!==r?r:0:t.pageX,p=u&&"cellMenu"===this._camelPluginName?null!==(s=null===(o=zo(u))||void 0===o?void 0:o.top)&&void 0!==s?s:0:t.pageY;const m=u.offsetWidth||0,E=(null===(a=this._menuElm)||void 0===a?void 0:a.offsetHeight)||0,P=(null===(l=this._menuElm)||void 0===l?void 0:l.offsetWidth)||this._addonOptions.width||0,H=this.gridOptions.rowHeight||0,U=+(this._addonOptions.autoAdjustDropOffset||0),X=+(this._addonOptions.autoAlignSideOffset||0);if(this._addonOptions.autoAdjustDrop||this._addonOptions.dropDirection){const ne=TT(u).bottom+U-H,De=TT(u).top-U+H;"top"==(ne<E&&De>ne?"top":"bottom")||"top"===this._addonOptions.dropDirection?(this._menuElm.classList.remove("dropdown"),this._menuElm.classList.add("dropup"),p=p-E-U):(this._menuElm.classList.remove("dropup"),this._menuElm.classList.add("dropdown"),p+=U,"cellMenu"===this._camelPluginName&&(p+=H))}if(this._addonOptions.autoAlignSide||"left"===this._addonOptions.dropSide){const J=this.grid.getGridPosition();"left"==(d+ +P>=J.width?"left":"right")||"left"===this._addonOptions.dropSide?(this._menuElm.classList.remove("dropright"),this._menuElm.classList.add("dropleft"),d="cellMenu"===this._camelPluginName?d-(+P-m)-X:d-+P-X):(this._menuElm.classList.remove("dropleft"),this._menuElm.classList.add("dropright"),d+=X)}this._menuElm.style.top=`${p}px`,this._menuElm.style.left=`${d}px`}}}class kB extends LT{constructor(t,e,r){super(t,e,r),this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this._defaults={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!0},this.pluginName="CellMenu",this._camelPluginName="cellMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-cell-menu",this.init(r.gridOptions.cellMenu)}init(t){this._addonOptions={...this._defaults,...t},this.sortMenuItems(this.sharedService.allColumns),this._eventHandler.subscribe(this.grid.onClick,this.handleCellClick.bind(this)),this._addonOptions.hideMenuOnScroll&&this._eventHandler.subscribe(this.grid.onScroll,this.closeMenu.bind(this))}translateCellMenu(){var t;const e=null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions,r=this.sharedService.allColumns;e?.enableTranslate&&Array.isArray(r)&&r.forEach(o=>{if(o?.cellMenu&&(Array.isArray(o.cellMenu.commandItems)||Array.isArray(o.cellMenu.optionItems))){const s=o.cellMenu.commandItems||[],a=o.cellMenu.optionItems||[];o.cellMenu.commandTitleKey&&(o.cellMenu.commandTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(o.cellMenu.commandTitleKey,"TEXT_COMMANDS")||o.cellMenu.commandTitle),o.cellMenu.optionTitleKey&&(o.cellMenu.optionTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(o.cellMenu.optionTitleKey,"TEXT_COMMANDS")||o.cellMenu.optionTitle),this.extensionUtility.translateMenuItemsFromTitleKey(s),this.extensionUtility.translateMenuItemsFromTitleKey(a)}})}handleCellClick(t,e){const r=this.grid.getCellFromEvent(t);if(r){const o=this.grid.getDataItem(r.row),s=this.grid.getColumns()[r.cell];if(s?.cellMenu&&t.preventDefault(),this._addonOptions={...this._addonOptions,...s.cellMenu},(e=e||{}).column=s,e.dataContext=o,e.grid=this.grid,!this.extensionUtility.runOverrideFunctionWhenExists(this._addonOptions.menuUsabilityOverride,e))return;this._menuElm=this.createMenu(t),this._menuElm&&(this.repositionMenu(t),this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.style.display="block"),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}}sortMenuItems(t){t.forEach(e=>{var r,o;!(null===(r=e?.cellMenu)||void 0===r)&&r.commandItems&&this.extensionUtility.sortItems(e.cellMenu.commandItems||[],"positionOrder"),null!==(o=e?.cellMenu)&&void 0!==o&&o.optionItems&&this.extensionUtility.sortItems(e.cellMenu.optionItems||[],"positionOrder")})}}class FB{constructor(t,e){this._defaults={selectionCssClass:"slick-range-decorator",selectionCss:{border:"2px dashed red",zIndex:"9999"},offset:{top:-1,left:-1,height:-2,width:-2}},this.pluginName="CellRangeDecorator",this._addonOptions=Nl(this._defaults,e),this._grid=t}get addonOptions(){return this._addonOptions}get addonElement(){return this._elem}dispose(){this.hide()}hide(){var t;null===(t=this._elem)||void 0===t||t.remove(),this._elem=null}show(t){var e,r,o,s,a;this._elem||(this._elem=Le("div",{className:this._addonOptions.selectionCssClass}),Object.keys(this._addonOptions.selectionCss).forEach(d=>{this._elem.style[d]=this._addonOptions.selectionCss[d]}),this._elem.style.position="absolute",null===(r=null===(e=this._grid)||void 0===e?void 0:e.getActiveCanvasNode())||void 0===r||r.appendChild(this._elem));const l=null===(o=this._grid)||void 0===o?void 0:o.getCellNodeBox(t.fromRow,t.fromCell),u=null===(s=this._grid)||void 0===s?void 0:s.getCellNodeBox(t.toRow,t.toCell);return l&&u&&(null===(a=this._addonOptions)||void 0===a?void 0:a.offset)&&(this._elem.style.top=`${l.top+this._addonOptions.offset.top}px`,this._elem.style.left=`${l.left+this._addonOptions.offset.left}px`,this._elem.style.height=`${u.bottom-l.top+this._addonOptions.offset.height}px`,this._elem.style.width=`${u.right-l.left+this._addonOptions.offset.width}px`),this._elem}}class VT{constructor(t){this._currentlySelectedRange=null,this._dragging=!1,this._gridUid="",this._columnOffset=0,this._rowOffset=0,this._isRightCanvas=!1,this._isBottomCanvas=!1,this._xDelayForNextCell=0,this._yDelayForNextCell=0,this._viewportHeight=0,this._viewportWidth=0,this._scrollLeft=0,this._scrollTop=0,this._defaults={autoScroll:!0,minIntervalToShowNextCell:30,maxIntervalToShowNextCell:600,accelerateInterval:5,selectionCss:{border:"2px dashed blue"}},this.pluginName="CellRangeSelector",this.onBeforeCellRangeSelected=new Slick.Event,this.onCellRangeSelecting=new Slick.Event,this.onCellRangeSelected=new Slick.Event,this._eventHandler=new Slick.EventHandler,this._addonOptions=Nl(this._defaults,t)}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get gridUid(){var t,e;return this._gridUid||(null!==(e=null===(t=this._grid)||void 0===t?void 0:t.getUID())&&void 0!==e?e:"")}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}init(t){this._grid=t,this._decorator=this._addonOptions.cellDecorator||new FB(t,this._addonOptions),this._canvas=t.getCanvasNode(),this._gridOptions=t.getOptions(),this._gridUid=t.getUID(),this._eventHandler.subscribe(this._grid.onDrag,this.handleDrag.bind(this)).subscribe(this._grid.onDragInit,this.handleDragInit.bind(this)).subscribe(this._grid.onDragStart,this.handleDragStart.bind(this)).subscribe(this._grid.onDragEnd,this.handleDragEnd.bind(this)).subscribe(this._grid.onScroll,this.handleScroll.bind(this))}destroy(){this.dispose()}dispose(){var t,e;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll(),bn(this._activeCanvas),bn(this._canvas),null===(e=this._decorator)||void 0===e||e.dispose(),this.stopIntervalTimer()}getCellDecorator(){return this._decorator}getCurrentRange(){return this._currentlySelectedRange}getMouseOffsetViewport(t,e){var r,o;const s=this._activeViewport.scrollLeft,a=this._activeViewport.scrollTop,l=s+this._viewportWidth,u=a+this._viewportHeight,d=zo(this._activeViewport),p=null!==(r=d?.left)&&void 0!==r?r:0,m=null!==(o=d?.top)&&void 0!==o?o:0,E=p+this._viewportWidth,P=m+this._viewportHeight,H={e:t,dd:e,viewport:{left:s,top:a,right:l,bottom:u,offset:{left:p,top:m,right:E,bottom:P}},offset:{x:0,y:0},isOutsideViewport:!1};return t.pageX<p?H.offset.x=t.pageX-p:t.pageX>E&&(H.offset.x=t.pageX-E),t.pageY<m?H.offset.y=m-t.pageY:t.pageY>P&&(H.offset.y=P-t.pageY),H.isOutsideViewport=!!H.offset.x||!!H.offset.y,H}stopIntervalTimer(){this._autoScrollTimerId&&(clearInterval(this._autoScrollTimerId),this._autoScrollTimerId=void 0)}handleDrag(t,e){if(this._dragging||this._gridOptions.enableRowMoveManager){if(this._gridOptions.enableRowMoveManager||t.stopImmediatePropagation(),this.addonOptions.autoScroll&&(this._draggingMouseOffset=this.getMouseOffsetViewport(t,e),this._draggingMouseOffset.isOutsideViewport))return this.handleDragOutsideViewport();this.stopIntervalTimer(),this.handleDragTo(t,e)}}handleDragOutsideViewport(){if(this._xDelayForNextCell=this.addonOptions.maxIntervalToShowNextCell-Math.abs(this._draggingMouseOffset.offset.x)*this.addonOptions.accelerateInterval,this._yDelayForNextCell=this.addonOptions.maxIntervalToShowNextCell-Math.abs(this._draggingMouseOffset.offset.y)*this.addonOptions.accelerateInterval,!this._autoScrollTimerId){let t=0,e=0;this._autoScrollTimerId=setInterval(()=>{let r=!1,o=!1;this._draggingMouseOffset.offset.x?(t+=this.addonOptions.minIntervalToShowNextCell,r=t>=this._xDelayForNextCell):t=0,this._draggingMouseOffset.offset.y?(e+=this.addonOptions.minIntervalToShowNextCell,o=e>=this._yDelayForNextCell):e=0,(r||o)&&(r&&(t=0),o&&(e=0),this.handleDragToNewPosition(r,o))},this.addonOptions.minIntervalToShowNextCell)}}handleDragToNewPosition(t,e){let r=this._draggingMouseOffset.e.pageX,o=this._draggingMouseOffset.e.pageY;const s=this._draggingMouseOffset.offset.x,a=this._draggingMouseOffset.offset.y,l=this._draggingMouseOffset.viewport.offset;t&&s&&(r=s>0?l.right+this._moveDistanceForOneCell.x:l.left-this._moveDistanceForOneCell.x),e&&a&&(o=a>0?l.top-this._moveDistanceForOneCell.y:l.bottom+this._moveDistanceForOneCell.y),this.handleDragTo({pageX:r,pageY:o},this._draggingMouseOffset.dd)}handleDragTo(t,e){var r,o,s,a;const l=this._grid.getCellFromPoint(t.pageX-(null!==(o=null===(r=zo(this._activeCanvas))||void 0===r?void 0:r.left)&&void 0!==o?o:0)+this._columnOffset,t.pageY-(null!==(a=null===(s=zo(this._activeCanvas))||void 0===s?void 0:s.top)&&void 0!==a?a:0)+this._rowOffset);if(void 0!==l){if(this._gridOptions.frozenColumn>=0&&(!this._isRightCanvas&&l.cell>this._gridOptions.frozenColumn||this._isRightCanvas&&l.cell<=this._gridOptions.frozenColumn)||this._gridOptions.frozenRow>=0&&(!this._isBottomCanvas&&l.row>=this._gridOptions.frozenRow||this._isBottomCanvas&&l.row<this._gridOptions.frozenRow))return;if(this.addonOptions.autoScroll&&this._draggingMouseOffset){const u=this._grid.getCellNodeBox(l.row,l.cell);if(u){const d=this._draggingMouseOffset.viewport;(u.left<d.left||u.right>d.right||u.top<d.top||u.bottom>d.bottom)&&this._grid.scrollCellIntoView(l.row,l.cell)}}if(!this._grid.canCellBeSelected(l.row,l.cell))return;if(e?.range){e.range.end=l;const u=new Slick.Range(e.range.start.row,e.range.start.cell,l.row,l.cell);this._decorator.show(u),this.onCellRangeSelecting.notify({range:u})}}}handleDragEnd(t,e){this._dragging&&(this._dragging=!1,t.stopImmediatePropagation(),this.stopIntervalTimer(),this._decorator.hide(),this.onCellRangeSelected.notify({range:new Slick.Range(e.range.start.row,e.range.start.cell,e.range.end.row,e.range.end.cell)}))}handleDragInit(t){var e,r,o,s;this._activeCanvas=this._grid.getActiveCanvasNode(t),this._activeViewport=this._grid.getActiveViewportNode(t);const a=this._grid.getDisplayedScrollbarDimensions();this._viewportWidth=this._activeViewport.offsetWidth-a.width,this._viewportHeight=this._activeViewport.offsetHeight-a.height,this._moveDistanceForOneCell={x:this._grid.getAbsoluteColumnMinWidth()/2,y:this._gridOptions.rowHeight/2},this._rowOffset=0,this._columnOffset=0,this._isBottomCanvas=this._activeCanvas.classList.contains("grid-canvas-bottom"),this._gridOptions.frozenRow>-1&&this._isBottomCanvas&&(this._rowOffset=null!==(r=null===(e=document.querySelector(`${this.gridUidSelector} .grid-canvas-${this._gridOptions.frozenBottom?"bottom":"top"}`))||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0),this._isRightCanvas=this._activeCanvas.classList.contains("grid-canvas-right"),this._gridOptions.frozenColumn>-1&&this._isRightCanvas&&(this._columnOffset=null!==(s=null===(o=document.querySelector(`${this.gridUidSelector} .grid-canvas-left`))||void 0===o?void 0:o.clientWidth)&&void 0!==s?s:0),t.stopImmediatePropagation()}handleDragStart(t,e){var r,o,s,a;const l=this._grid.getCellFromEvent(t);if(l&&!1!==this.onBeforeCellRangeSelected.notify(l)&&this._grid.canCellBeSelected(l.row,l.cell)&&(this._dragging=!0,t.stopImmediatePropagation()),!this._dragging)return;this._grid.focus();let u=e.startX-(null!==(o=null===(r=zo(this._canvas))||void 0===r?void 0:r.left)&&void 0!==o?o:0);this._gridOptions.frozenColumn>=0&&this._isRightCanvas&&(u+=this._scrollLeft);let d=e.startY-(null!==(a=null===(s=zo(this._canvas))||void 0===s?void 0:s.top)&&void 0!==a?a:0);this._gridOptions.frozenRow>=0&&this._isBottomCanvas&&(d+=this._scrollTop);const p=this._grid.getCellFromPoint(u,d);return e.range={start:p,end:{}},this._currentlySelectedRange=e.range,this._decorator.show(new Slick.Range(p.row,p.cell))}handleScroll(t,e){this._scrollTop=e.scrollTop,this._scrollLeft=e.scrollLeft}}class NB{constructor(t){this._canvas=null,this._ranges=[],this._defaults={selectActiveCell:!0},this.onSelectedRangesChanged=new Slick.Event,this.pluginName="CellSelectionModel",this._eventHandler=new Slick.EventHandler,this._selector=void 0===t||void 0===t.cellRangeSelector?new VT({selectionCss:{border:"2px solid black"}}):t.cellRangeSelector,this._addonOptions=t}get addonOptions(){return this._addonOptions}get canvas(){return this._canvas}get cellRangeSelector(){return this._selector}get eventHandler(){return this._eventHandler}init(t){this._grid=t,this._addonOptions={...this._defaults,...this._addonOptions},this._eventHandler.subscribe(this._grid.onActiveCellChanged,this.handleActiveCellChange.bind(this)).subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this)).subscribe(this._selector.onBeforeCellRangeSelected,this.handleBeforeCellRangeSelected.bind(this)).subscribe(this._selector.onCellRangeSelected,this.handleCellRangeSelected.bind(this)),t.registerPlugin(this._selector),this._canvas=this._grid.getCanvasNode()}destroy(){this.dispose()}dispose(){var t,e;this._canvas=null,this._selector&&(this._selector.onBeforeCellRangeSelected.unsubscribe(this.handleBeforeCellRangeSelected.bind(this)),this._selector.onCellRangeSelected.unsubscribe(this.handleCellRangeSelected.bind(this))),this._eventHandler.unsubscribeAll(),null===(t=this._grid)||void 0===t||t.unregisterPlugin(this._selector),null===(e=this._selector)||void 0===e||e.dispose()}getSelectedRanges(){return this._ranges}rangesAreEqual(t,e){let r=t.length!==e.length;if(!r)for(let o=0;o<t.length;o++)if(t[o].fromCell!==e[o].fromCell||t[o].fromRow!==e[o].fromRow||t[o].toCell!==e[o].toCell||t[o].toRow!==e[o].toRow){r=!0;break}return!r}refreshSelections(){this.setSelectedRanges(this.getSelectedRanges())}removeInvalidRanges(t){const e=[];for(let r=0;r<t.length;r++){const o=t[r];this._grid.canCellBeSelected(o.fromRow,o.fromCell)&&this._grid.canCellBeSelected(o.toRow,o.toCell)&&e.push(o)}return e}setSelectedRanges(t,e="SlickCellSelectionModel.setSelectedRanges"){if(!(this._ranges&&0!==this._ranges.length||t&&0!==t.length))return;const r=!this.rangesAreEqual(this._ranges,t);if(this._ranges=this.removeInvalidRanges(t),r){const o=new Slick.EventData;Object.defineProperty(o,"detail",{writable:!0,configurable:!0,value:{caller:e}}),this.onSelectedRangesChanged.notify(this._ranges,o)}}handleActiveCellChange(t,e){var r,o;(null===(r=this._addonOptions)||void 0===r?void 0:r.selectActiveCell)&&null!==e.row&&null!==e.cell?this.setSelectedRanges([new Slick.Range(e.row,e.cell)]):null!==(o=this._addonOptions)&&void 0!==o&&o.selectActiveCell||this.setSelectedRanges([])}handleBeforeCellRangeSelected(t){if(this._grid.getEditorLock().isActive())return t.stopPropagation(),!1}handleCellRangeSelected(t,e){this._grid.setActiveCell(e.range.fromRow,e.range.fromCell,!1,!1,!0),this.setSelectedRanges([e.range])}handleKeyDown(t){let e,r;const o=this._grid.getActiveCell();if(o&&t.shiftKey&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&(t.which===Ti.LEFT||"ArrowLeft"===t.key||t.which===Ti.RIGHT||"ArrowRight"===t.key||t.which===Ti.UP||"ArrowUp"===t.key||t.which===Ti.DOWN||"ArrowDown"===t.key)&&(e=this.getSelectedRanges().slice(),e.length||e.push(new Slick.Range(o.row,o.cell)),r=e.pop(),"function"==typeof r?.contains)){r.contains(o.row,o.cell)||(r=new Slick.Range(o.row,o.cell));let a=r.toRow-r.fromRow,l=r.toCell-r.fromCell;const u=o.row===r.fromRow?1:-1,d=o.cell===r.fromCell?1:-1;t.which===Ti.LEFT||"ArrowLeft"===t.key?l-=d:t.which===Ti.RIGHT||"ArrowRight"===t.key?l+=d:t.which===Ti.UP||"ArrowUp"===t.key?a-=u:(t.which===Ti.DOWN||"ArrowDown"===t.key)&&(a+=u);const p=new Slick.Range(o.row,o.cell,o.row+u*a,o.cell+d*l);if(this.removeInvalidRanges([p]).length){e.push(p);const m=u>0?p.toRow:p.fromRow,E=d>0?p.toCell:p.fromCell;this._grid.scrollRowIntoView(m),this._grid.scrollCellIntoView(m,E,!1)}else e.push(r);this.setSelectedRanges(e),t.preventDefault(),t.stopPropagation()}}}class Tf{constructor(t){this._ranges=[],this._defaults={autoScrollWhenDrag:!0,cellRangeSelector:void 0,dragToSelect:!1,selectActiveRow:!0},this.pluginName="RowSelectionModel",this.onSelectedRangesChanged=new Slick.Event,this._eventHandler=new Slick.EventHandler,this._addonOptions={...this._defaults,...t}}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get gridOptions(){return this._grid.getOptions()}init(t){this._grid=t,this._addonOptions={...this._defaults,...this._addonOptions},this._selector=this.addonOptions.cellRangeSelector,!this._selector&&this._addonOptions.dragToSelect&&(this._selector=new VT({selectionCss:{border:"none"},autoScroll:this._addonOptions.autoScrollWhenDrag}),this.addonOptions.cellRangeSelector=this._selector),this._eventHandler.subscribe(this._grid.onActiveCellChanged,this.handleActiveCellChange.bind(this)).subscribe(this._grid.onClick,this.handleClick.bind(this)).subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this)),this._selector&&(this._grid.registerPlugin(this._selector),this._selector.onCellRangeSelecting.subscribe(this.handleCellRangeSelected.bind(this)),this._selector.onCellRangeSelected.subscribe(this.handleCellRangeSelected.bind(this)),this._selector.onBeforeCellRangeSelected.subscribe(this.handleBeforeCellRangeSelected.bind(this)))}destroy(){this.dispose()}dispose(){this._eventHandler.unsubscribeAll(),this.disposeSelector()}disposeSelector(){var t,e;this._selector&&(this._selector.onCellRangeSelecting.unsubscribe(this.handleCellRangeSelected.bind(this)),this._selector.onCellRangeSelected.unsubscribe(this.handleCellRangeSelected.bind(this)),this._selector.onBeforeCellRangeSelected.unsubscribe(this.handleBeforeCellRangeSelected.bind(this)),this._grid.unregisterPlugin(this._selector),null===(t=this._selector)||void 0===t||t.destroy(),null===(e=this._selector)||void 0===e||e.dispose())}getCellRangeSelector(){return this._selector}getSelectedRanges(){return this._ranges}getSelectedRows(){return this.rangesToRows(this._ranges)}refreshSelections(){this.setSelectedRows(this.getSelectedRows())}setSelectedRows(t){this.setSelectedRanges(this.rowsToRanges(t),"SlickRowSelectionModel.setSelectedRows")}setSelectedRanges(t,e="SlickRowSelectionModel.setSelectedRanges"){if(!(this._ranges&&0!==this._ranges.length||t&&0!==t.length))return;this._ranges=t;const r=new Slick.EventData;Object.defineProperty(r,"detail",{writable:!0,configurable:!0,value:{caller:e}}),this.onSelectedRangesChanged.notify(this._ranges,r)}getRowsRange(t,e){let r;const o=[];for(r=t;r<=e;r++)o.push(r);for(r=e;r<t;r++)o.push(r);return o}handleBeforeCellRangeSelected(t,e){var r;let o=!1;if(this.gridOptions.enableRowMoveManager&&(o=null!==(r=this.isHandlerColumn(e.cell))&&void 0!==r&&r),this._grid.getEditorLock().isActive()||o)return t.stopPropagation(),!1;this._grid.setActiveCell(e.row,e.cell)}handleCellRangeSelected(t,e){if(!this.gridOptions.multiSelect||!this.addonOptions.selectActiveRow)return!1;this.setSelectedRanges([new Slick.Range(e.range.fromRow,0,e.range.toRow,this._grid.getColumns().length-1)])}handleActiveCellChange(t,e){this._addonOptions.selectActiveRow&&null!==e.row&&this.setSelectedRanges([new Slick.Range(e.row,0,e.row,this._grid.getColumns().length-1)])}handleClick(t){const e=this._grid.getCellFromEvent(t);if(!(e&&this._grid.canCellBeActive(e.row,e.cell)&&this.gridOptions.multiSelect&&(t.ctrlKey||t.shiftKey||t.metaKey)))return!1;let r=this.rangesToRows(this._ranges);const o=r.indexOf(e.row);if(-1===o&&(t.ctrlKey||t.metaKey))r.push(e.row),this._grid.setActiveCell(e.row,e.cell);else if(-1!==o&&(t.ctrlKey||t.metaKey))r=r.filter(a=>a!==e.row),this._grid.setActiveCell(e.row,e.cell);else if(r.length&&t.shiftKey){const a=r.pop(),l=Math.min(e.row,a),u=Math.max(e.row,a);r=[];for(let d=l;d<=u;d++)d!==a&&r.push(d);r.push(a),this._grid.setActiveCell(e.row,e.cell)}const s=this.rowsToRanges(r);return this.setSelectedRanges(s),t.stopImmediatePropagation(),!0}handleKeyDown(t){const e=this._grid.getActiveCell();if(this.gridOptions.multiSelect&&e&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(t.which===Ti.UP||"ArrowUp"===t.key||t.which===Ti.DOWN||"ArrowDown"===t.key)){let r=this.getSelectedRows();r.sort((l,u)=>l-u),r.length||(r=[e.row]);let o,s=r[0],a=r[r.length-1];if(o=t.which===Ti.DOWN||"ArrowDown"===t.key?e.row<a||s===a?++a:++s:e.row<a?--a:--s,o>=0&&o<this._grid.getDataLength()){this._grid.scrollRowIntoView(o);const l=this.rowsToRanges(this.getRowsRange(s,a));this.setSelectedRanges(l)}t.preventDefault(),t.stopPropagation()}}isHandlerColumn(t){const r=this._grid.getColumns()[t].behavior||"";return/move|selectAndMove/.test(r)}rangesToRows(t){const e=[];for(let r=0;r<t.length;r++)for(let o=t[r].fromRow;o<=t[r].toRow;o++)e.push(o);return e}rowsToRanges(t){const e=[],r=this._grid.getColumns().length-1;for(const o of t)e.push(new Slick.Range(o,0,o,r));return e}}class HT{constructor(t){this.pluginName="CheckboxSelectColumn",this._defaults={columnId:"_checkbox_selector",cssClass:null,field:"sel",hideSelectAllCheckbox:!1,toolTip:"Select/Deselect All",width:30,hideInColumnTitleRow:!1,hideInFilterHeaderRow:!0},this._addonOptions=this._defaults,this._checkboxColumnCellIndex=null,this._isSelectAllChecked=!1,this._selectedRowsLookup={},this._selectAll_UID=this.createUID(),this._bindEventService=new xr,this._eventHandler=new Slick.EventHandler,this._addonOptions={...this._defaults,...t}}get addonOptions(){return this._addonOptions}get headerRowNode(){return this._headerRowNode}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get selectAllUid(){return this._selectAll_UID}set selectedRowsLookup(t){this._selectedRowsLookup=t}init(t){this._grid=t,this._eventHandler.subscribe(t.onSelectedRowsChanged,this.handleSelectedRowsChanged.bind(this)).subscribe(t.onClick,this.handleClick.bind(this)).subscribe(t.onKeyDown,this.handleKeyDown.bind(this)),this._addonOptions.hideInFilterHeaderRow||this.addCheckboxToFilterHeaderRow(t),this._addonOptions.hideInColumnTitleRow||this._eventHandler.subscribe(this._grid.onHeaderClick,this.handleHeaderClick.bind(this)),(!this._rowSelectionModel||!this._grid.getSelectionModel())&&(this._rowSelectionModel=new Tf(this.gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionModel)),this.gridOptions.preselectedRows&&this._rowSelectionModel&&this._grid.getSelectionModel()&&setTimeout(()=>this.selectRows(this.gridOptions.preselectedRows||[])),"function"==typeof this._addonOptions.selectableOverride&&this.selectableOverride(this._addonOptions.selectableOverride)}dispose(){this._bindEventService.unbindAll(),this._eventHandler.unsubscribeAll()}create(t,e){var r,o;if(this._addonOptions={...this._defaults,...e.checkboxSelector},Array.isArray(t)&&e){const s=this.getColumnDefinition(),a=null!==(o=null===(r=e?.checkboxSelector)||void 0===r?void 0:r.columnIndexPosition)&&void 0!==o?o:0;a>0?t.splice(a,0,s):t.unshift(s)}return this}getOptions(){return this._addonOptions}setOptions(t){var e;if(this._addonOptions={...this._addonOptions,...t},this._addonOptions.hideSelectAllCheckbox)this.hideSelectAllFromColumnHeaderTitleRow(),this.hideSelectAllFromColumnHeaderFilterRow();else if(this._addonOptions.hideInColumnTitleRow?this.hideSelectAllFromColumnHeaderTitleRow():(this.renderSelectAllCheckbox(this._isSelectAllChecked),this._eventHandler.subscribe(this._grid.onHeaderClick,this.handleHeaderClick.bind(this))),this._addonOptions.hideInFilterHeaderRow)this.hideSelectAllFromColumnHeaderFilterRow();else{const r=null===(e=this.headerRowNode)||void 0===e?void 0:e.querySelector("#filter-checkbox-selectall-container");if(r){r.style.display="flex";const o=r.querySelector('input[type="checkbox"]');o&&(o.checked=this._isSelectAllChecked)}}}deSelectRows(t){const e=[];for(const r of t)this._selectedRowsLookup[r]&&(e[e.length]=r);this._grid.setSelectedRows(this._grid.getSelectedRows().filter(r=>e.indexOf(r)<0),"SlickCheckboxSelectColumn.deSelectRows")}selectRows(t){var e;const r=[];for(const s of t)this._selectedRowsLookup[s]&&(r[r.length]=s);const o=null===(e=this._grid.getSelectedRows())||void 0===e?void 0:e.concat(r);this._grid.setSelectedRows(o)}getColumnDefinition(){return{id:this._addonOptions.columnId,name:this._addonOptions.hideSelectAllCheckbox||this._addonOptions.hideInColumnTitleRow?"":`<input id="header-selector${this._selectAll_UID}" type="checkbox"><label for="header-selector${this._selectAll_UID}"></label>`,toolTip:this._addonOptions.hideSelectAllCheckbox||this._addonOptions.hideInColumnTitleRow?"":this._addonOptions.toolTip,field:this._addonOptions.field||"sel",cssClass:this._addonOptions.cssClass,excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,hideSelectAllCheckbox:this._addonOptions.hideSelectAllCheckbox,resizable:!1,sortable:!1,width:this._addonOptions.width||30,formatter:this.checkboxSelectionFormatter.bind(this)}}hideSelectAllFromColumnHeaderTitleRow(){this._grid.updateColumnHeader(this._addonOptions.columnId||"","","")}hideSelectAllFromColumnHeaderFilterRow(){var t;const e=null===(t=this.headerRowNode)||void 0===t?void 0:t.querySelector("#filter-checkbox-selectall-container");e&&(e.style.display="none")}toggleRowSelection(t){this.toggleRowSelectionWithEvent(null,t)}toggleRowSelectionWithEvent(t,e){const r=this._grid.getDataItem(e);if(!this.checkSelectableOverride(e,r,this._grid))return;const o=this._grid.getSelectedRows();this._addonOptions.onRowToggleStart&&this._addonOptions.onRowToggleStart(t,{row:e,previousSelectedRows:o});const s=this._selectedRowsLookup[e]?this._grid.getSelectedRows().filter(a=>a!==e):this._grid.getSelectedRows().concat(e);this._grid.setSelectedRows(s,"click.toggle"),this._grid.setActiveCell(e,this.getCheckboxColumnCellIndex()),this._addonOptions.onRowToggleEnd&&this._addonOptions.onRowToggleEnd(t,{row:e,previousSelectedRows:o})}selectableOverride(t){this._selectableOverride=t}addCheckboxToFilterHeaderRow(t){this._eventHandler.subscribe(t.onHeaderRowCellRendered,(e,r)=>{if(r.column.field===(this.addonOptions.field||"sel")){bn(r.node);const o=Le("span",{id:"filter-checkbox-selectall-container"});o.appendChild(Le("input",{type:"checkbox",id:`header-filter-selector${this._selectAll_UID}`})),o.appendChild(Le("label",{htmlFor:`header-filter-selector${this._selectAll_UID}`})),r.node.appendChild(o),this._headerRowNode=r.node,this._bindEventService.bind(o,"click",s=>this.handleHeaderClick(s,r))}})}checkboxSelectionFormatter(t,e,r,o,s,a){if(s&&this.checkSelectableOverride(t,s,a)){const l=this.createUID()+t;return`<input id="selector${l}" type="checkbox" ${this._selectedRowsLookup[t]?'checked="checked"':""}><label for="selector${l}"></label>`}return null}checkSelectableOverride(t,e,r){return"function"!=typeof this._selectableOverride||this._selectableOverride(t,e,r)}createUID(){return Math.round(1e7*Math.random())}getCheckboxColumnCellIndex(){if(null===this._checkboxColumnCellIndex){this._checkboxColumnCellIndex=0;const t=this._grid.getColumns();for(let e=0;e<t.length;e++)t[e].id===this._addonOptions.columnId&&(this._checkboxColumnCellIndex=e)}return this._checkboxColumnCellIndex}handleClick(t,e){if(this._grid.getColumns()[e.cell].id===this._addonOptions.columnId&&"checkbox"===t.target.type){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();this.toggleRowSelectionWithEvent(t,e.row),t.stopPropagation(),t.stopImmediatePropagation()}}handleHeaderClick(t,e){if(e.column.id===this._addonOptions.columnId&&"checkbox"===t.target.type){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();const r=t.target.checked,o=r?"click.selectAll":"click.unselectAll",s=this._grid.getSelectedRows();this._addonOptions.onSelectAllToggleStart&&this._addonOptions.onSelectAllToggleStart(t,{previousSelectedRows:s,caller:o});let a=[];if(r){const l=[];for(let u=0;u<this._grid.getDataLength();u++){const d=this._grid.getDataItem(u);!d.__group&&!d.__groupTotals&&this.checkSelectableOverride(u,d,this._grid)&&l.push(u)}a=l}this._grid.setSelectedRows(a,o),this._addonOptions.onSelectAllToggleEnd&&this._addonOptions.onSelectAllToggleEnd(t,{rows:a,previousSelectedRows:s,caller:o}),t.stopPropagation(),t.stopImmediatePropagation()}}handleKeyDown(t,e){(t.which===Ti.SPACE||" "===t.key)&&this._grid.getColumns()[e.cell].id===this._addonOptions.columnId&&((!this._grid.getEditorLock().isActive()||this._grid.getEditorLock().commitCurrentEdit())&&this.toggleRowSelectionWithEvent(t,e.row),t.preventDefault(),t.stopImmediatePropagation())}handleSelectedRowsChanged(){var t,e;const r=this._grid.getSelectedRows(),o={};let s=0,a=0,l=0,u=0;if("function"==typeof this._selectableOverride)for(l=0;l<this._grid.getDataLength();l++){const p=this._grid.getDataItem(l);this.checkSelectableOverride(a,p,this._grid)||u++}const d=[];for(a=0;a<r.length;a++){s=r[a];const p=this._grid.getDataItem(s);this.checkSelectableOverride(a,p,this._grid)?(o[s]=!0,o[s]!==this._selectedRowsLookup[s]&&(this._grid.invalidateRow(s),delete this._selectedRowsLookup[s])):d.push(s)}for(const p in this._selectedRowsLookup)void 0!==p&&this._grid.invalidateRow(+p);if(this._selectedRowsLookup=o,this._grid.render(),this._isSelectAllChecked=(null!==(t=r?.length)&&void 0!==t?t:0)+u>=this._grid.getDataLength(),!this._addonOptions.hideInColumnTitleRow&&!this._addonOptions.hideSelectAllCheckbox&&this.renderSelectAllCheckbox(this._isSelectAllChecked),!this._addonOptions.hideInFilterHeaderRow){const p=null===(e=this.headerRowNode)||void 0===e?void 0:e.querySelector(`#header-filter-selector${this._selectAll_UID}`);p&&(p.checked=this._isSelectAllChecked)}if(d.length>0){for(const p of d){const m=r.indexOf(p);r.splice(m,1)}this._grid.setSelectedRows(r,"click.toggle")}}renderSelectAllCheckbox(t){this._grid.updateColumnHeader(this._addonOptions.columnId||"",`<input id="header-selector${this._selectAll_UID}" type="checkbox"${t?' checked="checked"':""}><label for="header-selector${this._selectAll_UID}"></label>`,this._addonOptions.toolTip)}}class $T extends Df{constructor(t,e,r,o,s){var a,l,u,d;super(t,r,o),this.extensionUtility=t,this.filterService=e,this.pubSubService=r,this.sharedService=o,this.sortService=s,this._areVisibleColumnDifferent=!1,this._columns=[],this._columnCheckboxes=[],this._gridMenuOptions=null,this._headerElm=null,this._isMenuOpen=!1,this.onAfterMenuShow=new Slick.Event,this.onBeforeMenuShow=new Slick.Event,this.onMenuClose=new Slick.Event,this.onCommand=new Slick.Event,this.onColumnsChanged=new Slick.Event,this._defaults={dropSide:"left",showButton:!0,hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",marginBottom:15,menuWidth:18,minHeight:250,contentMinWidth:0,resizeOnShowHeaderRow:!1,syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:p=>p.name},this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-grid-menu",this._camelPluginName="gridMenu",this._columns=null!==(a=this.sharedService.allColumns)&&void 0!==a?a:[],this._gridUid=null!==(d=null===(u=null===(l=this.grid)||void 0===l?void 0:l.getUID)||void 0===u?void 0:u.call(l))&&void 0!==d?d:"",this.initEventHandlers(),this.init()}get addonOptions(){return this._gridMenuOptions||{}}get columns(){return this._columns}set columns(t){this._columns=t}get gridOptions(){return this.grid.getOptions()||{}}initEventHandlers(){this._eventHandler.subscribe(this.grid.onColumnsReordered,xf.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeDestroy,this.dispose.bind(this)),this._eventHandler.subscribe(this.grid.onSetOptions,(t,e)=>{if(e&&e.optionsBefore&&e.optionsAfter){const o=-1===e.optionsBefore.frozenColumn&&e.optionsAfter.frozenColumn>=0;(e.optionsBefore.frozenColumn>=0&&-1===e.optionsAfter.frozenColumn||o)&&this.recreateGridMenu()}})}init(){var t;this._gridUid=null!==(t=this.grid.getUID())&&void 0!==t?t:"",this._userOriginalGridMenu={...this.sharedService.gridOptions.gridMenu},this._gridMenuOptions={...this._defaults,...this.getDefaultGridMenuOptions(),...this.sharedService.gridOptions.gridMenu},this.sharedService.gridOptions.gridMenu=this._gridMenuOptions;const e=this._userOriginalGridMenu.commandItems,r=this._userOriginalGridMenu&&Array.isArray(e)?e:[];this._gridMenuOptions.commandItems=[...r,...this.addGridMenuCustomCommands(r)],this.extensionUtility.translateMenuItemsFromTitleKey(this._gridMenuOptions.commandItems||[]),this.extensionUtility.sortItems(this._gridMenuOptions.commandItems,"positionOrder"),this._gridMenuOptions.commandItems=this._gridMenuOptions.commandItems,this.createGridMenu()}dispose(){this.deleteMenu(),super.dispose()}deleteMenu(){var t,e,r;this._bindEventService.unbindAll();const o=document.querySelector(`div.slick-grid-menu.${this._gridUid}`);o&&(o.style.display="none"),this._headerElm&&(this._headerElm.style.width="100%"),null===(t=this._gridMenuButtonElm)||void 0===t||t.remove(),null===(e=this._menuElm)||void 0===e||e.remove(),null===(r=this._commandMenuElm)||void 0===r||r.remove()}createColumnPickerContainer(){this._menuElm&&(UT.call(this,this._menuElm),this._listElm=Le("div",{className:"slick-column-picker-list"}),this._bindEventService.bind(this._menuElm,"click",zT.bind(this)))}createGridMenu(){var t,e,r,o,s,a;this._gridUid=null!==(e=null!==(t=this._gridUid)&&void 0!==t?t:this.grid.getUID())&&void 0!==e?e:"";const l=this._gridUid?`.${this._gridUid}`:"",u=(null===(r=this._gridMenuOptions)||void 0===r?void 0:r.menuWidth)||this._defaults.menuWidth,d=this.gridOptions.hasOwnProperty("frozenColumn")&&this.gridOptions.frozenColumn>=0?"right":"left";if(this._headerElm=document.querySelector(`${l} .slick-header-${d}`),this._headerElm&&this._gridMenuOptions){if(this._headerElm.style.width=`calc(100% - ${u}px)`,(null!==(o=this._gridMenuOptions.resizeOnShowHeaderRow)&&void 0!==o?o:this._defaults.resizeOnShowHeaderRow)&&this.gridOptions.showHeaderRow){const E=document.querySelector(`${l} .slick-headerrow`);E&&(E.style.width=`calc(100% - ${u}px)`)}(null!==(s=this._gridMenuOptions.showButton)&&void 0!==s?s:this._defaults.showButton)&&(this._gridMenuButtonElm=Le("button",{className:"slick-grid-menu-button"}),!(null===(a=this._gridMenuOptions)||void 0===a)&&a.iconCssClass&&this._gridMenuButtonElm.classList.add(...this._gridMenuOptions.iconCssClass.split(" ")),this._headerElm.parentElement.insertBefore(this._gridMenuButtonElm,this._headerElm.parentElement.firstChild),this._bindEventService.bind(this._gridMenuButtonElm,"click",this.showGridMenu.bind(this))),this.sharedService.gridOptions.gridMenu={...this._defaults,...this._gridMenuOptions},this.translateTitleLabels(this._gridMenuOptions),this.translateTitleLabels(this.sharedService.gridOptions.gridMenu),this._menuElm=document.createElement("div"),this._menuElm.classList.add("slick-grid-menu",this._gridUid),this._menuElm.style.display="none",this._commandMenuElm=Le("div",{className:"slick-menu-command-list"}),this._menuElm.appendChild(this._commandMenuElm),this.recreateCommandList(this._gridMenuOptions,{grid:this.grid,menu:this._menuElm,columns:this.columns,allColumns:this.getAllColumns(),visibleColumns:this.getVisibleColumns()}),this.createColumnPickerContainer(),document.body.appendChild(this._menuElm),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this)),this._bindEventService.bind(document.body,"beforeunload",this.dispose.bind(this))}}getAllColumns(){return this._columns}getVisibleColumns(){return this.grid.getColumns()}hideMenu(t){var e,r,o,s;if("block"===(null===(r=null===(e=this._menuElm)||void 0===e?void 0:e.style)||void 0===r?void 0:r.display)){const a={grid:this.grid,menu:this._menuElm,allColumns:this.columns,visibleColumns:this.getVisibleColumns()};if(this.pubSubService.publish("onGridMenuMenuClose",a),"function"==typeof(null===(o=this._gridMenuOptions)||void 0===o?void 0:o.onMenuClose)&&!1===this._gridMenuOptions.onMenuClose(t,a)||!1===this.onMenuClose.notify(a,null,this))return;if(this._menuElm.style.display="none",this._menuElm.setAttribute("aria-expanded","false"),this._isMenuOpen=!1,"function"==typeof(null===(s=this.grid)||void 0===s?void 0:s.autosizeColumns)){const l=this.grid.getUID()||"";this._areVisibleColumnDifferent&&l&&null!==document.querySelector(`.${l}`)&&(this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns(),this._areVisibleColumnDifferent=!1)}}}recreateGridMenu(){this.deleteMenu(),this.init()}repositionMenu(t,e,r=!0){var o,s,a,l,u,d,p,m;if(this._menuElm){let E="BUTTON"===t.target.nodeName?t.target:t.target.querySelector("button");E||(E=t.target.parentElement),this._menuElm.style.display="block",this._menuElm.style.opacity="0";const P=zo(E),H=getComputedStyle(E),U=parseInt(null!==(o=H?.width)&&void 0!==o?o:null===(s=this._defaults)||void 0===s?void 0:s.menuWidth,10),X=null!==(l=null===(a=this._menuElm)||void 0===a?void 0:a.offsetWidth)&&void 0!==l?l:0,J=null!==(d=null!==(u=e?.contentMinWidth)&&void 0!==u?u:this._defaults.contentMinWidth)&&void 0!==d?d:0,te=(J>X?J:X)||0,ne=null!==(p=P?.top)&&void 0!==p?p:0,De=null!==(m=P?.right)&&void 0!==m?m:0,xe=(void 0!==e?.marginBottom?e.marginBottom:this._defaults.marginBottom)||0,Ue="right"===e?.dropSide?De-U:De-te;this._menuElm.style.top=`${ne+E.offsetHeight}px`,this._menuElm.style.left=`${Ue}px`,"left"===e.dropSide?(this._menuElm.classList.remove("dropright"),this._menuElm.classList.add("dropleft")):(this._menuElm.classList.remove("dropleft"),this._menuElm.classList.add("dropright")),this._menuElm.appendChild(this._listElm),J>0&&(this._menuElm.style.minWidth=`${J}px`),this._menuElm.style.minHeight=ll(e.minHeight,""),void 0!==e?.height?this._menuElm.style.height=ll(e.height,""):this._menuElm.style.maxHeight=ll(e.maxHeight,window.innerHeight-t.clientY-xe+"px"),this._menuElm.style.display="block",r&&(this._menuElm.style.opacity="1"),this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.appendChild(this._listElm),this._isMenuOpen=!0}}showGridMenu(t,e){if(t.preventDefault(),bn(this._listElm),bn(this._commandMenuElm),this._gridMenuOptions){const r={grid:this.grid,menu:this._menuElm,columns:this.columns,allColumns:this.getAllColumns(),visibleColumns:this.getVisibleColumns()},o={...this._gridMenuOptions,...e};if(this.recreateCommandList(o,r),xf.call(this),this._columnCheckboxes=[],o&&!this.extensionUtility.runOverrideFunctionWhenExists(o.menuUsabilityOverride,r)||"function"==typeof t.stopPropagation&&(this.pubSubService.publish("onGridMenuBeforeMenuShow",r),"function"==typeof o?.onBeforeMenuShow&&!1===o.onBeforeMenuShow(t,r)||this.onBeforeMenuShow.notify(r,null,this)))return;WT.call(this,o),this.repositionMenu(t,o,!1),this.repositionMenu(t,o,!0),this.pubSubService.publish("onGridMenuAfterMenuShow",r),"function"==typeof o?.onAfterMenuShow&&o.onAfterMenuShow(t,r),this.onAfterMenuShow.notify(r,null,this)}}updateAllTitles(t){var e,r,o,s;(null===(e=this._commandTitleElm)||void 0===e?void 0:e.textContent)&&t.commandTitle&&(this._commandTitleElm.textContent=null!==(o=null===(r=this._gridMenuOptions)||void 0===r?void 0:r.commandItems)&&void 0!==o&&o.length?t.commandTitle:"",this._gridMenuOptions.commandTitle=this._commandTitleElm.textContent),(null===(s=this._columnTitleElm)||void 0===s?void 0:s.textContent)&&t.columnTitle&&(this._columnTitleElm.textContent=t.columnTitle,this._gridMenuOptions.columnTitle=t.columnTitle)}translateGridMenu(){var t;if(this.sharedService.gridOptions.gridMenu){this.sharedService.gridOptions.gridMenu.commandItems=[],this.sharedService.gridOptions.gridMenu.commandTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="";const e=this._userOriginalGridMenu&&Array.isArray(this._userOriginalGridMenu.commandItems)?this._userOriginalGridMenu.commandItems:[];this.sharedService.gridOptions.gridMenu.commandItems=[...e,...this.addGridMenuCustomCommands(e)],this.extensionUtility.translateMenuItemsFromTitleKey((null===(t=this._gridMenuOptions)||void 0===t?void 0:t.commandItems)||[]),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.commandItems,"positionOrder"),this.translateTitleLabels(this.sharedService.gridOptions.gridMenu),this.translateTitleLabels(this._gridMenuOptions),this.extensionUtility.translateItems(this._columns,"nameKey","name"),this.updateAllTitles(this.sharedService.gridOptions.gridMenu)}}translateTitleLabels(t){t&&(t.commandTitle=this.extensionUtility.getPickerTitleOutputString("commandTitle","gridMenu"),t.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),t.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),t.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"))}addGridMenuCustomCommands(t){var e,r,o,s,a,l,u,d,p,m,E,P,H,U,X;const J=this.gridOptions.backendServiceApi||null,te=[],De=ys(this.gridOptions),xe=null===(e=this._gridMenuOptions)||void 0===e?void 0:e.commandLabels;if(this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideClearFrozenColumnsCommand){const ot="clear-pinning";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconClearFrozenColumnsCommand||"fa fa-times",titleKey:`${De}${null!==(r=xe?.clearFrozenColumnsCommandKey)&&void 0!==r?r:"CLEAR_PINNING"}`,disabled:!1,command:ot,positionOrder:52})}if(this.gridOptions&&this.gridOptions.enableFiltering&&!this.sharedService.hideHeaderRowAfterPageLoad){if(this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideClearAllFiltersCommand){const ot="clear-filter";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconClearAllFiltersCommand||"fa fa-filter text-danger",titleKey:`${De}${null!==(o=xe?.clearAllFiltersCommandKey)&&void 0!==o?o:"CLEAR_ALL_FILTERS"}`,disabled:!1,command:ot,positionOrder:50})}if(this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideToggleFilterCommand){const ot="toggle-filter";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconToggleFilterCommand||"fa fa-random",titleKey:`${De}${null!==(s=xe?.toggleFilterCommandKey)&&void 0!==s?s:"TOGGLE_FILTER_ROW"}`,disabled:!1,command:ot,positionOrder:53})}if(J&&this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideRefreshDatasetCommand){const ot="refresh-dataset";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconRefreshDatasetCommand||"fa fa-refresh",titleKey:`${De}${null!==(a=xe?.refreshDatasetCommandKey)&&void 0!==a?a:"REFRESH_DATASET"}`,disabled:!1,command:ot,positionOrder:57})}}if(this.gridOptions.showPreHeaderPanel&&this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideTogglePreHeaderCommand){const ot="toggle-preheader";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconTogglePreHeaderCommand||"fa fa-random",titleKey:`${De}${null!==(l=xe?.togglePreHeaderCommandKey)&&void 0!==l?l:"TOGGLE_PRE_HEADER_ROW"}`,disabled:!1,command:ot,positionOrder:53})}if(this.gridOptions.enableSorting&&this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideClearAllSortingCommand){const ot="clear-sorting";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconClearAllSortingCommand||"fa fa-unsorted text-danger",titleKey:`${De}${null!==(u=xe?.clearAllSortingCommandKey)&&void 0!==u?u:"CLEAR_ALL_SORTING"}`,disabled:!1,command:ot,positionOrder:51})}if(((null===(d=this.gridOptions)||void 0===d?void 0:d.enableExport)||(null===(p=this.gridOptions)||void 0===p?void 0:p.enableTextExport))&&this._gridMenuOptions&&!this._gridMenuOptions.hideExportCsvCommand){const ot="export-csv";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconExportCsvCommand||"fa fa-download",titleKey:`${De}${null!==(m=xe?.exportCsvCommandKey)&&void 0!==m?m:"EXPORT_TO_CSV"}`,disabled:!1,command:ot,positionOrder:54})}if(this.gridOptions&&this.gridOptions.enableExcelExport&&this._gridMenuOptions&&!this._gridMenuOptions.hideExportExcelCommand){const ot="export-excel";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconExportExcelCommand||"fa fa-file-excel-o text-success",titleKey:`${De}${null!==(E=xe?.exportExcelCommandKey)&&void 0!==E?E:"EXPORT_TO_EXCEL"}`,disabled:!1,command:ot,positionOrder:55})}if(((null===(P=this.gridOptions)||void 0===P?void 0:P.enableExport)||(null===(H=this.gridOptions)||void 0===H?void 0:H.enableTextExport))&&this._gridMenuOptions&&!this._gridMenuOptions.hideExportTextDelimitedCommand){const ot="export-text-delimited";t.some(it=>"divider"!==it&&it.hasOwnProperty("command")&&it.command===ot)||te.push({iconCssClass:this._gridMenuOptions.iconExportTextDelimitedCommand||"fa fa-download",titleKey:`${De}${null!==(U=xe?.exportTextDelimitedCommandKey)&&void 0!==U?U:"EXPORT_TO_TAB_DELIMITED"}`,disabled:!1,command:ot,positionOrder:56})}const Ue=(null===(X=this._gridMenuOptions)||void 0===X?void 0:X.commandItems)||[];return this.gridOptions&&this._gridMenuOptions&&(Array.isArray(te)&&te.length>0||Array.isArray(Ue)&&Ue.length>0)&&(this._gridMenuOptions.commandTitle=this._gridMenuOptions.commandTitle||this.extensionUtility.getPickerTitleOutputString("commandTitle","gridMenu")),te}executeGridMenuInternalCustomCommands(t,e){var r,o,s,a,l;const u=(null===(r=this.sharedService)||void 0===r?void 0:r.externalRegisteredResources)||[];if(e?.command)switch(e.command){case"clear-pinning":const d=[...this.sharedService.visibleColumns],p={frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1};this.grid.setOptions(p),this.sharedService.gridOptions.frozenColumn=p.frozenColumn,this.sharedService.gridOptions.frozenRow=p.frozenRow,this.sharedService.gridOptions.frozenBottom=p.frozenBottom,this.sharedService.gridOptions.enableMouseWheelScrollHandler=p.enableMouseWheelScrollHandler,Array.isArray(d)&&this.grid.setColumns(d),this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns(),this.pubSubService.publish("onGridMenuClearAllPinning");break;case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh(),this.pubSubService.publish("onGridMenuClearAllFilters");break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh(),this.pubSubService.publish("onGridMenuClearAllSorting");break;case"export-csv":const E=u.find(J=>"TextExportService"===J.className);E?.exportToFile?E.exportToFile({delimiter:Ma.comma,format:Hs.csv}):console.error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Grid Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");break;case"export-excel":const P=u.find(J=>"ExcelExportService"===J.className);P?.exportToExcel?P.exportToExcel():console.error("[Slickgrid-Universal] You must register the ExcelExportService to properly use Export to Excel in the Grid Menu. Example:: this.gridOptions = { enableExcelExport: true, registerExternalResources: [new ExcelExportService()] };");break;case"export-text-delimited":const H=u.find(J=>"TextExportService"===J.className);H?.exportToFile?H.exportToFile({delimiter:Ma.tab,format:Hs.txt}):console.error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Grid Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");break;case"toggle-filter":let U=null!==(s=null===(o=this.gridOptions)||void 0===o?void 0:o.showHeaderRow)&&void 0!==s&&s;U=!U,this.grid.setHeaderRowVisibility(U),!0===U&&(this.grid.setColumns(this.sharedService.columnDefinitions),this.grid.scrollColumnIntoView(0));break;case"toggle-preheader":const X=null!==(l=null===(a=this.gridOptions)||void 0===a?void 0:a.showPreHeaderPanel)&&void 0!==l&&l;this.grid.setPreHeaderPanelVisibility(!X);break;case"refresh-dataset":this.extensionUtility.refreshBackendDataset()}}getDefaultGridMenuOptions(){return{commandTitle:void 0,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,commandItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}}handleBodyMouseDown(t){var e;(this._menuElm!==t.target&&(null===(e=this._menuElm)||void 0===e||!e.contains(t.target))&&this._isMenuOpen||"close"===t.target.className)&&this.hideMenu(t)}handleMenuItemCommandClick(t,e,r){var o,s;if("divider"===r||r.command&&(r.disabled||r.divider))return!1;const a={grid:this.grid,command:r.command,item:r,allColumns:this.columns,visibleColumns:this.getVisibleColumns()};this.executeGridMenuInternalCustomCommands(t,a),this.pubSubService.publish("onGridMenuCommand",a),"function"==typeof(null===(o=this._gridMenuOptions)||void 0===o?void 0:o.onCommand)&&this._gridMenuOptions.onCommand(t,a),this.onCommand.notify(a,null,this),"function"==typeof r.action&&r.action.call(this,t,a),!(null!==(s=this._gridMenuOptions)&&void 0!==s&&s.leaveOpen)&&!t.defaultPrevented&&this.hideMenu(t),t.preventDefault(),t.stopPropagation()}recreateCommandList(t,e){var r;this.populateCommandOrOptionTitle("command",t,this._commandMenuElm);const o=null!==(r=this._commandMenuElm.querySelector(".slick-command-header"))&&void 0!==r?r:Le("div",{className:"slick-command-header"});o.classList.add("with-close"),BT.call(this,o),this._commandMenuElm.appendChild(o),this.populateCommandOrOptionItems("command",t,this._commandMenuElm,t?.commandItems||[],e,this.handleMenuItemCommandClick)}}function BT(i){const e=Le("button",{type:"button",className:"close",innerHTML:"&times;",dataset:{dismiss:this instanceof l_?"slick-column-picker":"slick-grid-menu"}});e.setAttribute("aria-label","Close"),i.appendChild(e)}function UT(i){var t,e,r;const o=this;null!==(t=o.addonOptions)&&void 0!==t&&t.columnTitle&&(o._columnTitleElm=Le("div",{className:"slick-menu-title",textContent:null!==(r=null===(e=o.addonOptions)||void 0===e?void 0:e.columnTitle)&&void 0!==r?r:o._defaults.columnTitle}),i.appendChild(o._columnTitleElm))}function zT(i){var t,e;const r=this,o=r instanceof l_?"columnPicker":"gridMenu";if("autoresize"===i.target.dataset.option){const s=r.getVisibleColumns();return r.grid.setOptions({forceFitColumns:i.target.checked}),void r.grid.setColumns(s)}if("syncresize"!==i.target.dataset.option){if("checkbox"===i.target.type){r._areVisibleColumnDifferent=!0;const s=i.target.checked,a=i.target.dataset.columnid||"",l=[];if(r._columnCheckboxes.forEach((p,m)=>{p.checked&&l.push(r.columns[m])}),!l.length)return void(i.target.checked=!0);if(r.grid.setColumns(l),Array.isArray(l)&&l.length!==r.sharedService.visibleColumns.length&&(r.sharedService.visibleColumns=l),r.gridOptions.enableRowSelection&&s){const p=r.grid.getSelectedRows();r.grid.setSelectedRows(p)}const u=null!==(t=r.gridOptions.frozenColumn)&&void 0!==t?t:-1;u>=0&&r.extensionUtility.readjustFrozenColumnIndexWhenNeeded(u,r.columns,l);const d={columnId:a,showing:s,allColumns:r.columns,visibleColumns:l,columns:l,grid:r.grid};r.pubSubService.publish(`on${uc(o)}ColumnsChanged`,d),"function"==typeof(null===(e=r.addonOptions)||void 0===e?void 0:e.onColumnsChanged)&&r.addonOptions.onColumnsChanged(i,d),r.onColumnsChanged.notify(d,null,r)}}else r.grid.setOptions({syncColumnCellResize:!!i.target.checked})}function WT(i){var t,e;const r=this,o=r instanceof $T?"gridmenu-":"";for(const s of r.columns){const a=s.id,l=document.createElement("li");s.excludeFromColumnPicker&&(l.className="hidden");const u=Le("input",{type:"checkbox",id:`${r._gridUid}-${o}colpicker-${a}`,dataset:{columnid:`${a}`}});r.grid.getColumnIndex(a)>=0&&(u.checked=!0),l.appendChild(u),r._columnCheckboxes.push(u);const m=("function"==typeof i?.headerColumnValueExtractor?i.headerColumnValueExtractor:r._defaults.headerColumnValueExtractor)(s,r.gridOptions);l.appendChild(Le("label",{htmlFor:`${r._gridUid}-${o}colpicker-${a}`,innerHTML:ns(r.gridOptions,m)})),r._listElm.appendChild(l)}if((!i.hideForceFitButton||!i.hideSyncResizeButton)&&r._listElm.appendChild(document.createElement("hr")),!i?.hideForceFitButton){const s=document.createElement("li");s.appendChild(Le("input",{type:"checkbox",id:`${r._gridUid}-${o}colpicker-forcefit`,checked:r.gridOptions.forceFitColumns,dataset:{option:"autoresize"}})),s.appendChild(Le("label",{htmlFor:`${r._gridUid}-${o}colpicker-forcefit`,textContent:null!==(t=i?.forceFitTitle)&&void 0!==t?t:""})),r._listElm.appendChild(s)}if(!i?.hideSyncResizeButton){const s=document.createElement("li");s.appendChild(Le("input",{type:"checkbox",id:`${r._gridUid}-${o}colpicker-syncresize`,checked:r.gridOptions.syncColumnCellResize,dataset:{option:"syncresize"}})),s.appendChild(Le("label",{htmlFor:`${r._gridUid}-${o}colpicker-syncresize`,textContent:null!==(e=i?.syncResizeTitle)&&void 0!==e?e:""})),r._listElm.appendChild(s)}}function xf(){const i=this,t=i.grid.getColumns().slice(0),e=new Array(i.columns.length);for(let r=0;r<e.length;r++)e[r]=void 0===i.grid.getColumnIndex(i.columns[r].id)?i.columns[r]:t.shift();i._columns=e}class l_{constructor(t,e,r){var o,s,a,l;this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this._areVisibleColumnDifferent=!1,this._columns=[],this._gridUid="",this._columnCheckboxes=[],this.onColumnsChanged=new Slick.Event,this._defaults={hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",minHeight:200,syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:u=>u.name},this._bindEventService=new xr,this._eventHandler=new Slick.EventHandler,this._columns=null!==(o=this.sharedService.allColumns)&&void 0!==o?o:[],this._gridUid=null!==(l=null===(a=null===(s=this.grid)||void 0===s?void 0:s.getUID)||void 0===a?void 0:a.call(s))&&void 0!==l?l:"",this.init()}get addonOptions(){return this.gridOptions.columnPicker||{}}get eventHandler(){return this._eventHandler}get columns(){return this._columns}set columns(t){this._columns=t}get gridOptions(){var t;return null!==(t=this.sharedService.gridOptions)&&void 0!==t?t:{}}get grid(){return this.sharedService.slickGrid}get menuElement(){return this._menuElm}init(){var t;this._gridUid=null!==(t=this.grid.getUID())&&void 0!==t?t:"",this.gridOptions.columnPicker={...this._defaults,...this.gridOptions.columnPicker},this.addonOptions.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.addonOptions.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.addonOptions.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker"),this._eventHandler.subscribe(this.grid.onHeaderContextMenu,this.handleHeaderContextMenu.bind(this)),this._eventHandler.subscribe(this.grid.onColumnsReordered,xf.bind(this)),this._menuElm=Le("div",{className:`slick-column-picker ${this._gridUid}`,style:{display:"none"}}),this._menuElm.setAttribute("aria-expanded","false"),UT.call(this,this._menuElm),BT.call(this,this._menuElm),this._listElm=Le("div",{className:"slick-column-picker-list"}),this._bindEventService.bind(this._menuElm,"click",zT.bind(this)),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this)),this._bindEventService.bind(document.body,"beforeunload",this.dispose.bind(this)),document.body.appendChild(this._menuElm)}dispose(){var t,e,r,o;this._eventHandler.unsubscribeAll(),this._bindEventService.unbindAll(),null===(e=null===(t=this._listElm)||void 0===t?void 0:t.remove)||void 0===e||e.call(t),null===(o=null===(r=this._menuElm)||void 0===r?void 0:r.remove)||void 0===o||o.call(r)}getAllColumns(){return this._columns}getVisibleColumns(){return this.grid.getColumns()}translateColumnPicker(){this.addonOptions&&(this.addonOptions.columnTitle="",this.addonOptions.forceFitTitle="",this.addonOptions.syncResizeTitle="",this.addonOptions.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.addonOptions.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.addonOptions.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this._columns,"nameKey","name"),this.addonOptions&&this.updateAllTitles(this.addonOptions)}handleBodyMouseDown(t){(this._menuElm!==t.target&&!this._menuElm.contains(t.target)||"close"===t.target.className)&&(this._menuElm.setAttribute("aria-expanded","false"),this._menuElm.style.display="none")}handleHeaderContextMenu(t){t.preventDefault(),bn(this._listElm),xf.call(this),this._columnCheckboxes=[],WT.call(this,this.addonOptions),this.repositionMenu(t)}repositionMenu(t){this._menuElm.style.top=t.pageY-10+"px",this._menuElm.style.left=t.pageX-10+"px",this._menuElm.style.minHeight=ll(this.addonOptions.minHeight,""),this._menuElm.style.maxHeight=ll(this.addonOptions.maxHeight,window.innerHeight-t.clientY+"px"),this._menuElm.style.display="block",this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.appendChild(this._listElm)}updateAllTitles(t){var e;(null===(e=this._columnTitleElm)||void 0===e?void 0:e.textContent)&&t.columnTitle&&(this._columnTitleElm.textContent=t.columnTitle)}}const Af=(i,t,e,r,o,s)=>{const a=r.params||{};if(!a.formatters||!Array.isArray(a.formatters))throw new Error('The multiple formatter requires the "formatters" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }');const l=a.formatters;let u=e;for(const d of l)u=d(i,t,u,r,o,s);return u},u_=Pl()||sl;function lt(i,t,e,r){var o;const s=e&&"function"==typeof e.getOptions?e.getOptions():{},a=t&&t.params;return a&&a.hasOwnProperty(i)?a[i]:null!==(o=s.formatterOptions)&&void 0!==o&&o.hasOwnProperty(i)?s.formatterOptions[i]:r}function Es(i,t){const e=$o(i);return(r,o,s,a,l,u)=>{var d,p,m,E,P;const U=null!==(p=null===(d=(u&&"function"==typeof u.getOptions?u.getOptions():{})?.formatterOptions)||void 0===d?void 0:d.dateSeparator)&&void 0!==p?p:t,J=$o(null!==(m=a?.type)&&void 0!==m?m:"date"),te=null!==(P=null===(E=a?.params)||void 0===E?void 0:E.parseDateAsUtc)&&void 0!==P&&P,ne=u_(s,J,!1).isValid();let De=s;if(s&&ne&&(De=te?u_.utc(s).format(e):u_(s).format(e)),De&&U!==t){const xe=new RegExp(t,"ig");De=De.replace(xe,U)}return De}}function Of(i,t,e,r,o,s){let a="",u=r.field||r.id||"";if("string"==typeof r.field&&r.field.indexOf(".")>0){const p=r.field.split(".");u=p.length>0?p[0]:r.field}const d=o.hasOwnProperty(u)?o[u]:null;if("function"==typeof i){const p=i(t,e,d,r,o,s);a=p,p&&"object"==typeof p&&p.hasOwnProperty("text")&&(a=p.text),null==a&&(a="")}else a=o.hasOwnProperty(u)?d:"",null==a&&(a="");return"object"==typeof a&&0===Object.entries(a).length&&(a=""),a}class HB extends LT{constructor(t,e,r,o){super(t,e,r),this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this.treeDataService=o,this._defaults={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!1,optionShownOverColumnIds:[],commandShownOverColumnIds:[]},this.pluginName="ContextMenu",this._camelPluginName="contextMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-context-menu",this.init(r.gridOptions.contextMenu)}init(t){this._addonOptions={...this._defaults,...t};const e=this._addonOptions&&Array.isArray(this._addonOptions.commandItems)?this._addonOptions.commandItems:[];this._addonOptions.commandItems=[...e,...this.addMenuCustomCommands(e)],this._addonOptions={...this._addonOptions},this.sharedService.gridOptions.contextMenu=this._addonOptions,this.sortMenuItems(),this._eventHandler.subscribe(this.grid.onContextMenu,this.handleClick.bind(this)),this._addonOptions.hideMenuOnScroll&&this._eventHandler.subscribe(this.grid.onScroll,this.closeMenu.bind(this))}translateContextMenu(){var t,e;const r=null!==(e=null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)&&void 0!==e?e:{},o=this.sharedService.gridOptions.contextMenu;if(o&&r?.enableTranslate){const s=o.commandItems||[],a=o.optionItems||[];o.commandTitleKey&&(o.commandTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(o.commandTitleKey,"TEXT_COMMANDS")||o.commandTitle),o.optionTitleKey&&(o.optionTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(o.optionTitleKey,"TEXT_COMMANDS")||o.optionTitle),this.extensionUtility.translateMenuItemsFromTitleKey(s),this.extensionUtility.translateMenuItemsFromTitleKey(a)}}handleClick(t,e){const r=this.grid.getCellFromEvent(t);if(r){const o=this.grid.getDataItem(r.row),s=this.grid.getColumns()[r.cell];if((e=e||{}).cell=r.cell,e.row=r.row,e.column=s,e.dataContext=o,e.grid=this.grid,!this.extensionUtility.runOverrideFunctionWhenExists(this._addonOptions.menuUsabilityOverride,e))return;this._menuElm=this.createMenu(t),this._menuElm&&t.preventDefault(),this._menuElm&&(this.repositionMenu(t),this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.style.display="block"),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}}addMenuCustomCommands(t){var e;const r=[],o=this.sharedService&&this.sharedService.gridOptions||{},s=o?.contextMenu,a=null===(e=this.sharedService)||void 0===e?void 0:e.dataView,l=ys(o);if(s&&!s.hideCopyCellValueCommand){const u="copy";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconCopyCellValueCommand||"fa fa-clone",titleKey:`${l}COPY`,disabled:!1,command:u,positionOrder:50,action:(d,p)=>{this.copyToClipboard(p)},itemUsabilityOverride:d=>{const p=d?.column,m=d?.dataContext;if("function"==typeof p.queryFieldNameGetterFn){const E=rc(p,m,"");if(""!==E&&void 0!==E)return!0}else if(p&&m.hasOwnProperty(p.field))return""!==m[p.field]&&null!=m[p.field];return!1}})}if((o?.enableExport||o?.enableTextExport)&&s&&!s.hideExportCsvCommand){const u="export-csv";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconExportCsvCommand||"fa fa-download",titleKey:`${l}EXPORT_TO_CSV`,disabled:!1,command:u,positionOrder:51,action:()=>{var d;const m=((null===(d=this.sharedService)||void 0===d?void 0:d.externalRegisteredResources)||[]).find(E=>"TextExportService"===E.className);if(!m?.exportToFile)throw new Error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Context Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");m.exportToFile({delimiter:Ma.comma,format:Hs.csv})}})}if(o&&o.enableExcelExport&&s&&!s.hideExportExcelCommand){const u="export-excel";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconExportExcelCommand||"fa fa-file-excel-o text-success",titleKey:`${l}EXPORT_TO_EXCEL`,disabled:!1,command:u,positionOrder:52,action:()=>{var d;const m=((null===(d=this.sharedService)||void 0===d?void 0:d.externalRegisteredResources)||[]).find(E=>"ExcelExportService"===E.className);if(!m?.exportToExcel)throw new Error("[Slickgrid-Universal] You must register the ExcelExportService to properly use Export to Excel in the Context Menu. Example:: this.gridOptions = { enableExcelExport: true, registerExternalResources: [new ExcelExportService()] };");m.exportToExcel()}})}if((o?.enableExport||o?.enableTextExport)&&s&&!s.hideExportTextDelimitedCommand){const u="export-text-delimited";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconExportTextDelimitedCommand||"fa fa-download",titleKey:`${l}EXPORT_TO_TAB_DELIMITED`,disabled:!1,command:u,positionOrder:53,action:()=>{var d;const m=((null===(d=this.sharedService)||void 0===d?void 0:d.externalRegisteredResources)||[]).find(E=>"TextExportService"===E.className);if(!m?.exportToFile)throw new Error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Context Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");m.exportToFile({delimiter:Ma.tab,format:Hs.txt})}})}if(o&&(o.enableGrouping||o.enableDraggableGrouping||o.enableTreeData)){if(s&&!s.hideCopyCellValueCommand&&r.push({divider:!0,command:"",positionOrder:54}),o&&!o.enableTreeData&&s&&!s.hideClearAllGrouping){const u="clear-grouping";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconClearGroupingCommand||"fa fa-times",titleKey:`${l}CLEAR_ALL_GROUPING`,disabled:!1,command:u,positionOrder:55,action:()=>{a.setGrouping([]),this.pubSubService.publish("onContextMenuClearGrouping")},itemUsabilityOverride:()=>{const d=a&&a.getGrouping&&a.getGrouping();return Array.isArray(d)&&d.length>0}})}if(o&&s&&!s.hideCollapseAllGroups){const u="collapse-all-groups";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconCollapseAllGroupsCommand||"fa fa-compress",titleKey:`${l}COLLAPSE_ALL_GROUPS`,disabled:!1,command:u,positionOrder:56,action:()=>{o.enableTreeData?this.treeDataService.toggleTreeDataCollapse(!0):a.collapseAllGroups(),this.pubSubService.publish("onContextMenuCollapseAllGroups")},itemUsabilityOverride:()=>{if(o.enableTreeData)return!0;const d=a&&a.getGrouping&&a.getGrouping();return Array.isArray(d)&&d.length>0}})}if(o&&s&&!s.hideExpandAllGroups){const u="expand-all-groups";t.some(d=>"divider"!==d&&d.hasOwnProperty("command")&&d.command===u)||r.push({iconCssClass:s.iconExpandAllGroupsCommand||"fa fa-expand",titleKey:`${l}EXPAND_ALL_GROUPS`,disabled:!1,command:u,positionOrder:57,action:()=>{o.enableTreeData?this.treeDataService.toggleTreeDataCollapse(!1):a.expandAllGroups(),this.pubSubService.publish("onContextMenuExpandAllGroups")},itemUsabilityOverride:()=>{if(o.enableTreeData)return!0;const d=a&&a.getGrouping&&a.getGrouping();return Array.isArray(d)&&d.length>0}})}}return this.extensionUtility.translateMenuItemsFromTitleKey(r),r}copyToClipboard(t){var e,r,o,s,a;try{if(t&&t.grid&&t.command){const l=null!==(r=null===(e=this.sharedService)||void 0===e?void 0:e.gridOptions)&&void 0!==r?r:{},u=null!==(o=t?.cell)&&void 0!==o?o:0,d=null!==(s=t?.row)&&void 0!==s?s:0,p=t?.column,m=t?.dataContext;let H=function VB(i,t,e,r,o,s){let l,a=!1;s&&s.hasOwnProperty("exportWithFormatter")&&(a=!!s.exportWithFormatter),e&&e.hasOwnProperty("exportWithFormatter")&&(a=!!e.exportWithFormatter),r&&e.exportCustomFormatter?l=e.exportCustomFormatter:a&&e.formatter&&(l=e.formatter);const u=Of(l,i,t,e,r,o);return s?.sanitizeDataExport?hc(u):u}(d,u,p,m,null===(a=this.sharedService)||void 0===a?void 0:a.slickGrid,l&&(l.excelExportOptions||{...l.exportOptions,...l.textExportOptions}));"function"==typeof p.queryFieldNameGetterFn&&(H=rc(p,m,""));let U=H;"string"==typeof H&&(U=H.replace(/^([\xb7|\u2b9e|\u2b9f]\s*)|([\xb7|\u2b9e|\u2b9f])\s*/gi,"").replace(/[\u00b7|\u034f]/gi,"").trim());const X=document.createElement("textarea");X&&document.body&&(X.style.position="absolute",X.style.opacity="0",X.value=U,document.body.appendChild(X),X.select(),document.execCommand("copy",!1,U)&&X.remove())}}catch{}}sortMenuItems(){var t,e;const r=null===(e=null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)||void 0===e?void 0:e.contextMenu;r&&(this.extensionUtility.sortItems(r.commandItems||[],"positionOrder"),this.extensionUtility.sortItems(r.optionItems||[],"positionOrder"))}}class $B{constructor(t,e,r){this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this._gridColumns=[],this._gridUid="",this._subscriptions=[],this._defaults={dropPlaceHolderText:"Drop a column header here to group by the column",hideToggleAllButton:!1,toggleAllButtonText:"",toggleAllPlaceholderText:"Toggle all Groups"},this.columnsGroupBy=[],this.pluginName="DraggableGrouping",this._bindEventService=new xr,this._eventHandler=new Slick.EventHandler,this.onGroupChanged=new Slick.Event}get addonOptions(){return this._addonOptions}get dataView(){var t,e,r;return null!==(r=null===(e=null===(t=this.grid)||void 0===t?void 0:t.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get dropboxElement(){return this._dropboxElm}get droppableInstance(){return this._droppableInstance}get sortableInstance(){return this._sortableInstance}get eventHandler(){return this._eventHandler}get grid(){var t,e;return null!==(e=null!==(t=this._grid)&&void 0!==t?t:this.sharedService.slickGrid)&&void 0!==e?e:{}}get gridOptions(){var t;return null!==(t=this.sharedService.gridOptions)&&void 0!==t?t:{}}get gridUid(){var t,e;return this._gridUid||(null!==(e=null===(t=this.grid)||void 0===t?void 0:t.getUID())&&void 0!==e?e:"")}get gridUidSelector(){return this.gridUid?`#${this.gridUid}`:""}init(t,e){var r,o,s,a,l,u;if(this._addonOptions={...this._defaults,...e},this._grid=t,t){if(this._gridUid=t.getUID(),this._gridColumns=t.getColumns(),this._dropboxElm=t.getPreHeaderPanel(),!this._addonOptions.hideToggleAllButton){this._groupToggler=Le("div",{className:"slick-group-toggle-all",title:null!==(r=this._addonOptions.toggleAllPlaceholderText)&&void 0!==r?r:"",style:{display:"none"}});const d=Le("span",{className:"slick-group-toggle-all-icon"});this._groupToggler.appendChild(d),this.gridOptions.enableTranslate&&this._addonOptions.toggleAllButtonTextKey&&(this._addonOptions.toggleAllButtonText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.toggleAllButtonTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this.gridOptions.enableTranslate&&this._addonOptions.toggleAllPlaceholderTextKey&&(this._addonOptions.toggleAllPlaceholderText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.toggleAllPlaceholderTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this._groupToggler.title=null!==(o=this._addonOptions.toggleAllPlaceholderText)&&void 0!==o?o:"",this._addonOptions.toggleAllButtonText&&this._groupToggler.appendChild(Le("span",{className:"slick-group-toggle-all-text",textContent:this._addonOptions.toggleAllButtonText||""})),this._dropboxElm.appendChild(this._groupToggler),this._subscriptions.push(this.pubSubService.subscribe("onContextMenuCollapseAllGroups",()=>this.toggleGroupToggler(d,!0,!1)),this.pubSubService.subscribe("onContextMenuExpandAllGroups",()=>this.toggleGroupToggler(d,!1,!1)))}this._dropboxPlaceholderElm=Le("div",{className:"slick-draggable-dropbox-toggle-placeholder"}),this.gridOptions.enableTranslate&&(null===(s=this._addonOptions)||void 0===s?void 0:s.dropPlaceHolderTextKey)&&(this._addonOptions.dropPlaceHolderText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.dropPlaceHolderTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this._dropboxPlaceholderElm.textContent=null!==(u=null!==(l=null===(a=this._addonOptions)||void 0===a?void 0:a.dropPlaceHolderText)&&void 0!==l?l:this._defaults.dropPlaceHolderText)&&void 0!==u?u:"",this._dropboxElm.appendChild(this._dropboxPlaceholderElm),this.setupColumnDropbox(),this._eventHandler.subscribe(t.onHeaderCellRendered,(d,p)=>{var m;const E=p.node;if(!Kv(null===(m=p.column)||void 0===m?void 0:m.grouping)&&E&&(E.style.cursor="pointer",this._addonOptions.groupIconCssClass)){const P=Le("span",{className:"slick-column-groupable"});this._addonOptions.groupIconCssClass&&P.classList.add(...this._addonOptions.groupIconCssClass.split(" ")),E.appendChild(P)}}),this._subscriptions.push(this.pubSubService.subscribe("onContextMenuClearGrouping",()=>this.clearDroppedGroups()));for(const d of this._gridColumns)t.updateColumnHeader(d.field)}return this}dispose(){this.onGroupChanged.unsubscribe(),this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),bn(document.querySelector(".slick-preheader-panel")),this._grid=void 0}clearDroppedGroups(){this.columnsGroupBy=[],this.updateGroupBy("clear-all");const t=this._dropboxElm.querySelectorAll(".slick-dropped-grouping");for(const e of Array.from(t))document.querySelector(".slick-groupby-remove")?.remove(),e?.remove();this._dropboxPlaceholderElm.style.display="inline-block",this._groupToggler&&(this._groupToggler.style.display="none")}setColumns(t){this._gridColumns=t}setDroppedGroups(t){const e=Array.isArray(t)?t:[t];this._dropboxPlaceholderElm.style.display="none";for(const r of e){const o=$(this.grid.getHeaderColumn(r));this.handleGroupByDrop(this._dropboxElm,o)}}setupColumnReorder(t,e,r,o,s,a,l,u,d){e.filter(":ui-sortable").sortable("destroy");const p=t.getPreHeaderPanel();return e.sortable({distance:3,cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,appendTo:"body",start:(m,E)=>{$(E.helper).addClass("slick-header-column-active");const P=p.querySelector(".slick-draggable-dropbox-toggle-placeholder");P&&(P.style.display="inline-block");const H=p.querySelector(".slick-dropped-grouping");H&&(H.style.display="none")},beforeStop:(m,E)=>{if($(E.helper).removeClass("slick-header-column-active"),p.querySelectorAll(".slick-dropped-grouping").length>0){const H=p.querySelector(".slick-draggable-dropbox-toggle-placeholder");H&&(H.style.display="none");const U=p.querySelector(".slick-dropped-grouping");U&&(U.style.display="inline-block")}},stop:m=>{if(!t.getEditorLock().commitCurrentEdit())return void $(m.target).sortable("cancel");const E=e.sortable("toArray");if(e.length>1)for(let H=1,U=e.length;H<U;H+=1){const J=$(e[H]).sortable("toArray");for(const te of J)E.push(te)}const P=[];for(const H of E)P.push(a[l(H.replace(u,""))]);o(P),d(t.onColumnsReordered,{grid:this.grid}),m.stopPropagation(),s()}})}addColumnGroupBy(t){this.columnsGroupBy.push(t),this.updateGroupBy("add-group")}addGroupByRemoveClickHandler(t,e,r,o){const s=document.querySelector(`${this.gridUidSelector}_${t}_entry > .slick-groupby-remove`);s&&this._bindEventService.bind(s,"click",()=>{const a=this._bindEventService.boundedEvents.filter(l=>l.element===s);for(const l of a)this._bindEventService.unbind(l.element,"click",l.listener);this.removeGroupBy(t,r,o)})}handleGroupByDrop(t,e){const r=e.attr("id").replace(this._gridUid,"");let o=!0;this.columnsGroupBy.forEach(s=>{s.id===r&&(o=!1)}),o&&(this._gridColumns.forEach(s=>{var a;if(s.id===r&&null!==s.grouping&&!Kv(s.grouping)){const l=e.children(".slick-column-name").first(),u=Le("div",{id:`${this._gridUid}_${s.id}_entry`,className:"slick-dropped-grouping",dataset:{id:`${s.id}`}}),d=Le("div",{textContent:l.length?l.text():e.text(),style:{display:"inline-flex"}});u.appendChild(d);const p=Le("div",{className:"slick-groupby-remove"});if(this._addonOptions.deleteIconCssClass&&p.classList.add(...this._addonOptions.deleteIconCssClass.split(" ")),this._addonOptions.deleteIconCssClass||p.classList.add("slick-groupby-remove-image"),u.appendChild(p),u.appendChild(document.createElement("div")),t.appendChild(u),this._groupToggler&&0===this.columnsGroupBy.length){const m=this._groupToggler.querySelector(".slick-group-toggle-all-icon");null!==(a=s.grouping)&&void 0!==a&&a.collapsed?(m?.classList.add("collapsed"),m?.classList.remove("expanded")):(m?.classList.add("expanded"),m?.classList.remove("collapsed"))}this.addColumnGroupBy(s),this.addGroupByRemoveClickHandler(s.id,t,e,u)}}),this._groupToggler&&this.columnsGroupBy.length>0&&(this._groupToggler.style.display="inline-block"))}removeFromArray(t,e){if(Array.isArray(t)){const r=t.findIndex(o=>o.id===e.id);r>=0&&t.splice(r,1)}return t}removeGroupBy(t,e,r){r.remove();const o=[];this._gridColumns.forEach(s=>o[s.id]=s),this.removeFromArray(this.columnsGroupBy,o[t]),0===this.columnsGroupBy.length&&(this._dropboxPlaceholderElm.style.display="inline-block",this._groupToggler&&(this._groupToggler.style.display="none")),this.updateGroupBy("remove-group")}setupColumnDropbox(){this._droppableInstance=$(this._dropboxElm).droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",deactivate:()=>{this._dropboxElm.classList.remove("slick-header-column-denied")},drop:(t,e)=>{this.handleGroupByDrop(t.target,e.draggable)},over:(t,e)=>{const r=e.draggable.attr("id").replace(this._gridUid,"");for(const o of this._gridColumns)o.id===r&&!o.grouping&&this._dropboxElm.classList.add("slick-header-column-denied")}}),this._sortableInstance=$(this._dropboxElm).sortable({items:"div.slick-dropped-grouping",cursor:"default",tolerance:"pointer",helper:"clone",update:t=>{const e=$(t.target).sortable("toArray",{attribute:"data-id"}),r=[];for(const o of e)for(const s of this.columnsGroupBy)if(s.id===o){r.push(s);break}this.columnsGroupBy=r,this.updateGroupBy("sort-group")}}),this._groupToggler&&this._bindEventService.bind(this._groupToggler,"click",t=>{const e=t.target.classList.contains("slick-group-toggle-all-icon")?t.target:t.currentTarget.querySelector(".slick-group-toggle-all-icon");this.toggleGroupToggler(e,e?.classList.contains("expanded"))})}toggleGroupToggler(t,e=!0,r=!0){t&&(!0===e?(t.classList.add("collapsed"),t.classList.remove("expanded"),r&&this.dataView.collapseAllGroups()):(t.classList.remove("collapsed"),t.classList.add("expanded"),r&&this.dataView.expandAllGroups()))}updateGroupBy(t){if(0===this.columnsGroupBy.length)return this.dataView.setGrouping([]),this._dropboxPlaceholderElm.style.display="inline-block",void this.onGroupChanged.notify({caller:t,groupColumns:[]});const e=[];this.columnsGroupBy.forEach(r=>e.push(r.grouping)),this.dataView.setGrouping(e),this._dropboxPlaceholderElm.style.display="none",this.onGroupChanged.notify({caller:t,groupColumns:e})}}class GT{constructor(){this._defaults={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,indentation:15,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0,groupFormatter:this.defaultGroupCellFormatter.bind(this),totalsFormatter:this.defaultTotalsCellFormatter.bind(this),includeHeaderTotals:!1},this._eventHandler=new Slick.EventHandler,this._options=this._defaults}get eventHandler(){return this._eventHandler}get dataView(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get grid(){return this._grid}init(t,e){this._grid=t,this._options={...this._defaults,...e},this._eventHandler.subscribe(t.onClick,this.handleGridClick.bind(this)),this._eventHandler.subscribe(t.onKeyDown,this.handleGridKeyDown.bind(this))}dispose(){var t;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll()}getOptions(){return this._options}setOptions(t){this._options={...this._options,...t}}getGroupRowMetadata(t){return{selectable:!1,focusable:this._options.groupFocusable,cssClasses:`${this._options.groupCssClass} slick-group-level-${t?.level||0}`,formatter:this._options.includeHeaderTotals&&this._options.totalsFormatter,columns:{0:{colspan:this._options.includeHeaderTotals?"1":"*",formatter:this._options.groupFormatter,editor:null}}}}getTotalsRowMetadata(t){var e;return{selectable:!1,focusable:this._options.totalsFocusable,cssClasses:`${this._options.totalsCssClass} slick-group-level-${(null===(e=t?.group)||void 0===e?void 0:e.level)||0}`,formatter:this._options.totalsFormatter,editor:null}}defaultGroupCellFormatter(t,e,r,o,s){var a,l;if(!this._options.enableExpandCollapse)return s.title;const u=s.level||0,d=null!==(l=null===(a=this._options)||void 0===a?void 0:a.indentation)&&void 0!==l?l:15;return`<span class="${this._options.toggleCssClass} ${s.collapsed?this._options.toggleCollapsedCssClass:this._options.toggleExpandedCssClass}" aria-expanded="${!s.collapsed}" style="margin-left: ${u*d+"px"}"></span><span class="${this._options.groupTitleCssClass}" level="${u}">${s.title||""}</span>`}defaultTotalsCellFormatter(t,e,r,o,s,a){var l,u;return null!==(u=null===(l=o?.groupTotalsFormatter)||void 0===l?void 0:l.call(o,s,o,a))&&void 0!==u?u:""}handleGridClick(t,e){const r=t.target,o=this.grid.getDataItem(e.row);o instanceof Slick.Group&&r.classList.contains(this._options.toggleCssClass||"")&&(this.handleDataViewExpandOrCollapse(o),t.stopImmediatePropagation(),t.preventDefault())}handleGridKeyDown(t){if(this._options.enableExpandCollapse&&t.keyCode===Ti.SPACE){const e=this.grid.getActiveCell();if(e){const r=this.grid.getDataItem(e.row);r instanceof Slick.Group&&(this.handleDataViewExpandOrCollapse(r),t.stopImmediatePropagation(),t.preventDefault())}}}handleDataViewExpandOrCollapse(t){const e=this.grid.getRenderedRange();this.dataView.setRefreshHints({ignoreDiffsBefore:e.top,ignoreDiffsAfter:e.bottom+1}),t.collapsed?this.dataView.expandGroup(t.groupingKey):this.dataView.collapseGroup(t.groupingKey)}}class BB extends Df{constructor(t,e,r){super(t,e,r),this.extensionUtility=t,this.pubSubService=e,this.sharedService=r,this._buttonElms=[],this._defaults={buttonCssClass:"slick-header-button"},this.pluginName="HeaderButtons",this._menuCssPrefix="slick-header-button",this._camelPluginName="headerButtons",this._bindEventService=new xr,this._eventHandler=new Slick.EventHandler,this.init(r.gridOptions.headerButton)}get addonOptions(){return this._addonOptions}set addonOptions(t){this._addonOptions=t}get eventHandler(){return this._eventHandler}get grid(){return this.sharedService.slickGrid}init(t){this._addonOptions={...this._defaults,...t},this._eventHandler.subscribe(this.grid.onHeaderCellRendered,this.handleHeaderCellRendered.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeHeaderCellDestroy,this.handleBeforeHeaderCellDestroy.bind(this)),this.grid.setColumns(this.grid.getColumns())}dispose(){super.dispose(),this._buttonElms.forEach(t=>t.remove())}handleHeaderCellRendered(t,e){var r;const o=e.column;if((null===(r=o.header)||void 0===r?void 0:r.buttons)&&Array.isArray(o.header.buttons)){let s=o.header.buttons.length;for(;s--;){const l=this.populateSingleCommandOrOptionItem("command",this.addonOptions,null,o.header.buttons[s],e,this.handleButtonClick.bind(this));l&&(this._buttonElms.push(l),e.node.appendChild(l))}}}handleBeforeHeaderCellDestroy(t,e){var r,o,s;if((null===(r=e.column.header)||void 0===r?void 0:r.buttons)&&(null===(o=this._addonOptions)||void 0===o?void 0:o.buttonCssClass)){const l=((null===(s=this._addonOptions)||void 0===s?void 0:s.buttonCssClass)||"").replace(/(\s+)/g,".");l&&e.node.querySelectorAll(`.${l}`).forEach(u=>u.remove())}}handleButtonClick(t,e,r,o){var s;if(r.command&&!r.disabled){const a=r.command||"",l={grid:this.grid,column:o,button:r};a&&(l.command=a),"function"==typeof r.action&&!r.disabled&&r.action.call(this,t,l),null!==a&&!r.disabled&&(null===(s=this._addonOptions)||void 0===s?void 0:s.onCommand)&&(this.pubSubService.publish("onHeaderButtonCommand",l),this._addonOptions.onCommand(t,l),o?.id&&this.grid.updateColumnHeader(o.id))}t.preventDefault(),t.stopPropagation()}}class UB extends Df{constructor(t,e,r,o,s){super(t,r,o),this.extensionUtility=t,this.filterService=e,this.pubSubService=r,this.sharedService=o,this.sortService=s,this._defaults={autoAlign:!0,autoAlignOffset:0,buttonCssClass:null,buttonImage:null,minWidth:100,hideColumnHideCommand:!1,hideSortCommands:!1,title:""},this.pluginName="HeaderMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-header-menu",this._camelPluginName="headerMenu",this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.columnDefinitions),this.init(o.gridOptions.headerMenu)}init(t){this._addonOptions={...this._defaults,...t},this._eventHandler.subscribe(this.grid.onBeforeSetColumns,(e,r)=>{this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(r.newColumns)}),this._eventHandler.subscribe(this.grid.onHeaderCellRendered,this.handleHeaderCellRendered.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeHeaderCellDestroy,this.handleBeforeHeaderCellDestroy.bind(this)),this.grid.setColumns(this.grid.getColumns()),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}dispose(){var t;super.dispose(),this._menuElm=this._menuElm||document.body.querySelector(`.slick-header-menu${this.gridUidSelector}`),null===(t=this._menuElm)||void 0===t||t.remove(),this._activeHeaderColumnElm=void 0}hideColumn(t){var e,r,o;if(null!==(r=null===(e=this.sharedService)||void 0===e?void 0:e.slickGrid)&&void 0!==r&&r.getColumnIndex){const s=this.sharedService.slickGrid.getColumnIndex(t.id),a=this.sharedService.slickGrid.getColumns(),l=null!==(o=this.sharedService.gridOptions.frozenColumn)&&void 0!==o?o:-1;l>=0&&l>=s&&(this.sharedService.gridOptions.frozenColumn=l-1,this.sharedService.slickGrid.setOptions({frozenColumn:this.sharedService.gridOptions.frozenColumn}));const u=qv(a,s);this.sharedService.visibleColumns=u,this.sharedService.slickGrid.setColumns(u),this.pubSubService.publish("onHeaderMenuHideColumns",{columns:u,hiddenColumn:t})}}hideMenu(){var t,e;null===(t=this._menuElm)||void 0===t||t.remove(),this._menuElm=void 0,null===(e=this._activeHeaderColumnElm)||void 0===e||e.classList.remove("slick-header-column-active")}showMenu(t,e,r){var o,s,a;const l={grid:this.grid,column:e,menu:r};"function"==typeof t.stopPropagation&&(this.pubSubService.publish("onHeaderMenuBeforeMenuShow",l),"function"==typeof(null===(o=this.addonOptions)||void 0===o?void 0:o.onBeforeMenuShow)&&!1===(null===(s=this.addonOptions)||void 0===s?void 0:s.onBeforeMenuShow(t,l)))||(this._menuElm||(this._menuElm=Le("div",{className:"slick-header-menu",style:{minWidth:`${this.addonOptions.minWidth}px`}}),this._menuElm.setAttribute("aria-expanded","true"),null===(a=this.grid.getContainerNode())||void 0===a||a.appendChild(this._menuElm)),bn(this._menuElm),this.populateHeaderMenuCommandList(t,r,l))}translateHeaderMenu(){var t;null!==(t=this.sharedService.gridOptions)&&void 0!==t&&t.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)}handleHeaderCellRendered(t,e){var r;const o=e.column,s=null===(r=o.header)||void 0===r?void 0:r.menu;if(s&&e.node){if(!this.extensionUtility.runOverrideFunctionWhenExists(this.addonOptions.menuUsabilityOverride,e))return;const a=Le("div",{className:"slick-header-menu-button"});this.addonOptions.buttonCssClass&&a.classList.add(...this.addonOptions.buttonCssClass.split(" ")),this.addonOptions.tooltip&&(a.title=this.addonOptions.tooltip),e.node.appendChild(a),this._bindEventService.bind(a,"click",l=>this.showMenu(l,o,s))}}handleBeforeHeaderCellDestroy(t,e){var r;null!==(r=e.column.header)&&void 0!==r&&r.menu&&e.node.querySelectorAll(".slick-header-menu-button").forEach(s=>s.remove())}handleBodyMouseDown(t){var e;(this._menuElm!==t.target&&(null===(e=this._menuElm)||void 0===e||!e.contains(t.target))||"close"===t.target.className)&&this.hideMenu()}handleMenuItemCommandClick(t,e,r,o){var s;if("divider"===r||r.command&&(r.disabled||r.divider))return!1;const a={grid:this.grid,command:r.command,column:o,item:r};this.executeHeaderMenuInternalCommands(t,a),this.pubSubService.publish("onHeaderMenuCommand",a),"function"==typeof(null===(s=this.addonOptions)||void 0===s?void 0:s.onCommand)&&this.addonOptions.onCommand(t,a),"function"==typeof r.action&&r.action.call(this,t,a),t.defaultPrevented||this.hideMenu(),t.preventDefault(),t.stopPropagation()}addHeaderMenuCustomCommands(t){const e=this.sharedService.gridOptions,r=e.headerMenu||{},o=ys(e);return Array.isArray(t)&&e.enableHeaderMenu&&t.forEach(s=>{var a,l,u;if(s&&!s.excludeFromHeaderMenu){s.header?s.header.menu||(s.header.menu={items:[]}):s.header={menu:{items:[]}};const d=null!==(u=null===(l=null===(a=s?.header)||void 0===a?void 0:a.menu)||void 0===l?void 0:l.items)&&void 0!==u?u:[];let p=!1;r&&!r.hideFreezeColumnsCommand&&(p=!0,d.some(m=>"divider"!==m&&"freeze-columns"===m?.command)||d.push({iconCssClass:r.iconFreezeColumns||"fa fa-thumb-tack",titleKey:`${o}FREEZE_COLUMNS`,command:"freeze-columns",positionOrder:47})),r&&!r.hideColumnResizeByContentCommand&&this.sharedService.gridOptions.enableColumnResizeOnDoubleClick&&(p=!0,d.some(m=>"divider"!==m&&"column-resize-by-content"===m?.command)||d.push({iconCssClass:r.iconColumnResizeByContentCommand||"fa fa-arrows-h",titleKey:`${o}COLUMN_RESIZE_BY_CONTENT`,command:"column-resize-by-content",positionOrder:48})),p&&!d.some(m=>"divider"!==m&&49===m.positionOrder)&&d.push({divider:!0,command:"",positionOrder:49}),e.enableSorting&&s.sortable&&r&&!r.hideSortCommands&&(d.some(m=>"divider"!==m&&"sort-asc"===m?.command)||d.push({iconCssClass:r.iconSortAscCommand||"fa fa-sort-asc",titleKey:`${o}SORT_ASCENDING`,command:"sort-asc",positionOrder:50}),d.some(m=>"divider"!==m&&"sort-desc"===m?.command)||d.push({iconCssClass:r.iconSortDescCommand||"fa fa-sort-desc",titleKey:`${o}SORT_DESCENDING`,command:"sort-desc",positionOrder:51}),d.some(m=>"divider"!==m&&52===m.positionOrder)||d.push({divider:!0,command:"",positionOrder:52}),!r.hideClearSortCommand&&!d.some(m=>"divider"!==m&&"clear-sort"===m?.command)&&d.push({iconCssClass:r.iconClearSortCommand||"fa fa-unsorted",titleKey:`${o}REMOVE_SORT`,command:"clear-sort",positionOrder:54})),e.enableFiltering&&s.filterable&&r&&!r.hideFilterCommand&&!r.hideClearFilterCommand&&!d.some(m=>"divider"!==m&&"clear-filter"===m?.command)&&d.push({iconCssClass:r.iconClearFilterCommand||"fa fa-filter",titleKey:`${o}REMOVE_FILTER`,command:"clear-filter",positionOrder:53}),r&&!r.hideColumnHideCommand&&!d.some(m=>"divider"!==m&&"hide-column"===m?.command)&&d.push({iconCssClass:r.iconColumnHideCommand||"fa fa-times",titleKey:`${o}HIDE_COLUMN`,command:"hide-column",positionOrder:55}),this.extensionUtility.translateMenuItemsFromTitleKey(d),this.extensionUtility.sortItems(d,"positionOrder")}}),r}clearColumnFilter(t,e){e?.column&&this.filterService.clearFilterByColumnId(t,e.column.id)}clearColumnSort(t,e){e?.column&&this.sharedService&&this.sortService.clearSortByColumnId(t,e.column.id)}executeHeaderMenuInternalCommands(t,e){var r;if(e?.command)switch(e.command){case"hide-column":this.hideColumn(e.column),null!==(r=this.sharedService.gridOptions)&&void 0!==r&&r.enableAutoSizeColumns&&this.sharedService.slickGrid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(t,e);break;case"clear-sort":this.clearColumnSort(t,e);break;case"column-resize-by-content":this.pubSubService.publish("onHeaderMenuColumnResizeByContent",{columnId:e.column.id});break;case"freeze-columns":const o=[...this.sharedService.visibleColumns],a={frozenColumn:o.findIndex(p=>p.id===e.column.id),enableMouseWheelScrollHandler:!0},l=this.sharedService.slickGrid.getColumns();this.sharedService.slickGrid.setOptions(a,!1,!0),this.sharedService.gridOptions.frozenColumn=a.frozenColumn,this.sharedService.gridOptions.enableMouseWheelScrollHandler=a.enableMouseWheelScrollHandler,this.sharedService.frozenVisibleColumnId=e.column.id,this.sharedService.hasColumnsReordered||Array.isArray(o)&&Array.isArray(this.sharedService.allColumns)&&o.length!==this.sharedService.allColumns.length?this.sharedService.slickGrid.setColumns(o):this.sharedService.slickGrid.setColumns(l),this.sharedService.slickGrid.getOptions().enableAutoSizeColumns&&this.sharedService.slickGrid.autosizeColumns();break;case"sort-asc":case"sort-desc":this.sortColumn(t,e,"sort-asc"===e.command)}}populateHeaderMenuCommandList(t,e,r){var o,s;this.populateCommandOrOptionItems("command",this.addonOptions,this._menuElm,e.items,r,this.handleMenuItemCommandClick),this.repositionMenu(t),this.pubSubService.publish("onHeaderMenuAfterMenuShow",r),("function"!=typeof(null===(o=this.addonOptions)||void 0===o?void 0:o.onAfterMenuShow)||!1!==(null===(s=this.addonOptions)||void 0===s?void 0:s.onAfterMenuShow(t,r)))&&(t.preventDefault(),t.stopPropagation())}repositionMenu(t){var e,r,o,s,a,l,u,d;const p=t.target;if(this._menuElm&&p.classList.contains("slick-header-menu-button")){const m=function lB(i,t){if(!i||!t)return;const e=i.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-e.top,right:r.right-e.right,bottom:r.bottom-e.bottom,left:r.left-e.left}}(this.sharedService.gridContainerElement,p);let E=null!==(e=m?.left)&&void 0!==e?e:0;if(this.addonOptions.autoAlign){const P=this.grid.getGridPosition();P?.width&&E+(null!==(r=this._menuElm.clientWidth)&&void 0!==r?r:0)>=P.width&&(E=E+p.clientWidth-this._menuElm.clientWidth+(null!==(s=null===(o=this.addonOptions)||void 0===o?void 0:o.autoAlignOffset)&&void 0!==s?s:0))}this._menuElm.style.top=`${(null!==(a=m?.top)&&void 0!==a?a:0)+(null!==(u=null===(l=this.addonOptions)||void 0===l?void 0:l.menuOffsetTop)&&void 0!==u?u:0)+p.clientHeight}px`,this._menuElm.style.left=`${E}px`,this._activeHeaderColumnElm=this._menuElm.closest(".slick-header-column"),null===(d=this._activeHeaderColumnElm)||void 0===d||d.classList.add("slick-header-column-active")}}resetHeaderMenuTranslations(t){t.forEach(e=>{var r,o;(null===(o=null===(r=e?.header)||void 0===r?void 0:r.menu)||void 0===o?void 0:o.items)&&!e.excludeFromHeaderMenu&&this.extensionUtility.translateMenuItemsFromTitleKey(e.header.menu.items||[])})}sortColumn(t,e,r=!0){if(e?.column){const o=e.column,s=this.sharedService.gridOptions.multiColumnSort?this.sortService.getCurrentColumnSorts(o.id+""):[];let a=In.local;s.push({columnId:o.id,sortCol:o,sortAsc:r}),this.sharedService.gridOptions.backendServiceApi?(this.sortService.onBackendSortChanged(t,{multiColumnSort:!0,sortCols:s,grid:this.sharedService.slickGrid}),a=In.remote):this.sharedService.dataView?(this.sortService.onLocalSortChanged(this.sharedService.slickGrid,s),a=In.local):e.grid.onSort.notify(s);const l=s.map(u=>{var d,p,m;return{columnId:null!==(p=null===(d=u?.sortCol)||void 0===d?void 0:d.id)&&void 0!==p?p:"",sortAsc:null===(m=u?.sortAsc)||void 0===m||m}});if(this.sharedService.slickGrid.setSortColumns(l),a){const u=[];l.forEach(d=>{u.push({columnId:`${d.columnId}`,direction:d.sortAsc?"ASC":"DESC"})}),this.sortService.emitSortChanged(a,u)}}}}class jT{constructor(){this._dragging=!1,this._handler=new Slick.EventHandler,this._defaults={autoScroll:!0,columnId:"_move",cssClass:"slick-row-move-column",cancelEditOnDrag:!1,disableRowSelection:!1,hideRowMoveShadow:!0,rowMoveShadowMarginTop:0,rowMoveShadowMarginLeft:0,rowMoveShadowOpacity:.9,rowMoveShadowScale:.75,singleRowMove:!1,width:40},this.onBeforeMoveRows=new Slick.Event,this.onMoveRows=new Slick.Event,this.pluginName="RowMoveManager",this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}init(t,e){var r;this._addonOptions={...this._defaults,...e},this._grid=t,this._canvas=this._grid.getCanvasNode(),"function"==typeof(null===(r=this._addonOptions)||void 0===r?void 0:r.usabilityOverride)&&this.usabilityOverride(this._addonOptions.usabilityOverride),this._eventHandler.subscribe(this._grid.onDragInit,this.handleDragInit.bind(this)).subscribe(this._grid.onDragStart,this.handleDragStart.bind(this)).subscribe(this._grid.onDrag,this.handleDrag.bind(this)).subscribe(this._grid.onDragEnd,this.handleDragEnd.bind(this))}dispose(){var t;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll()}create(t,e){var r,o;if(this._addonOptions={...this._defaults,...e.rowMoveManager},Array.isArray(t)&&e){const s=this.getColumnDefinition(),l=Array.isArray(t)&&t.find(d=>"selectAndMove"===d?.behavior)||s,u=null!==(o=null===(r=e?.rowMoveManager)||void 0===r?void 0:r.columnIndexPosition)&&void 0!==o?o:0;u>0?t.splice(u,0,l):t.unshift(l)}return this}getColumnDefinition(){return{id:this._addonOptions.columnId||"_move",name:"",behavior:"selectAndMove",cssClass:this._addonOptions.cssClass,excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,field:"move",resizable:!1,selectable:!1,width:this._addonOptions.width||40,formatter:this.moveIconFormatter.bind(this)}}usabilityOverride(t){this._usabilityOverride=t}setOptions(t){this._addonOptions={...this._addonOptions,...t}}handleDragInit(t){t.stopImmediatePropagation()}handleDragEnd(t,e){var r,o,s;if(this._dragging&&(this._dragging=!1,t.stopImmediatePropagation(),null===(r=e.guide)||void 0===r||r.remove(),null===(o=e.selectionProxy)||void 0===o||o.remove(),null===(s=e.clonedSlickRow)||void 0===s||s.remove(),e.canMove)){const a={grid:this._grid,rows:e.selectedRows,insertBefore:e.insertBefore};"function"==typeof this._addonOptions.onMoveRows&&this._addonOptions.onMoveRows(t,a),this.onMoveRows.notify(a)}}handleDrag(t,e){var r,o,s,a;if(this._dragging){t.stopImmediatePropagation();const l=t.pageY-(null!==(o=null===(r=zo(this._canvas))||void 0===r?void 0:r.top)&&void 0!==o?o:0);e.selectionProxy.style.top=l-5+"px",e.selectionProxy.style.display="block",e.clonedSlickRow&&(e.clonedSlickRow.style.top=l-6+"px",e.clonedSlickRow.style.display="block");const u=Math.max(0,Math.min(Math.round(l/(this.gridOptions.rowHeight||0)),this._grid.getDataLength()));if(u!==e.insertBefore){const d={grid:this._grid,rows:e.selectedRows,insertBefore:u};if(e.canMove=!1!==(null===(a=null===(s=this._addonOptions)||void 0===s?void 0:s.onBeforeMoveRows)||void 0===a?void 0:a.call(s,t,d))&&!1!==this.onBeforeMoveRows.notify(d),this._usabilityOverride&&e.canMove){const p=this._grid.getDataItem(u);e.canMove=this.checkUsabilityOverride(u,p,this._grid)}e.guide.style.top=e.canMove?u*(this.gridOptions.rowHeight||0)+"px":"-1000px",e.insertBefore=u}}}handleDragStart(t,e){var r,o,s,a,l,u,d;const p=this._grid.getCellFromEvent(t)||{cell:-1,row:-1},m=p.row,E=this._grid.getDataItem(m);if(this.checkUsabilityOverride(m,E,this._grid)){if(this._addonOptions.cancelEditOnDrag&&this._grid.getEditorLock().isActive()&&this._grid.getEditorLock().cancelCurrentEdit(),this._grid.getEditorLock().isActive()||!/move|selectAndMove/.test(this._grid.getColumns()[p.cell].behavior||""))return!1;if(this._dragging=!0,t.stopImmediatePropagation(),!this.addonOptions.hideRowMoveShadow){const U=null===(r=this._grid.getCellNode(p.row,p.cell))||void 0===r?void 0:r.closest(".slick-row");U&&(e.clonedSlickRow=U.cloneNode(!0),e.clonedSlickRow.classList.add("slick-reorder-shadow-row"),e.clonedSlickRow.style.display="none",e.clonedSlickRow.style.marginLeft=ll(null===(o=this._addonOptions)||void 0===o?void 0:o.rowMoveShadowMarginLeft,"0px"),e.clonedSlickRow.style.marginTop=ll(null===(s=this._addonOptions)||void 0===s?void 0:s.rowMoveShadowMarginTop,"0px"),e.clonedSlickRow.style.opacity=`${null!==(l=null===(a=this._addonOptions)||void 0===a?void 0:a.rowMoveShadowOpacity)&&void 0!==l?l:.95}`,e.clonedSlickRow.style.transform=`scale(${null!==(d=null===(u=this.addonOptions)||void 0===u?void 0:u.rowMoveShadowScale)&&void 0!==d?d:.75})`,this._canvas.appendChild(e.clonedSlickRow))}let P=this._addonOptions.singleRowMove?[p.row]:this._grid.getSelectedRows();(0===P.length||!P.some(U=>U===p.row))&&(P=[p.row],this._addonOptions.disableRowSelection||this._grid.setSelectedRows(P));const H=this.gridOptions.rowHeight;e.selectedRows=P,e.selectionProxy=Le("div",{className:"slick-reorder-proxy",style:{display:"none",position:"absolute",zIndex:"99999",width:`${this._canvas.clientWidth}px`,height:H*P.length+"px"}}),this._canvas.appendChild(e.selectionProxy),e.guide=Le("div",{className:"slick-reorder-guide",style:{position:"absolute",zIndex:"99999",width:`${this._canvas.clientWidth}px`,top:"-1000px"}}),this._canvas.appendChild(e.guide),e.insertBefore=-1}}checkUsabilityOverride(t,e,r){return"function"!=typeof this._usabilityOverride||this._usabilityOverride(t,e,r)}moveIconFormatter(t,e,r,o,s,a){return this.checkUsabilityOverride(t,s,a)?{addClasses:"cell-reorder dnd",text:""}:""}}class zB{constructor(t,e,r,o,s,a,l){this.extensionUtility=t,this.filterService=e,this.pubSubService=r,this.sharedService=o,this.sortService=s,this.treeDataService=a,this.translaterService=l,this._extensionCreatedList={},this._extensionList={}}get extensionList(){return this._extensionList}get gridOptions(){return this.sharedService.gridOptions||{}}dispose(){var t;this.sharedService.visibleColumns=[];for(const e of Object.keys(this._extensionList))if(this._extensionList.hasOwnProperty(e)){const r=this._extensionList[e];null!==(t=r?.instance)&&void 0!==t&&t.dispose&&r.instance.dispose()}for(const e of Object.keys(this._extensionList))delete this._extensionList[e];this._cellMenuPlugin=null,this._cellExcelCopyManagerPlugin=null,this._checkboxSelectColumn=null,this._contextMenuPlugin=null,this._columnPickerControl=null,this._draggleGroupingPlugin=null,this._gridMenuControl=null,this._groupItemMetadataProviderService=null,this._headerMenuPlugin=null,this._rowMoveManagerPlugin=null,this._rowSelectionModel=null,this._extensionCreatedList=null,this._extensionList=null}addExtensionToList(t,e){this._extensionList[t]=e}getAllColumns(){return this.sharedService.allColumns||[]}getVisibleColumns(){return this.sharedService.visibleColumns||[]}getCreatedExtensionByName(t){var e;if(null!==(e=this._extensionCreatedList)&&void 0!==e&&e.hasOwnProperty(t))return this._extensionCreatedList[t]}getExtensionByName(t){var e;return null===(e=this._extensionList)||void 0===e?void 0:e[t]}getExtensionInstanceByName(t){var e;return null===(e=this.getExtensionByName(t))||void 0===e?void 0:e.instance}autoResizeColumns(){this.sharedService.slickGrid.autosizeColumns()}bindDifferentExtensions(){var t,e,r,o,s,a,l,u,d,p,m;if(this.gridOptions){if(this.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.gridOptions.enableAutoTooltip){const E=new IB(null===(t=this.gridOptions)||void 0===t?void 0:t.autoTooltipOptions);this.sharedService.slickGrid.registerPlugin(E),this._extensionList[vi.autoTooltip]={name:vi.autoTooltip,instance:E}}if(this.gridOptions.enableExcelCopyBuffer&&(this._cellExcelCopyManagerPlugin=new RB,this._cellExcelCopyManagerPlugin.init(this.sharedService.slickGrid,this.sharedService.gridOptions.excelCopyBufferOptions),!(null===(e=this.gridOptions.excelCopyBufferOptions)||void 0===e)&&e.onExtensionRegistered&&this.gridOptions.excelCopyBufferOptions.onExtensionRegistered(this._cellExcelCopyManagerPlugin),this._extensionList[vi.cellExternalCopyManager]={name:vi.cellExternalCopyManager,instance:this._cellExcelCopyManagerPlugin}),this.gridOptions.enableCellMenu&&(this._cellMenuPlugin=new kB(this.extensionUtility,this.pubSubService,this.sharedService),!(null===(r=this.gridOptions.cellMenu)||void 0===r)&&r.onExtensionRegistered&&this.gridOptions.cellMenu.onExtensionRegistered(this._cellMenuPlugin),this._extensionList[vi.cellMenu]={name:vi.cellMenu,instance:this._cellMenuPlugin}),!this._rowSelectionModel&&(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowDetailView||this.gridOptions.enableRowMoveManager)){if(!this._rowSelectionModel||!this.sharedService.slickGrid.getSelectionModel()){const E=null!==(o=this.gridOptions.rowSelectionOptions)&&void 0!==o?o:{};this.gridOptions.enableRowMoveManager&&!1!==(null===(s=this.gridOptions.rowMoveManager)||void 0===s?void 0:s.dragToSelect)&&(E.dragToSelect=!0),this._rowSelectionModel=new Tf(E),this.sharedService.slickGrid.setSelectionModel(this._rowSelectionModel)}this._extensionList[vi.rowSelection]={name:vi.rowSelection,instance:this._rowSelectionModel}}if(this.gridOptions.enableCheckboxSelector){this._checkboxSelectColumn=this._checkboxSelectColumn||new HT(this.gridOptions.checkboxSelector),this._checkboxSelectColumn.init(this.sharedService.slickGrid);const E=this.getCreatedExtensionByName(vi.checkboxSelector);E&&E.instance&&(this._extensionList[vi.checkboxSelector]={name:vi.checkboxSelector,instance:this._checkboxSelectColumn})}if(this.gridOptions.enableColumnPicker&&(this._columnPickerControl=new l_(this.extensionUtility,this.pubSubService,this.sharedService),!(null===(a=this.gridOptions.columnPicker)||void 0===a)&&a.onExtensionRegistered&&this.gridOptions.columnPicker.onExtensionRegistered(this._columnPickerControl),this._extensionList[vi.columnPicker]={name:vi.columnPicker,instance:this._columnPickerControl}),this.gridOptions.enableContextMenu&&(this._contextMenuPlugin=new HB(this.extensionUtility,this.pubSubService,this.sharedService,this.treeDataService),!(null===(l=this.gridOptions.contextMenu)||void 0===l)&&l.onExtensionRegistered&&this.gridOptions.contextMenu.onExtensionRegistered(this._contextMenuPlugin),this._extensionList[vi.contextMenu]={name:vi.contextMenu,instance:this._contextMenuPlugin}),this.gridOptions.enableDraggableGrouping&&(this._draggleGroupingPlugin&&(this._draggleGroupingPlugin.init(this.sharedService.slickGrid,this.gridOptions.draggableGrouping),!(null===(u=this.gridOptions.draggableGrouping)||void 0===u)&&u.onExtensionRegistered&&this.gridOptions.draggableGrouping.onExtensionRegistered(this._draggleGroupingPlugin),this._extensionList[vi.contextMenu]={name:vi.contextMenu,instance:this._draggleGroupingPlugin}),this._extensionList[vi.draggableGrouping]={name:vi.draggableGrouping,instance:this._draggleGroupingPlugin}),this.gridOptions.enableGridMenu&&(this._gridMenuControl=new $T(this.extensionUtility,this.filterService,this.pubSubService,this.sharedService,this.sortService),!(null===(d=this.gridOptions.gridMenu)||void 0===d)&&d.onExtensionRegistered&&this.gridOptions.gridMenu.onExtensionRegistered(this._gridMenuControl),this._extensionList[vi.gridMenu]={name:vi.gridMenu,instance:this._gridMenuControl}),(this.gridOptions.enableDraggableGrouping||this.gridOptions.enableGrouping)&&(this._groupItemMetadataProviderService=this._groupItemMetadataProviderService?this._groupItemMetadataProviderService:new GT,this._groupItemMetadataProviderService.init(this.sharedService.slickGrid),this._extensionList[vi.groupItemMetaProvider]={name:vi.groupItemMetaProvider,instance:this._groupItemMetadataProviderService}),this.gridOptions.enableHeaderButton){const E=new BB(this.extensionUtility,this.pubSubService,this.sharedService);!(null===(p=this.gridOptions.headerButton)||void 0===p)&&p.onExtensionRegistered&&this.gridOptions.headerButton.onExtensionRegistered(E),this._extensionList[vi.headerButton]={name:vi.headerButton,instance:E}}this.gridOptions.enableHeaderMenu&&(this._headerMenuPlugin=new UB(this.extensionUtility,this.filterService,this.pubSubService,this.sharedService,this.sortService),!(null===(m=this.gridOptions.headerMenu)||void 0===m)&&m.onExtensionRegistered&&this.gridOptions.headerMenu.onExtensionRegistered(this._headerMenuPlugin),this._extensionList[vi.headerMenu]={name:vi.headerMenu,instance:this._headerMenuPlugin}),this.gridOptions.enableRowMoveManager&&(this._rowMoveManagerPlugin=this._rowMoveManagerPlugin||new jT,this._rowMoveManagerPlugin.init(this.sharedService.slickGrid,this.gridOptions.rowMoveManager),this.getCreatedExtensionByName(vi.rowMoveManager)?.instance&&(this._extensionList[vi.rowMoveManager]={name:vi.rowMoveManager,instance:this._rowMoveManagerPlugin}))}}createExtensionsBeforeGridCreation(t,e){var r,o,s,a;const l=[];e.enableCheckboxSelector&&(this.getCreatedExtensionByName(vi.checkboxSelector)||(this._checkboxSelectColumn=new HT(this.sharedService.gridOptions.checkboxSelector),l.push({name:vi.checkboxSelector,extension:this._checkboxSelectColumn,columnIndexPosition:null!==(o=null===(r=e?.checkboxSelector)||void 0===r?void 0:r.columnIndexPosition)&&void 0!==o?o:l.length}))),e.enableRowMoveManager&&(this.getCreatedExtensionByName(vi.rowMoveManager)||(this._rowMoveManagerPlugin=new jT,l.push({name:vi.rowMoveManager,extension:this._rowMoveManagerPlugin,columnIndexPosition:null!==(a=null===(s=e?.rowMoveManager)||void 0===s?void 0:s.columnIndexPosition)&&void 0!==a?a:l.length}))),this.createExtensionByTheirColumnIndex(l,t,e),e.enableDraggableGrouping&&(this.getCreatedExtensionByName(vi.draggableGrouping)||(this._draggleGroupingPlugin=new $B(this.extensionUtility,this.pubSubService,this.sharedService),this._draggleGroupingPlugin&&(e.enableColumnReorder=this._draggleGroupingPlugin.setupColumnReorder,this._extensionCreatedList[vi.draggableGrouping]={name:vi.draggableGrouping,instance:this._draggleGroupingPlugin})))}hideColumn(t){var e,r;if("function"==typeof(null===(r=null===(e=this.sharedService)||void 0===e?void 0:e.slickGrid)||void 0===r?void 0:r.getColumns)){const o=this.sharedService.slickGrid.getColumnIndex(t.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.slickGrid.getColumns(),o),this.sharedService.slickGrid.setColumns(this.sharedService.visibleColumns)}}refreshBackendDataset(t){this.extensionUtility.refreshBackendDataset(t)}removeColumnByIndex(t,e){return Array.isArray(t)?t.filter((r,o)=>e!==o):t}translateAllExtensions(){this.translateCellMenu(),this.translateColumnHeaders(),this.translateColumnPicker(),this.translateContextMenu(),this.translateGridMenu(),this.translateHeaderMenu()}translateCellMenu(){var t,e;null===(e=null===(t=this._cellMenuPlugin)||void 0===t?void 0:t.translateCellMenu)||void 0===e||e.call(t)}translateColumnPicker(){var t;null!==(t=this._columnPickerControl)&&void 0!==t&&t.translateColumnPicker&&this._columnPickerControl.translateColumnPicker()}translateContextMenu(){var t,e;null===(e=null===(t=this._contextMenuPlugin)||void 0===t?void 0:t.translateContextMenu)||void 0===e||e.call(t)}translateGridMenu(){var t,e;null===(e=null===(t=this._gridMenuControl)||void 0===t?void 0:t.translateGridMenu)||void 0===e||e.call(t)}translateHeaderMenu(){var t,e;null===(e=null===(t=this._headerMenuPlugin)||void 0===t?void 0:t.translateHeaderMenu)||void 0===e||e.call(t)}translateColumnHeaders(t,e){var r,o,s;if(this.sharedService&&this.gridOptions&&this.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');t&&(null===(r=this.translaterService)||void 0===r?void 0:r.use)&&this.translaterService.use(t);let a=e;a||(a=this.sharedService.columnDefinitions),this.translateItems(a,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.renderColumnHeaders(a,Array.isArray(e)),null===(s=null===(o=this._gridMenuControl)||void 0===o?void 0:o.translateGridMenu)||void 0===s||s.call(o)}renderColumnHeaders(t,e=!1){var r;let o=t;o||(o=this.sharedService.columnDefinitions),Array.isArray(o)&&this.sharedService.slickGrid&&this.sharedService.slickGrid.setColumns&&((o.length>this.sharedService.allColumns.length||e)&&(this.sharedService.allColumns=o),this.sharedService.slickGrid.setColumns(o)),this.gridOptions.enableColumnPicker&&this._columnPickerControl&&(this._columnPickerControl.columns=this.sharedService.allColumns),this.gridOptions.enableGridMenu&&this._gridMenuControl&&(this._gridMenuControl.columns=null!==(r=this.sharedService.allColumns)&&void 0!==r?r:[],this._gridMenuControl.recreateGridMenu())}createExtensionByTheirColumnIndex(t,e,r){t.sort((o,s)=>o.columnIndexPosition-s.columnIndexPosition),t.forEach(o=>{const s=o.extension.create(e,r);s&&(this._extensionCreatedList[o.name]={name:o.name,instance:s})})}translateItems(t,e,r){var o,s,a;if((null===(o=this.gridOptions)||void 0===o?void 0:o.enableTranslate)&&(null===(s=this.translaterService)||void 0===s||!s.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(Array.isArray(t))for(const l of t)l[e]&&(l[r]=null===(a=this.translaterService)||void 0===a?void 0:a.translate(l[e]))}}var YT=Object.prototype.hasOwnProperty;function Bs(i,t){var e,r;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((r=i.length)===t.length)for(;r--&&Bs(i[r],t[r]););return-1===r}if(!e||"object"==typeof i){for(e in r=0,i)if(YT.call(i,e)&&++r&&!YT.call(t,e)||!(e in t)||!Bs(i[e],t[e]))return!1;return Object.keys(t).length===r}}return i!=i&&t!=t}function qT(i,t,e){if(e&&(i?.hasOwnProperty(e)||t?.hasOwnProperty(e)))return i[e]===t||i===t[e]||i[e]===t[e];for(const r in i)if(i.hasOwnProperty(r)&&i[r]!==t[r])return!1;return!0}const Na=(i,t,e)=>{switch(i.toUpperCase()){case"<":case"LT":return t<e;case"<=":case"LE":return t<=e;case">":case"GT":return t>e;case">=":case"GE":return t>=e;case"!=":case"<>":case"NE":return t!==e;case"=":case"==":case"EQ":return t===e;case"IN":return!(!e||!Array.isArray(e))&&e.includes(t);case"NIN":case"NOT_IN":return!(!e||!Array.isArray(e)||e.includes(t));case"IN_CONTAINS":return!(!e||!Array.isArray(e)||"string"!=typeof t)&&e.some(r=>t.split(/[,]+/).map(o=>o.trim()).includes(r));case"NIN_CONTAINS":case"NOT_IN_CONTAINS":return!(!e||!Array.isArray(e)||"string"!=typeof t||e.some(r=>t.split(/[,]+/).map(o=>o.trim()).includes(r)));case"IN_COLLECTION":return!!(t&&e&&Array.isArray(t)&&Array.isArray(e))&&e.some(r=>t.includes(r));case"NOT_IN_COLLECTION":return!!(t&&e&&Array.isArray(t)&&Array.isArray(e))&&!e.some(r=>t.includes(r))}return!0};function d_(i,t,e,r){return"*"===i||i===Xt.endsWith||"*z"===i?t.endsWith(e):""===i&&"*"===r||i===Xt.startsWith||"a*"===i?t.startsWith(e):""===i||i===Xt.contains?t.indexOf(e)>-1:"<>"===i||i===Xt.notContains?-1===t.indexOf(e):Na(i||"==",t,e)}const If=Pl()||sl;function Rf(i,t){let r;switch(JT(t)){case"boolean":r=function YB(i){return vf(Array.isArray(i)&&i[0]||!1)}(i);break;case"date":r=function KB(i,t){const e=Array.isArray(i)&&i||[],o=$o(t||"dateIso"),s=[];if(2===e.length||"string"==typeof e[0]&&e[0].indexOf("..")>0){const a=2===e.length?e:e[0].split(".."),l=Array.isArray(a)&&a[0]||"",u=Array.isArray(a)&&a[1]||"",d=If(l,o,!0),p=If(u,o,!0);if(!d.isValid()||!p.isValid())return[];s.push(d,p)}else{const a=If(e[0],o,!0);if(!a.isValid())return[];s.push(a)}return s}(i,t);break;case"number":r=function jB(i){const e=Array.isArray(i)&&i||[0],r=[];let o,s;if(2===e.length||"string"==typeof e[0]&&e[0].indexOf("..")>0){const a=2===e.length?e:e[0].split("..");o=parseFloat(Array.isArray(a)?a[0]:""),s=parseFloat(Array.isArray(a)?a[1]:"")}else o=parseFloat(e[0]);return uo(o,!0)&&uo(s,!0)?r.push(o,s):uo(o,!0)&&r.push(o),r}(i);break;case"object":r=function QB(i){return(Array.isArray(i)&&i.length>0?i[0]:"")||""}(i);break;case"string":r=function GB(i){const e=Array.isArray(i)&&i||[""],r=[];let o,s;if(2===e.length||"string"==typeof e[0]&&e[0].indexOf("..")>0){const a=2===e.length?e:e[0].split("..");o=`${Array.isArray(a)?a[0]:""}`,s=`${Array.isArray(a)?a[1]:""}`}else{const a=Array.isArray(i)&&i.length>0?i[0]:"";o=null==a?"":`${a}`}return void 0!==o&&void 0!==s?r.push(o,s):void 0!==o&&r.push(o),r}(i)}return r}function JT(i){switch(i){case"boolean":return"boolean";case"date":case"dateIso":case"dateUtc":case"dateTime":case"dateTimeIso":case"dateTimeIsoAmPm":case"dateTimeIsoAM_PM":case"dateTimeShortIso":case"dateEuro":case"dateEuroShort":case"dateTimeShortEuro":case"dateTimeEuro":case"dateTimeEuroAmPm":case"dateTimeEuroAM_PM":case"dateTimeEuroShort":case"dateTimeEuroShortAmPm":case"dateTimeEuroShortAM_PM":case"dateUs":case"dateUsShort":case"dateTimeShortUs":case"dateTimeUs":case"dateTimeUsAmPm":case"dateTimeUsAM_PM":case"dateTimeUsShort":case"dateTimeUsShortAmPm":case"dateTimeUsShortAM_PM":return"date";case"integer":case"float":case"number":return"number";case"object":return"object";default:return"string"}}const ex_executeFilterConditionTest=(i,t)=>{if(function WB(i){switch(i&&i.toUpperCase()||""){case"IN":case"NIN":case"NOT_IN":case"IN_CONTAINS":case"NIN_CONTAINS":case"NOT_IN_CONTAINS":case"IN_COLLECTION":case"NOT_IN_COLLECTION":return!0;default:return!1}}(i.operator))return(i=>{const t=i.operator;let e;return e=!Array.isArray(i.cellValue)||"IN_COLLECTION"!==t&&"NOT_IN_COLLECTION"!==t?null==i.cellValue?"":`${i.cellValue}`:i.cellValue.length?i.cellValue.map(r=>`${r}`):[],Na(t||"IN",e,i.searchTerms||[])})(i);switch(JT(i.filterSearchType||i.fieldType)){case"boolean":return((i,t)=>vf(i.cellValue)===vf(t))(i,t);case"date":return function qB(i,t){var e;const o=$o(i&&(i.filterSearchType||i.fieldType)||"dateIso"),[s,a]=t,l=If(i.cellValue,o,!0);if(!s&&!a||!l.isValid())return!1;const u=o.toLowerCase().includes("h")?l.valueOf():l.clone().startOf("day").valueOf();if(s&&a){let p=null!==(e=i?.operator)&&void 0!==e?e:i.defaultFilterRangeOperator;p!==Xt.rangeInclusive&&p!==Xt.rangeExclusive&&(p=i.defaultFilterRangeOperator);const m=p===Xt.rangeInclusive,E=Na(m?">=":">",u,s.valueOf()),P=Na(m?"<=":"<",u,a.valueOf());return E&&P}const d=o.toLowerCase().includes("h")?s.valueOf():s.clone().startOf("day").valueOf();return Na(i.operator||"==",u,d)}(i,t||[]);case"number":return((i,t)=>{var e;const r=parseFloat(i.cellValue),[o,s]=t;if(void 0===o&&!i.operator)return!0;if(void 0!==o&&void 0!==s){let a=null!==(e=i?.operator)&&void 0!==e?e:i.defaultFilterRangeOperator;a!==Xt.rangeInclusive&&a!==Xt.rangeExclusive&&(a=i.defaultFilterRangeOperator);const l=a===Xt.rangeInclusive,u=Na(l?">=":">",r,+o),d=Na(l?"<=":"<",r,+s);return u&&d}return Na(i.operator||"==",r,+o)})(i,t||[]);case"object":return((i,t)=>{if(void 0===t&&!i.operator)return!0;switch((i.operator||"").toUpperCase()){case"!=":case"<>":case"NE":return!qT(i.cellValue,t,i.dataKey);default:return qT(i.cellValue,t,i.dataKey)}})(i,t);default:return((i,t)=>{var e;let[r,o]=t;if(void 0===r&&!i.operator)return!0;i.cellValue=null==i.cellValue?"":i.cellValue.toString();const s=i?.ignoreAccentOnStringFilterAndSort?Fu(i.cellValue,!0):i.cellValue.toLowerCase();if("string"==typeof r&&(r=i?.ignoreAccentOnStringFilterAndSort?Fu(r,!0):r.toLowerCase()),"string"==typeof o&&(o=i?.ignoreAccentOnStringFilterAndSort?Fu(o,!0):o.toLowerCase()),void 0!==r&&void 0!==o){let l=null!==(e=i?.operator)&&void 0!==e?e:i.defaultFilterRangeOperator;l!==Xt.rangeInclusive&&l!==Xt.rangeExclusive&&(l=i.defaultFilterRangeOperator);const u=l===Xt.rangeInclusive,d=d_(u?">=":">",s,r,i.searchInputLastChar),p=d_(u?"<=":"<",s,o,i.searchInputLastChar);return d&&p}return d_(i.operator,s,r,i.searchInputLastChar)})(i,t||[])}};class JB{constructor(t,e,r,o,s){this.filterFactory=t,this.pubSubService=e,this.sharedService=r,this.backendUtilities=o,this.rxjs=s,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filtersMetadata=[],this._columnFilters={},this._isTreePresetExecuted=!1,this._previousFilters=[],this._onSearchChange=new Slick.Event,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get isFilterFirstRender(){return this._isFilterFirstRender}get onSearchChange(){return this._onSearchChange}get _gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get _columnDefinitions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getColumns)||void 0===e?void 0:e.call(t))&&void 0!==r?r:[]}get _dataView(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}addRxJsResource(t){this.rxjs=t}init(t){this._grid=t,this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions&&this._grid.setSortColumns([{columnId:this._gridOptions.treeDataOptions.columnId,sortAsc:!0}])}dispose(){var t;this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(t=this.rxjs)||void 0===t?void 0:t.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete()),this.disposeColumnFilters(),this._onSearchChange=null,this._grid=null}disposeColumnFilters(){if(this.removeAllColumnFiltersProperties(),Array.isArray(this._filtersMetadata)){let t=this._filtersMetadata.pop();for(;t;)t?.destroy(),t=this._filtersMetadata.pop()}}bindBackendOnFilter(t){this._filtersMetadata=[],this._eventHandler.subscribe(t.onHeaderRowCellRendered,(e,r)=>{r.column.id===this._firstColumnIdRendered&&(this._isFilterFirstRender=!1),this.addFilterTemplateToHeaderRow(r,this._isFilterFirstRender),""===this._firstColumnIdRendered&&(this._firstColumnIdRendered=r.column.id)}),this.subscribeToOnHeaderRowCellRendered(t),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,this.onBackendFilterChange.bind(this))}bindLocalOnFilter(t){var e=this;this._filtersMetadata=[],this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid,dataView:this._dataView}),this._dataView.setFilter(this.customLocalFilter.bind(this)),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,function(){var r=Uo(function*(o,s){var a,l;const u=null!==(a=s?.clearFilterTriggered)&&void 0!==a&&a;u||(yield e.emitFilterChanged(In.local,!0)),!0===(null===(l=e._gridOptions)||void 0===l?void 0:l.enableTreeData)&&(e._tmpPreFilteredData=e.preFilterTreeData(e._dataView.getItems(),e._columnFilters)),null!==s.columnId&&e._dataView.refresh(),u||(yield e.emitFilterChanged(In.local)),e._previousFilters=e.extractBasicFilterDetails(e._columnFilters)});return function(o,s){return r.apply(this,arguments)}}()),this._eventHandler.subscribe(t.onHeaderRowCellRendered,(r,o)=>{this.addFilterTemplateToHeaderRow(o)}),this.subscribeToOnHeaderRowCellRendered(t)}clearFilterByColumnId(t,e){var r=this;return Uo(function*(){var o,s;yield r.pubSubService.publish("onBeforeFilterClear",{columnId:e},0);const a=null!==(s=null===(o=r._gridOptions)||void 0===o?void 0:o.backendServiceApi)&&void 0!==s&&s,l=a?In.remote:In.local,u=Object.keys(r._columnFilters);let d;Array.isArray(u)&&(d=u.find(m=>m===`${e}`));const p=r._filtersMetadata.find(m=>m.columnDef.id===e);return p?.clear&&p.clear(!0),a&&void 0!==d&&r.onBackendFilterChange(t,{grid:r._grid,columnFilters:r._columnFilters}),yield r.emitFilterChanged(l),!0})()}clearFilters(t=!0){var e=this;return Uo(function*(){var r,o,s,a,l;t&&(yield e.pubSubService.publish("onBeforeFilterClear",!0,0)),e._filtersMetadata.forEach(d=>{d?.clear&&d.clear(!1)}),e.removeAllColumnFiltersProperties(),Array.isArray(e._columnDefinitions)&&e._columnDefinitions.forEach(d=>{var p;null!==(p=d.filter)&&void 0!==p&&p.searchTerms&&delete d.filter.searchTerms}),e._dataView&&e._grid&&(e._dataView.refresh(),e._grid.invalidate());const u=null===(r=e._gridOptions)||void 0===r?void 0:r.backendServiceApi;if(u&&t){const d={clearFilterTriggered:!0,shouldTriggerQuery:t,grid:e._grid,columnFilters:e._columnFilters},m=u.service.processOnFilterChanged(void 0,d),E=null!==(a=null===(s=null===(o=e._gridOptions)||void 0===o?void 0:o.pagination)||void 0===s?void 0:s.totalItems)&&void 0!==a?a:0;null===(l=e.backendUtilities)||void 0===l||l.executeBackendCallback(u,m,d,new Date,E,{errorCallback:e.resetToPreviousSearchFilters.bind(e),successCallback:P=>e._previousFilters=e.extractBasicFilterDetails(P.columnFilters),emitActionChangedCallback:e.emitFilterChanged.bind(e)})}else e._previousFilters=e.extractBasicFilterDetails(e._columnFilters);t&&e.pubSubService.publish("onFilterCleared",!0)})()}customLocalFilter(t,e){var r,o,s,a,l,u;const d=e?.grid,p=null!==(o=null===(r=this._gridOptions)||void 0===r?void 0:r.enableTreeData)&&void 0!==o&&o,m=null!==(s=e?.columnFilters)&&void 0!==s?s:{};let E;if(p&&this._gridOptions&&this._gridOptions.treeDataOptions){E=this._gridOptions.treeDataOptions;const P=null!==(a=E.collapsedPropName)&&void 0!==a?a:zt.treeDataProperties.COLLAPSED_PROP,H=null!==(l=E.parentPropName)&&void 0!==l?l:zt.treeDataProperties.PARENT_PROP,U=null!==(u=this._gridOptions.datasetIdPropertyName)&&void 0!==u?u:"id";if(null!==t[H]){let X=this._dataView.getItemById(t[H]);for(;X;){if(X[P])return!1;X=this._dataView.getItemById(X[H])}}if(this._tmpPreFilteredData instanceof Set)return this._tmpPreFilteredData.has(t[U])}else if("object"==typeof m)for(const P of Object.keys(m)){const H=m[P],U=this.preProcessFilterConditionOnDataContext(t,H,d);if("boolean"==typeof U)return U;let X=H?.parsedSearchTerms;if(void 0===X&&(X=Rf(H.searchTerms,H.columnDef.type||"string"),void 0!==X&&(H.parsedSearchTerms=X)),!ex_executeFilterConditionTest(U,X))return!1}return!0}parseFormInputFilterConditions(t,e){var r,o,s;const a=sc(t)||[];let l=Array.isArray(a)&&1===a.length?a[0]:"";const u=e.columnDef,d=null!==(s=null!==(o=null===(r=u.filter)||void 0===r?void 0:r.type)&&void 0!==o?o:u.type)&&void 0!==s?s:"string";let p=null;"object"!==d&&(l=null==l?"":`${l}`,p=l.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])?([\*]?)$/));let m=p?.[1]||e.operator;const E=p?.[2]||"",P=p?.[3]||("*z"===m?"*":"");return"string"==typeof l&&(l=l.replace("'","''"),"*"===m||"*z"===m?m=Xt.endsWith:("a*"===m||"*"===P)&&(m=Xt.startsWith)),Array.isArray(p)&&p.length>=1&&Array.isArray(a)&&1===a.length&&(a[0]=E),{dataKey:u.dataKey,fieldType:d,searchTerms:a||[],operator:m,searchInputLastChar:P,filterSearchType:u.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preProcessFilterConditionOnDataContext(t,e,r){var o,s,a,l,u,d;const p=e.columnDef,m=e.columnId;let E=r.getColumnIndex(m);if(!p&&this.sharedService&&Array.isArray(this.sharedService.allColumns)&&(E=this.sharedService.allColumns.findIndex(te=>te.field===m)),!p)return!0;if(this._gridOptions.enableRowDetailView){const te=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";t[`${te}isPadding`]&&t[`${te}parent`]&&(t=t[`${te}parent`])}let P=(null===(o=p.filter)||void 0===o?void 0:o.queryField)||p.queryFieldFilter||p.queryField||p.field||"";"function"==typeof p.queryFieldNameGetterFn&&(P=p.queryFieldNameGetterFn(t));const H=null!==(l=null!==(a=null===(s=p.filter)||void 0===s?void 0:s.type)&&void 0!==a?a:p.type)&&void 0!==l?l:"string";let U=t[P];P?.indexOf(".")>=0&&(U=Jn(t,P));const X=e.operator,J=e.searchTerms||[];if(!J||Array.isArray(J)&&(0===J.length||1===J.length&&X===J[0]))return!0;if(J&&Array.isArray(J)&&"object"!==H)for(let te=0,ne=J.length;te<ne;te++)J[te]=(J[te]??"")+"";if(!0===(null===(u=p?.params)||void 0===u?void 0:u.useFormatterOuputToFilter)){const te=r.getData(),ne=this._gridOptions.datasetIdPropertyName||"id",De=te&&"function"==typeof te.getIdxById?te.getIdxById(t[ne]):0;U=hc(p&&"function"==typeof p.formatter?p.formatter(De||0,E,U,p,t,this._grid):"")}return"number"==typeof U&&(U=U.toString()),{dataKey:p.dataKey,fieldType:H,searchTerms:J,cellValue:U,operator:X,searchInputLastChar:e.searchInputLastChar,filterSearchType:p.filterSearchType,ignoreAccentOnStringFilterAndSort:null!==(d=this._gridOptions.ignoreAccentOnStringFilterAndSort)&&void 0!==d&&d,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preFilterTreeData(t,e){var r,o,s,a,l,u,d,p,m,E,P,H,U,X,J,te,ne,De,xe;const Ue=null===(r=this._gridOptions)||void 0===r?void 0:r.treeDataOptions,ot=null!==(o=Ue?.collapsedPropName)&&void 0!==o?o:zt.treeDataProperties.COLLAPSED_PROP,it=null!==(s=Ue?.parentPropName)&&void 0!==s?s:zt.treeDataProperties.PARENT_PROP,Wt=null!==(a=Ue?.hasChildrenPropName)&&void 0!==a?a:zt.treeDataProperties.HAS_CHILDREN_PROP,Jt=null!==(u=null===(l=this._gridOptions)||void 0===l?void 0:l.datasetIdPropertyName)&&void 0!==u?u:"id",Kt=null===(p=null===(d=this._gridOptions.presets)||void 0===d?void 0:d.treeData)||void 0===p?void 0:p.toggledItems,$i=null!==(E=null===(m=this._gridOptions.treeDataOptions)||void 0===m?void 0:m.initiallyCollapsed)&&void 0!==E&&E,cn=null===(P=this._gridOptions.treeDataOptions)||void 0===P?void 0:P.columnId,En=null===(H=this._gridOptions.treeDataOptions)||void 0===H?void 0:H.excludeChildrenWhenFilteringTree,Cn=!En&&!0===(null===(U=this._gridOptions.treeDataOptions)||void 0===U?void 0:U.autoApproveParentItemWhenTreeColumnIsValid),Fn={},Ss=new Set,Vr=new Map;if(Array.isArray(t)){for(const Sn of t)Fn[Sn[Jt]]=Sn,delete Fn[Sn[Jt]].__used;for(const Sn of Object.keys(e)){const Rn=e[Sn],ho=Rn?.searchTerms?sc(Rn.searchTerms):[],gr=this.parseFormInputFilterConditions(ho,Rn),Nn=Rn.columnDef,ss=null!==(te=null!==(J=null===(X=Nn?.filter)||void 0===X?void 0:X.type)&&void 0!==J?J:Nn?.type)&&void 0!==te?te:"string",Go=Rf(gr.searchTerms,ss);void 0!==Go&&(Rn.parsedSearchTerms=Go)}for(const Sn of t){const Rn=Sn[Wt];let ho=!0;for(const gr of Object.keys(e)){const Nn=e[gr],ss=this.preProcessFilterConditionOnDataContext(Sn,Nn,this._grid);if(ss){const Go=Nn?.parsedSearchTerms,Us="boolean"==typeof ss?ss:ex_executeFilterConditionTest(ss,Go);if(Us&&Cn&&Rn&&Nn.columnId===cn){Vr.set(Sn[Jt],!0);break}if(Us||!En&&!0===Vr.get(Sn[it])){if(Rn&&Nn.columnId===cn&&Vr.set(Sn[Jt],!0),Us||!En&&Nn.columnId===cn)continue}else Rn&&!0!==Vr.get(Sn[it])&&Nn.columnId!==cn&&Vr.set(Sn[Jt],!1)}ho=!1}if(ho){Ss.add(Sn[Jt]);let gr=null!==(ne=Fn[Sn[it]])&&void 0!==ne&&ne;const Nn=!$i;for(!this._isTreePresetExecuted&&Array.isArray(Kt)&&Kt.some(ss=>ss.itemId===gr.id&&ss.isCollapsed===Nn)&&(gr[ot]=Nn);gr;)null!==(De=gr.__used)&&void 0!==De||Ss.add(gr[Jt]),Fn[gr[Jt]].__used=!0,gr=null!==(xe=Fn[gr[it]])&&void 0!==xe&&xe}}}return this._isTreePresetExecuted=!0,Ss}getColumnFilters(){return this._columnFilters}getPreviousFilters(){return this._previousFilters}getFiltersMetadata(){return this._filtersMetadata}getCurrentLocalFilters(){var t,e;const r=[];if(this._columnFilters)for(const o of Object.keys(this._columnFilters)){const s=this._columnFilters[o],a={columnId:o||""},u=null===(e=null===(t=this.sharedService.allColumns.find(d=>d.id===a.columnId)?.filter)||void 0===t?void 0:t.emptySearchTermReturnAllValues)||void 0===e||e;s?.searchTerms&&(a.searchTerms=s.searchTerms),s.operator&&(a.operator=s.operator),Array.isArray(a.searchTerms)&&a.searchTerms.length>0&&(!u||""!==a.searchTerms[0])&&r.push(a)}return r}emitFilterChanged(t,e=!1){var r;const o=e?"onBeforeFilterChange":"onFilterChanged";if(t===In.remote&&(null===(r=this._gridOptions)||void 0===r?void 0:r.backendServiceApi)){let s=[];const a=this._gridOptions.backendServiceApi.service;return a?.getCurrentFilters&&(s=a.getCurrentFilters()),this.pubSubService.publish(o,s)}if(t===In.local)return this.pubSubService.publish(o,this.getCurrentLocalFilters())}onBackendFilterChange(t,e){var r=this;return Uo(function*(){var o,s,a,l;const u=e?.shouldTriggerQuery;if(u&&(yield r.emitFilterChanged(In.remote,!0)),!e||!e.grid)throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');const d=r._gridOptions.backendServiceApi;if(!d||!d.process||!d.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const p=new Date;if(d.preProcess&&d.preProcess(),u){const m=yield d.service.processOnFilterChanged(t,e),E=null!==(a=null===(s=null===(o=r._gridOptions)||void 0===o?void 0:o.pagination)||void 0===s?void 0:s.totalItems)&&void 0!==a?a:0;null===(l=r.backendUtilities)||void 0===l||l.executeBackendCallback(d,m,e,p,E,{errorCallback:r.resetToPreviousSearchFilters.bind(r),successCallback:P=>r._previousFilters=r.extractBasicFilterDetails(P.columnFilters),emitActionChangedCallback:r.emitFilterChanged.bind(r),httpCancelRequestSubject:r.httpCancelRequests$})}})()}populateColumnFilterSearchTermPresets(t){var e;return Array.isArray(t)&&(this._columnDefinitions.forEach(r=>{var o;null!==(o=r.filter)&&void 0!==o&&o.searchTerms&&delete r.filter.searchTerms;const s=t.find(a=>a.columnId===r.id);s&&Array.isArray(s?.searchTerms)&&(r.filter=r.filter||{},r.filter.operator=s.operator||r.filter.operator||"",r.filter.searchTerms=s.searchTerms)}),!(null===(e=this._gridOptions)||void 0===e)&&e.enableTreeData&&this.refreshTreeDataFilters(),this._previousFilters=this.extractBasicFilterDetails(this._columnFilters)),this._columnDefinitions}refreshTreeDataFilters(t){var e,r,o,s;const a=null!==(o=t??(null===(r=null===(e=this._dataView)||void 0===e?void 0:e.getItems)||void 0===r?void 0:r.call(e)))&&void 0!==o?o:[];this._dataView&&(null===(s=this._gridOptions)||void 0===s?void 0:s.enableTreeData)&&a.length>0?(this._tmpPreFilteredData=this.preFilterTreeData(a,this._columnFilters),this._dataView.refresh()):0===a.length&&Array.isArray(this.sharedService.hierarchicalDataset)&&this.sharedService.hierarchicalDataset.length>0&&setTimeout(()=>this.refreshTreeDataFilters())}disableFilterFunctionality(t=!0,e=!0){const o=!this._gridOptions.enableFiltering;o!==t&&(e&&t&&this.clearFilters(),this.disableAllFilteringCommands(t),this._grid.setOptions({enableFiltering:o},!1,!0),this._grid.setHeaderRowVisibility(o),this._gridOptions.enableFiltering=!t,this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(this.sharedService.columnDefinitions))}resetToPreviousSearchFilters(){this.updateFilters(this._previousFilters,!1,!1,!1)}toggleFilterFunctionality(t=!0){this.disableFilterFunctionality(this._gridOptions.enableFiltering,t)}toggleHeaderFilterRow(){var t,e;let r=null!==(e=null===(t=this._gridOptions)||void 0===t?void 0:t.showHeaderRow)&&void 0!==e&&e;r=!r,this._grid.setHeaderRowVisibility(r),!0===r&&this._grid.setColumns(this.sharedService.columnDefinitions)}setSortColumnIcons(t){this._grid&&Array.isArray(t)&&this._grid.setSortColumns(t)}updateFilters(t,e=!0,r=!0,o=!1){var s=this;return Uo(function*(){var a,l;if(!s._filtersMetadata||0===s._filtersMetadata.length||!s._gridOptions||!s._gridOptions.enableFiltering)throw new Error('[Slickgrid-Universal] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');if(Array.isArray(t)){s.clearFilters(!1),t.forEach(p=>{var m;const E=s._filtersMetadata.find(P=>p.columnId===P.columnDef.id);if(p&&E){const P=p.operator||E.defaultOperator;s.updateColumnFilters(p.searchTerms,E.columnDef,P),E.setValues(p.searchTerms||[],P),(o||(null===(m=s._gridOptions)||void 0===m?void 0:m.enableTreeData))&&s.callbackSearchEvent(void 0,{columnDef:E.columnDef,operator:P,searchTerms:p.searchTerms,shouldTriggerQuery:!0,forceOnSearchChangeEvent:!0})}});const u=null===(a=s._gridOptions)||void 0===a?void 0:a.backendServiceApi,d=u?In.remote:In.local;if(e&&(yield s.emitFilterChanged(d,!0)),s._dataView.refresh(),u){const p=u?.service;p?.updateFilters&&(p.updateFilters(t,!0),r&&(null===(l=s.backendUtilities)||void 0===l||l.refreshBackendDataset(s._gridOptions)))}e&&(yield s.emitFilterChanged(d))}return!0})()}updateSingleFilter(t,e=!0,r=!0){var o=this;return Uo(function*(){var s,a,l,u,d,p;const m=o.sharedService.allColumns.find(E=>E.id===t.columnId);if(m&&t.columnId){o._columnFilters={};const E=null===(a=null===(s=m.filter)||void 0===s?void 0:s.emptySearchTermReturnAllValues)||void 0===a||a;Array.isArray(t.searchTerms)&&(t.searchTerms.length>1||1===t.searchTerms.length&&(!E||""!==t.searchTerms[0]))&&(o._columnFilters[t.columnId]={columnId:t.columnId,operator:t.operator,searchTerms:t.searchTerms,columnDef:m,type:null!==(l=m.type)&&void 0!==l?l:"string"});const P=null===(u=o._gridOptions)||void 0===u?void 0:u.backendServiceApi,H=P?In.remote:In.local;if(e&&(yield o.emitFilterChanged(H,!0)),P){const U=P?.service;U?.updateFilters&&(U.updateFilters(o._columnFilters,!0),r&&(null===(d=o.backendUtilities)||void 0===d||d.refreshBackendDataset(o._gridOptions)))}else o._dataView.setFilterArgs({columnFilters:o._columnFilters,grid:o._grid}),!(null===(p=o._gridOptions)||void 0===p)&&p.enableTreeData&&o.refreshTreeDataFilters(),o._dataView.refresh();e&&(yield o.emitFilterChanged(H))}return!0})()}drawFilterTemplate(t,e){var r;let o;if("string"==typeof e){if(o=document.querySelector(e),null===o)return null}else o=e;const s="string"==typeof t?this.sharedService.allColumns.find(l=>l.id===t):t;if("selector"!==(null!==(r=s?.id)&&void 0!==r?r:"")&&s?.filterable){let l,u;const d=this.filterFactory.createFilter(s.filter);u=s&&s.filter&&s.filter.operator||d&&d.operator,this._columnFilters[s.id]?(l=this._columnFilters[s.id].searchTerms||void 0,u=this._columnFilters[s.id].operator||void 0):s.filter&&(l=s.filter.searchTerms||void 0,this.updateColumnFilters(l,s,u));const p={grid:this._grid,operator:u,searchTerms:l,columnDef:s,filterContainerElm:o,callback:this.callbackSearchEvent.bind(this)};return d&&(d.init(p),l&&d.setValues&&d.setValues(l,u)),d}return null}addFilterTemplateToHeaderRow(t,e=!0){var r;const o=t.column,s=null!==(r=o?.id)&&void 0!==r?r:"";if("selector"!==s&&o?.filterable){let a,l;const u=this.filterFactory.createFilter(o.filter);l=o&&o.filter&&o.filter.operator||u&&u.operator,this._columnFilters[o.id]?(a=this._columnFilters[o.id].searchTerms||void 0,l=this._columnFilters[o.id].operator||void 0):o.filter&&(a=o.filter.searchTerms||void 0,this.updateColumnFilters(a,o,l));const d={grid:this._grid,operator:l,searchTerms:a,columnDef:o,filterContainerElm:this._grid.getHeaderRowColumn(s),callback:this.callbackSearchEvent.bind(this)};if(u){u.init(d,e);const p=this._filtersMetadata.findIndex(m=>u.columnDef.id===m.columnDef.id);-1===p?this._filtersMetadata.push(u):this._filtersMetadata[p]=u,a&&u.setValues&&u.setValues(a,l)}}}callbackSearchEvent(t,e){var r,o,s,a,l,u;if(e){const d=t?.target?t.target.value:void 0,p=e.searchTerms&&Array.isArray(e.searchTerms)?e.searchTerms:d?[d]:void 0,m=e.columnDef||null,E=null!==(r=m?.id)&&void 0!==r?r:"",P=null!==(a=null!==(s=null===(o=m?.filter)||void 0===o?void 0:o.type)&&void 0!==s?s:m?.type)&&void 0!==a?a:"string",H=e.operator||void 0,U=p&&Array.isArray(p),X=U&&p&&p.length,J={...this._columnFilters},te=null===(u=null===(l=m.filter)||void 0===l?void 0:l.emptySearchTermReturnAllValues)||void 0===u||u;let ne;if(m&&E)if(!U||0===X||1===X&&Array.isArray(p)&&te&&""===p[0])delete this._columnFilters[E];else{const ot=`${E}`,it={columnId:ot,columnDef:m,parsedSearchTerms:[],type:P},Wt=this.parseFormInputFilterConditions(p,it);it.operator=H||Wt.operator||jv(P),ne=Rf(Wt.searchTerms,P),void 0!==ne&&(it.parsedSearchTerms=ne),it.searchTerms=Wt.searchTerms||[],this._columnFilters[ot]=it}const De=t&&"function"!=typeof t.isPropagationStopped?$.extend({},new Slick.EventData,t):t,xe=t?.key,Ue=t?.keyCode;if(this._onSearchChange&&(e.forceOnSearchChangeEvent||"Enter"===xe||Ue===Ti.ENTER||!Bs(J,this._columnFilters))){const ot={clearFilterTriggered:e.clearFilterTriggered,shouldTriggerQuery:e.shouldTriggerQuery,columnId:E,columnDef:m,columnFilters:this._columnFilters,operator:H||jv(P),searchTerms:p,parsedSearchTerms:ne,grid:this._grid};!1===this.pubSubService.publish("onBeforeSearchChange",ot)?this._gridOptions.resetFilterSearchValueAfterOnBeforeCancellation&&this.resetToPreviousSearchFilters():this._onSearchChange.notify(ot,De)}}}disableAllFilteringCommands(t=!0){var e,r;const o=this._grid.getColumns();o.forEach(a=>{var l;null!==(l=a?.header)&&void 0!==l&&l.menu&&a.header.menu.items.forEach(u=>{u&&"string"!=typeof u&&"clear-filter"===u.command&&(u.hidden=t)})});const s=null===(r=null===(e=this._gridOptions)||void 0===e?void 0:e.gridMenu)||void 0===r?void 0:r.commandItems;return s&&s.forEach(a=>{if(a&&"string"!=typeof a){const l=a.command;("clear-filter"===l||"toggle-filter"===l)&&(a.hidden=t)}}),o}extractBasicFilterDetails(t){const e=[];if(t&&"object"==typeof t)for(const r of Object.keys(t)){const{operator:o,searchTerms:s}=t[`${r}`];e.push({columnId:r,operator:o,searchTerms:s})}return e}removeAllColumnFiltersProperties(){if("object"==typeof this._columnFilters)for(const t in this._columnFilters)t&&this._columnFilters[t]&&delete this._columnFilters[t]}subscribeToOnHeaderRowCellRendered(t){this._eventHandler.subscribe(t.onBeforeHeaderRowCellDestroy,(e,r)=>{var o;const s=this._filtersMetadata.find(a=>a.columnDef.id===r.column.id);null===(o=s?.destroy)||void 0===o||o.call(s)})}updateColumnFilters(t,e,r){var o,s,a;const l=null!==(a=null!==(s=null===(o=e.filter)||void 0===o?void 0:o.type)&&void 0!==s?s:e.type)&&void 0!==a?a:"string",u=Rf(t,l);t&&e&&(this._columnFilters[e.id]={columnId:e.id,columnDef:e,searchTerms:t,operator:r,parsedSearchTerms:u,type:l})}}let tx;const Mf={skipError:!1,triggerEvent:!0},pc={highlightRow:!0,position:"top",resortGrid:!1,selectRow:!1,skipError:!1,triggerEvent:!0},c_={highlightRow:!1,selectRow:!1,scrollRowIntoView:!1,skipError:!1,triggerEvent:!0},ix={autoResizeColumns:!0,triggerEvent:!0,hideFromColumnPicker:!1,hideFromGridMenu:!1};class eU{constructor(t,e,r,o,s,a,l){this.gridStateService=t,this.filterService=e,this.pubSubService=r,this.paginationService=o,this.sharedService=s,this.sortService=a,this.treeDataService=l}get _dataView(){var t;return(null===(t=this._grid)||void 0===t?void 0:t.getData)&&this._grid.getData()}get _gridOptions(){var t;return null!==(t=this._grid)&&void 0!==t&&t.getOptions?this._grid.getOptions():{}}dispose(){var t;null===(t=this._rowSelectionPlugin)||void 0===t||t.dispose()}init(t){this._grid=t}clearAllFiltersAndSorts(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()}clearPinning(){const t=[...this.sharedService.visibleColumns];this.sharedService.slickGrid.setOptions({frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1}),Array.isArray(t)&&this.sharedService.slickGrid.setColumns(t)}setPinning(t,e=!0,r=!1,o=!0){wT(t)?this.clearPinning():(this.sharedService.slickGrid.setOptions(t,r,o),this.sharedService.gridOptions={...this.sharedService.gridOptions,...t}),e&&this.sharedService.slickGrid.autosizeColumns()}getAllColumnDefinitions(){return this.sharedService.allColumns}getVisibleColumnDefinitions(){return this.sharedService.visibleColumns}getColumnFromEventArguments(t){if(!(t&&t.grid&&t.grid.getColumns&&t.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:t.row,cell:t.cell,columnDef:t.grid.getColumns()[t.cell],dataContext:t.grid.getDataItem(t.row),dataView:this._dataView,grid:this._grid}}getDataItemByRowNumber(t){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object or it\'s "getDataItem" method');return this._grid.getDataItem(t)}getItemRowMetadataToHighlight(t){return e=>{const r=this._dataView.getItem(e);let o={cssClasses:""};return"function"==typeof t&&(o=t(e)),o||(o={cssClasses:""}),r&&r._dirty&&(o.cssClasses=(o&&o.cssClasses||"")+" dirty"),r&&r.rowClass&&o&&(o.cssClasses+=` ${r.rowClass}`,o.cssClasses+=` row${e}`),o}}getDataItemByRowIndex(t){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(t)}getDataItemByRowIndexes(t){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');const e=[];return Array.isArray(t)&&t.forEach(r=>{e.push(this._grid.getDataItem(r))}),e}getSelectedRows(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()}getSelectedRowsDataItem(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');const t=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(t)}hideColumnById(t,e){if(e={...ix,...e},this._grid&&this._grid.getColumns&&this._grid.setColumns){const r=this._grid.getColumns(),o=r.findIndex(s=>s.id===t);if(o>=0){const s=qv(r,o);this.sharedService.visibleColumns=s,this._grid.setColumns(s);const a=this.sharedService.allColumns.findIndex(l=>l.id===t);return a&&(e?.hideFromColumnPicker&&(this.sharedService.allColumns[a].excludeFromColumnPicker=!0),e?.hideFromGridMenu&&(this.sharedService.allColumns[a].excludeFromGridMenu=!0)),e?.autoResizeColumns&&this._grid.autosizeColumns(),e?.triggerEvent&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:s}),o}}return-1}hideColumnByIds(t,e){if(e={...ix,...e},Array.isArray(t)){for(const r of t)this.hideColumnById(r,{...e,triggerEvent:!1,autoResizeColumns:!1});e?.autoResizeColumns&&this._grid.autosizeColumns(),e?.triggerEvent&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:this.sharedService.visibleColumns})}}highlightRow(t,e=1500,r=300){this._grid.getSelectionModel()||(this._rowSelectionPlugin=new Tf(this._gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionPlugin)),Array.isArray(t)?t.forEach(o=>this.highlightRowByMetadata(o,e,r)):this.highlightRowByMetadata(t,e,r)}highlightRowByMetadata(t,e=1500,r=300){this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);const o=this._dataView.getItem(t),s=this._gridOptions.datasetIdPropertyName||"id";void 0!==o?.[s]&&(o.rowClass="highlight",this._dataView.updateItem(o[s],o),this.renderGrid(),clearTimeout(tx),tx=setTimeout(()=>{o.rowClass="highlight-end",this._dataView.updateItem(o[s],o),this.renderGrid()},r),setTimeout(()=>{void 0!==o?.[s]&&(delete o.rowClass,void 0!==this._dataView.getIdxById(o[s])&&(this._dataView.updateItem(o[s],o),this.renderGrid()))},e+r))}setSelectedRow(t){var e;null!==(e=this._grid)&&void 0!==e&&e.setSelectedRows&&this._grid.setSelectedRows([t])}setSelectedRows(t){var e;null!==(e=this._grid)&&void 0!==e&&e.setSelectedRows&&this._grid.setSelectedRows(t)}renderGrid(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())}resetGrid(t){var e;if(this._grid){const r=this.sharedService.allColumns||[];Array.isArray(r)&&r.length>0&&(this._grid.setColumns(r),!(null===(e=this._gridOptions)||void 0===e)&&e.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(t))}this.clearPinning(),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()}addItem(t,e){var r,o,s,a;const l=null!==(r=(e={...pc,...e})?.position)&&void 0!==r?r:"top";if(!(e?.skipError||this._grid&&this._gridOptions&&this._dataView))throw new Error("We could not find SlickGrid Grid, DataView objects");const u=this._gridOptions.datasetIdPropertyName||"id";if(!(e?.skipError||t&&u in t))throw new Error(`Adding an item requires the item to include an "${u}" property`);"bottom"===l||(null===(o=this._gridOptions)||void 0===o?void 0:o.enableTreeData)?this._dataView.addItem(t):this._dataView.insertItem(0,t);let d=0;const p=null!==(s=t?.[u])&&void 0!==s?s:"";return null!==(a=this._gridOptions)&&void 0!==a&&a.enableTreeData?(this.invalidateHierarchicalDataset(),d=this._dataView.getRowById(p),this._grid.scrollRowIntoView(d??0,!1)):e.resortGrid?(this._dataView.reSort(),d=this._dataView.getRowById(p)):(d="bottom"===l?this._dataView.getRowById(p):0,this._grid.scrollRowIntoView(d??0)),e.highlightRow&&void 0!==d&&this.highlightRow(d),void 0!==d&&e.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(d),e.triggerEvent&&this.pubSubService.publish("onItemAdded",t),!(this._gridOptions&&this._gridOptions.backendServiceApi)&&this._gridOptions.enablePagination&&("top"===l?this.paginationService.goToFirstPage():this.paginationService.goToLastPage()),d}addItems(t,e){var r,o,s,a,l,u;e={...pc,...e};const d=this._gridOptions.datasetIdPropertyName||"id",p=null!==(r=e?.position)&&void 0!==r?r:"top",m=[];if(!Array.isArray(t))return[this.addItem(t,e)||0];if(this._dataView.beginUpdate(!0),"bottom"===p||(null===(o=this._gridOptions)||void 0===o?void 0:o.enableTreeData)?this._dataView.addItems(t):this._dataView.insertItems(0,t),this._dataView.endUpdate(),null!==(s=this._gridOptions)&&void 0!==s&&s.enableTreeData){this.invalidateHierarchicalDataset();const E=null!==(l=null===(a=t[0])||void 0===a?void 0:a[d])&&void 0!==l?l:"",P=this._dataView.getRowById(E);this._grid.scrollRowIntoView(P??0,!1)}else e.resortGrid&&this._dataView.reSort();return"bottom"!==p||null!==(u=this._gridOptions)&&void 0!==u&&u.enableTreeData?this._grid.navigateTop():this._grid.navigateBottom(),t.forEach(E=>m.push(this._dataView.getRowById(E[d]))),e.highlightRow&&this.highlightRow(m),e.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(m),e.triggerEvent&&this.pubSubService.publish("onItemAdded",t),m}deleteItem(t,e){e={...Mf,...e};const r=this._gridOptions.datasetIdPropertyName||"id";if(!(e?.skipError||t&&r in t))throw new Error(`Deleting an item requires the item to include an "${r}" property`);return this.deleteItemById(t[r],e)}deleteItems(t,e){e={...Mf,...e};const r=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(t))return this.deleteItem(t,e),[t[r]];this._dataView.beginUpdate(!0);const o=[];return t.forEach(s=>{void 0!==s?.[r]&&o.push(s[r])}),this._dataView.deleteItems(o),this._dataView.endUpdate(),e.triggerEvent&&this.pubSubService.publish("onItemDeleted",t),o}deleteItemById(t,e){if(!(e={...Mf,...e})?.skipError&&null==t)throw new Error('Cannot delete a row without a valid "id"');return!(this.gridStateService&&this.gridStateService.needToPreserveRowSelection())&&this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows([]),this._dataView.deleteItem(t),e.triggerEvent&&this.pubSubService.publish("onItemDeleted",t),t}deleteItemByIds(t,e){if(e={...Mf,...e},Array.isArray(t)){this._dataView.beginUpdate(!0);for(let r=0;r<t.length;r++)null!==t[r]&&this.deleteItemById(t[r],{triggerEvent:!1});return this._dataView.endUpdate(),e.triggerEvent&&this.pubSubService.publish("onItemDeleted",t),t}return[]}updateItem(t,e){e={...c_,...e};const r=this._gridOptions.datasetIdPropertyName||"id",o=t&&r in t?t[r]:void 0;if(!e?.skipError&&void 0===o)throw new Error(`Calling Update of an item requires the item to include an "${r}" property`);return this.updateItemById(o,t,e)}updateItems(t,e){var r;e={...c_,...e};const o=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(t))return[this.updateItem(t,e)];this._dataView.beginUpdate(!0);const s=[],a=[];return t.forEach(l=>{const u=l&&o in l?l[o]:void 0;if(a.push(u),void 0!==this._dataView.getIdxById(u)){const d=this._dataView.getRowById(u);void 0!==d&&(s.push(d),this._grid.updateRow(d))}}),this._dataView.updateItems(a,t),this._dataView.endUpdate(),!(null===(r=this._gridOptions)||void 0===r)&&r.enableTreeData&&this.invalidateHierarchicalDataset(),e.highlightRow&&this.highlightRow(s),e.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(s),e.triggerEvent&&this.pubSubService.publish("onItemUpdated",t),s}updateItemById(t,e,r){var o;if(!(r={...c_,...r})?.skipError&&void 0===t)throw new Error('Cannot update a row without a valid "id"');const s=this._dataView.getRowById(t);if(!r?.skipError&&!e&&!this._gridOptions.enablePagination)throw new Error(`The item to update in the grid was not found with id: ${t}`);return void 0!==this._dataView.getIdxById(t)&&(this._dataView.updateItem(t,e),void 0!==s&&this._grid.updateRow(s),!(null===(o=this._gridOptions)||void 0===o)&&o.enableTreeData&&this.invalidateHierarchicalDataset(),r.scrollRowIntoView&&void 0!==s&&this._grid.scrollRowIntoView(s),r.highlightRow&&void 0!==s&&this.highlightRow(s),void 0!==s&&r.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(s),r.triggerEvent&&this.pubSubService.publish("onItemUpdated",e)),s}upsertItem(t,e){e={...pc,...e};const r=this._gridOptions.datasetIdPropertyName||"id",o=t&&r in t?t[r]:void 0;if(!e?.skipError&&void 0===o)throw new Error(`Calling Upsert of an item requires the item to include an "${r}" property`);return this.upsertItemById(o,t,e)}upsertItems(t,e){if(e={...pc,...e},!Array.isArray(t))return[this.upsertItem(t,e)];this._dataView.beginUpdate(!0);const r=[];t.forEach(s=>{r.push(this.upsertItem(s,{...e,highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1}))}),this._dataView.endUpdate();const o=r.map(s=>void 0!==s.added?s.added:s.updated);if(e.highlightRow&&this.highlightRow(o),e.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(o),e.triggerEvent){this.pubSubService.publish("onItemUpserted",t);const s=r.filter(l=>void 0!==l.added);Array.isArray(s)&&s.length>0&&this.pubSubService.publish("onItemAdded",s);const a=r.filter(l=>void 0!==l.updated);Array.isArray(a)&&a.length>0&&this.pubSubService.publish("onItemUpdated",a)}return r}upsertItemById(t,e,r){let s,a,o=!1;if(!(r={...pc,...r})?.skipError&&void 0===t&&!this.hasRowSelectionEnabled())throw new Error('Calling Upsert of an item requires the item to include a valid and unique "id" property');return void 0===this._dataView.getRowById(t)?(s=this.addItem(e,r),o=!0):(a=this.updateItem(e,{highlightRow:r.highlightRow,selectRow:r.selectRow,triggerEvent:r.triggerEvent}),o=!1),r.triggerEvent&&(this.pubSubService.publish("onItemUpserted",e),this.pubSubService.publish(o?"onItemAdded":"onItemUpdated",e)),{added:s,updated:a}}invalidateHierarchicalDataset(t){var e;if((null===(e=this._gridOptions)||void 0===e?void 0:e.enableTreeData)&&this.treeDataService){const r=t??this._dataView.getItems(),o=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(r||[],this.sharedService.allColumns,this._gridOptions);this.sharedService.hierarchicalDataset=o.hierarchical,this.filterService.refreshTreeDataFilters(t),this._dataView.setItems(o.flat)}}hasRowSelectionEnabled(){const t=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&t}}class tU{constructor(){this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}dispose(){this._eventHandler.unsubscribeAll()}bindOnBeforeEditCell(t){const e=t?.getData&&t.getData();this._eventHandler.subscribe(t.onBeforeEditCell,(r,o)=>{if(!(r&&o&&t&&void 0!==o.cell&&t.getColumns&&t.getDataItem))return;const s=t.getColumns()[o.cell];if("function"==typeof s.onBeforeEditCell){const a={row:o.row,cell:o.cell,dataView:e,grid:t,columnDef:s,dataContext:t.getDataItem(o.row)};s.onBeforeEditCell(r,a)}})}bindOnCellChange(t){const e=t?.getData&&t.getData();this._eventHandler.subscribe(t.onCellChange,(r,o)=>{if(!(r&&o&&t&&void 0!==o.cell&&t.getColumns&&t.getDataItem))return;const s=t.getColumns()[o.cell];if("function"==typeof s.onCellChange){const a={row:o.row,cell:o.cell,dataView:e,grid:t,columnDef:s,dataContext:t.getDataItem(o.row)};s.onCellChange(r,a)}})}bindOnClick(t){const e=t?.getData&&t.getData();this._eventHandler.subscribe(t.onClick,(r,o)=>{if(!(r&&o&&t&&void 0!==o.cell&&t.getColumns&&t.getDataItem))return;const s=t&&t.getColumns&&t.getColumns()[o.cell],a=t&&t.getOptions&&t.getOptions()||{};if(a.enableCellNavigation&&(!a.editable||a.editable&&a.autoCommitEdit)&&t.setActiveCell(o.row,o.cell,!1,!1,!0),"function"==typeof s.onCellClick){const l={row:o.row,cell:o.cell,dataView:e,grid:t,columnDef:s,dataContext:t.getDataItem(o.row)};s.onCellClick(r,l)}})}}class iU{constructor(t,e,r,o,s,a){this.extensionService=t,this.filterService=e,this.pubSubService=r,this.sharedService=o,this.sortService=s,this.treeDataService=a,this._eventHandler=new Slick.EventHandler,this._columns=[],this._subscriptions=[],this._selectedRowDataContextIds=[],this._selectedFilteredRowDataContextIds=[],this._wasRecheckedAfterPageChange=!0}get _dataView(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get _gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get datasetIdPropName(){return this._gridOptions.datasetIdPropertyName||"id"}get selectedRowDataContextIds(){return this._selectedRowDataContextIds}set selectedRowDataContextIds(t){this._selectedRowDataContextIds=t,this._selectedFilteredRowDataContextIds=t}init(t){this._grid=t,this.subscribeToAllGridChanges(t)}dispose(){this._columns=[],this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}changeColumnsArrangement(t,e=!0,r=!1){var o,s,a,l,u,d,p,m,E;if(Array.isArray(t)&&t.length>0){const P=this.getAssociatedGridColumns(this._grid,t);if(P&&Array.isArray(P)&&P.length>0){if(Array.isArray(this.sharedService.allColumns)){const H=[];if(this._gridOptions.enableCheckboxSelector){const U=null!==(a=null===(s=null===(o=this._gridOptions)||void 0===o?void 0:o.checkboxSelector)||void 0===s?void 0:s.columnIndexPosition)&&void 0!==a?a:0;H.push({columnId:"_checkbox_selector",columnIndexPosition:U})}if(this._gridOptions.enableRowDetailView){const U=null!==(d=null===(u=null===(l=this._gridOptions)||void 0===l?void 0:l.rowDetailView)||void 0===u?void 0:u.columnIndexPosition)&&void 0!==d?d:0;H.push({columnId:"_detail_selector",columnIndexPosition:U})}if(this._gridOptions.enableRowMoveManager){const U=null!==(E=null===(m=null===(p=this._gridOptions)||void 0===p?void 0:p.rowMoveManager)||void 0===m?void 0:m.columnIndexPosition)&&void 0!==E?E:0;H.push({columnId:"_move",columnIndexPosition:U})}this.addColumnDynamicWhenFeatureEnabled(H,this.sharedService.allColumns,P)}P.forEach(H=>H.originalWidth=H.width||H.originalWidth),this._grid.setColumns(P),this.sharedService.visibleColumns=P,e?this._grid.autosizeColumns():(r||this._gridOptions.enableAutoResizeColumnsByCellContent&&!this._gridOptions.autosizeColumnsByCellContentOnFirstLoad)&&this.pubSubService.publish("onFullResizeByContentRequested",{caller:"GridStateService"})}}}getCurrentGridState(t){var e;const{frozenColumn:r,frozenRow:o,frozenBottom:s}=this.sharedService.gridOptions,a={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters(),pinning:{frozenColumn:r,frozenRow:o,frozenBottom:s}},l=this.getCurrentPagination();if(l&&(a.pagination=l),this.hasRowSelectionEnabled()){const u=this.getCurrentRowSelections(t?.requestRefreshRowFilteredRow);u&&(a.rowSelection=u)}if(null!==(e=this._gridOptions)&&void 0!==e&&e.enableTreeData){const u=this.getCurrentTreeDataToggleState();u&&(a.treeData=u)}return a}getColumns(){return this._columns}getAssociatedCurrentColumns(t){const e=[];return t&&Array.isArray(t)&&t.forEach(r=>{r?.id&&e.push({columnId:r.id,cssClass:r.cssClass||"",headerCssClass:r.headerCssClass||"",width:r.width||0})}),e}getAssociatedGridColumns(t,e){const r=[],o=this.sharedService.allColumns||t.getColumns();return e&&Array.isArray(e)&&e.forEach(s=>{const a=o.find(l=>l.id===s.columnId);a?.id&&r.push({...a,cssClass:s.cssClass,headerCssClass:s.headerCssClass,width:s.width})}),this._columns=r,r}getCurrentColumns(){return this.getAssociatedCurrentColumns(this._grid.getColumns()||[])}getCurrentFilters(){var t,e;if(null!==(t=this._gridOptions)&&void 0!==t&&t.backendServiceApi){const r=this._gridOptions.backendServiceApi.service;if(r?.getCurrentFilters)return r.getCurrentFilters()}else if(null!==(e=this.filterService)&&void 0!==e&&e.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null}getCurrentPagination(){var t;if(null!==(t=this._gridOptions)&&void 0!==t&&t.enablePagination){if(!this._gridOptions.backendServiceApi)return this.sharedService.currentPagination;{const e=this._gridOptions.backendServiceApi.service;if(e?.getCurrentPagination)return e.getCurrentPagination()}}return null}getCurrentRowSelections(t=!0){if(this._grid&&this._gridOptions&&this._dataView&&this.hasRowSelectionEnabled()){let e=[];const r=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),o=this._selectedRowDataContextIds;return!0===t&&(e=this.refreshFilteredRowSelections()),e=this._selectedFilteredRowDataContextIds,{gridRowIndexes:r,dataContextIds:o,filteredDataContextIds:e}}return null}getCurrentSorters(){var t,e;if(null!==(t=this._gridOptions)&&void 0!==t&&t.backendServiceApi){const r=this._gridOptions.backendServiceApi.service;if(r?.getCurrentSorters)return r.getCurrentSorters()}else if(null!==(e=this.sortService)&&void 0!==e&&e.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null}getCurrentTreeDataToggleState(){var t;return(null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData)&&this.treeDataService?this.treeDataService.getCurrentToggleState():null}needToPreserveRowSelection(){var t;let e=!1;if((null===(t=this._gridOptions)||void 0===t?void 0:t.dataView)&&this._gridOptions.dataView.hasOwnProperty("syncGridSelection")){const r=this._gridOptions.dataView.syncGridSelection;"boolean"==typeof r?e=this._gridOptions.dataView.syncGridSelection:"object"==typeof r&&(e=r.preserveHidden),e&&this._gridOptions.backendServiceApi&&this._gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(e=this._gridOptions.dataView.syncGridSelectionWithBackendService)}return e}resetColumns(t){const r=this.getAssociatedCurrentColumns(t||this._columns);this.pubSubService.publish("onGridStateChanged",{change:{newValues:r,type:Kr.columns},gridState:this.getCurrentGridState()})}resetToOriginalColumns(t=!0){this._grid.setColumns(this.sharedService.allColumns),this.sharedService.visibleColumns=this.sharedService.allColumns,t&&this._grid.autosizeColumns()}resetRowSelectionWhenRequired(){var t,e;this.needToPreserveRowSelection()||!this._gridOptions.enableRowSelection&&!this._gridOptions.enableCheckboxSelector||(null===(e=null===(t=this.extensionService)||void 0===t?void 0:t.getExtensionByName)||void 0===e?void 0:e.call(t,vi.rowSelection))?.instance&&this._grid.setSelectedRows([])}subscribeToAllGridChanges(t){this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:Kr.filter},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!this.hasRowSelectionEnabled()})}),this.hasRowSelectionEnabled()&&this.reEvaluateRowSelectionAfterFilterChange()})),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:Kr.filter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:Kr.sorter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:Kr.sorter},gridState:this.getCurrentGridState()})})),this.bindExtensionAddonEventToGridStateChange(vi.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(vi.gridMenu,"onColumnsChanged"),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsReordered",t),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsResized",t),this.bindSlickGridOnSetOptionsEventToGridStateChange(t),(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this.bindSlickGridRowSelectionToGridStateChange(),this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuHideColumns",e=>{const r=this.getAssociatedCurrentColumns(e);this.pubSubService.publish("onGridStateChanged",{change:{newValues:r,type:Kr.columns},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeItemToggled",e=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:Kr.treeData},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeFullToggleEnd",e=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:Kr.treeData},gridState:this.getCurrentGridState()})}))}addColumnDynamicWhenFeatureEnabled(t,e,r){t.sort((o,s)=>o.columnIndexPosition-s.columnIndexPosition),t.forEach(o=>{const s=e.findIndex(l=>l.id===o.columnId),a=r.findIndex(l=>l.id===o.columnId);if(s>=0&&-1===a){const l=e[s];0===s?r.unshift(l):r.splice(s,0,l)}})}bindExtensionAddonEventToGridStateChange(t,e){var r,o,s;const l=null===(s=(null===(o=null===(r=this.extensionService)||void 0===r?void 0:r.getExtensionByName)||void 0===o?void 0:o.call(r,t))?.instance)||void 0===s?void 0:s[e];l&&"function"==typeof l.subscribe&&this._eventHandler.subscribe(l,(u,d)=>{const p=d?.columns,m=this.getAssociatedCurrentColumns(p);this.pubSubService.publish("onGridStateChanged",{change:{newValues:m,type:Kr.columns},gridState:this.getCurrentGridState()})})}bindSlickGridColumnChangeEventToGridStateChange(t,e){const r=e?.[t];r&&"function"==typeof r.subscribe&&this._eventHandler.subscribe(r,()=>{const o=e.getColumns(),s=this.getAssociatedCurrentColumns(o);this.pubSubService.publish("onGridStateChanged",{change:{newValues:s,type:Kr.columns},gridState:this.getCurrentGridState()})})}bindSlickGridOnSetOptionsEventToGridStateChange(t){this._eventHandler.subscribe(t.onSetOptions,(r,o)=>{const{frozenBottom:s,frozenColumn:a,frozenRow:l}=o.optionsBefore,{frozenBottom:u,frozenColumn:d,frozenRow:p}=o.optionsAfter;if(s!==u||a!==d||l!==p){const m={frozenBottom:u,frozenColumn:d,frozenRow:p},E=this.getCurrentGridState();this.pubSubService.publish("onGridStateChanged",{change:{newValues:m,type:Kr.pinning},gridState:E})}})}bindSlickGridRowSelectionToGridStateChange(){this._grid&&this._gridOptions&&this._dataView&&(this._eventHandler.subscribe(this._dataView.onBeforePagingInfoChanged,()=>{this._wasRecheckedAfterPageChange=!1}),this._eventHandler.subscribe(this._dataView.onPagingInfoChanged,()=>{setTimeout(()=>{const t=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]);Bs(t,this._grid.getSelectedRows())||this._grid.setSelectedRows(t)})}),this._eventHandler.subscribe(this._grid.onSelectedRowsChanged,(t,e)=>{if(Array.isArray(e.rows)&&Array.isArray(e.previousSelectedRows)){const r=e.rows,o=e.previousSelectedRows,s=r.filter(m=>o.indexOf(m)<0),a=o.filter(m=>r.indexOf(m)<0);this._wasRecheckedAfterPageChange&&a.length>0&&(this._dataView.mapRowsToIds(a)||[]).forEach(E=>{Array.isArray(this._selectedRowDataContextIds)&&this._selectedRowDataContextIds.splice(this._selectedRowDataContextIds.indexOf(E),1)}),s.length>0&&(this._dataView.mapRowsToIds(s)||[]).forEach(E=>{-1===this._selectedRowDataContextIds.indexOf(E)&&this._selectedRowDataContextIds.push(E)}),this._wasRecheckedAfterPageChange=!0;const l=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]);!Bs(l,this._grid.getSelectedRows())&&this._gridOptions.enablePagination&&this._grid.setSelectedRows(l);const d=this.refreshFilteredRowSelections(),p={gridRowIndexes:this._grid.getSelectedRows(),dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:d};this.pubSubService.publish("onGridStateChanged",{change:{newValues:p,type:Kr.rowSelection},gridState:this.getCurrentGridState()})}}))}hasRowSelectionEnabled(){const t=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&t}reEvaluateRowSelectionAfterFilterChange(){const t=this._grid.getSelectedRows(),e=(this._selectedFilteredRowDataContextIds||[]).slice(),r=this.refreshFilteredRowSelections();Bs(this._selectedFilteredRowDataContextIds,e)||this.pubSubService.publish("onGridStateChanged",{change:{newValues:{gridRowIndexes:t,dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:r},type:Kr.rowSelection},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!1})})}refreshFilteredRowSelections(){let t=[];const e=this._dataView.getFilteredItems()||[];return Array.isArray(this._selectedRowDataContextIds)&&(t=[...this._selectedRowDataContextIds].filter(o=>e.findIndex(s=>s[this.datasetIdPropName]===o)>-1),this._selectedFilteredRowDataContextIds=t),t}}class nU{constructor(t,e){this.extensionUtility=t,this.pubSubService=e,this._subscriptions=[],this._eventHandler=new Slick.EventHandler}get _dataView(){var t;return(null===(t=this._grid)||void 0===t?void 0:t.getData)&&this._grid.getData()}get eventHandler(){return this._eventHandler}get _gridOptions(){var t;return null!==(t=this._grid)&&void 0!==t&&t.getOptions?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}init(t){if(this._grid=t,t&&this._gridOptions&&this._gridOptions.createPreHeaderPanel){this._gridOptions.enableTranslate&&this.translateGroupingAndColSpan(),this._eventHandler.subscribe(t.onSort,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(t.onRendered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(t.onAutosizeColumns,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(t.onColumnsResized,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(t.onColumnsReordered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(this._dataView.onRowCountChanged,()=>this.delayRenderPreHeaderRowGroupingTitles(0)),this._subscriptions.push(this.pubSubService.subscribe("onColumnPickerColumnsChanged",()=>this.renderPreHeaderRowGroupingTitles()),this.pubSubService.subscribe("onHeaderMenuHideColumns",()=>this.delayRenderPreHeaderRowGroupingTitles(0)),this.pubSubService.subscribe("onGridMenuColumnsChanged",()=>this.renderPreHeaderRowGroupingTitles()),this.pubSubService.subscribe("onGridMenuMenuClose",()=>this.renderPreHeaderRowGroupingTitles()));const e=t.getPluginByName("Resizer");e?.onGridAfterResize&&this._eventHandler.subscribe(e.onGridAfterResize,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(t.onSetOptions,(r,o)=>{var s,a;(null===(s=o?.optionsBefore)||void 0===s?void 0:s.frozenColumn)!==(null===(a=o?.optionsAfter)||void 0===a?void 0:a.frozenColumn)&&this.delayRenderPreHeaderRowGroupingTitles(0)}),this.delayRenderPreHeaderRowGroupingTitles(75)}}dispose(){this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}delayRenderPreHeaderRowGroupingTitles(t=0){setTimeout(()=>this.renderPreHeaderRowGroupingTitles(),t)}renderPreHeaderRowGroupingTitles(){var t;if(this._gridOptions&&void 0!==this._gridOptions.frozenColumn&&this._gridOptions.frozenColumn>=0){let e=this._grid.getPreHeaderPanelLeft();this.renderHeaderGroups(e,0,this._gridOptions.frozenColumn+1),e=this._grid.getPreHeaderPanelRight(),this.renderHeaderGroups(e,(null===(t=this._gridOptions)||void 0===t?void 0:t.frozenColumn)+1,this._columnDefinitions.length)}else{const e=this._grid.getPreHeaderPanel();this.renderHeaderGroups(e,0,this._columnDefinitions.length)}}renderHeaderGroups(t,e,r){var o,s,a;bn(t),t.className="slick-header-columns",t.style.left="-1000px",t.style.width=`${this._grid.getHeadersWidth()}px`,t.parentElement&&t.parentElement.classList.add("slick-header");const l=this._grid.getHeaderColumnWidthDiff();let u,d=null,p="",m=0;const E=null!==(s=null===(o=this._gridOptions)||void 0===o?void 0:o.frozenHeaderWidthCalcDifferential)&&void 0!==s?s:0,P=void 0!==(null===(a=this._gridOptions)||void 0===a?void 0:a.frozenColumn)&&this._gridOptions.frozenColumn>=0;for(let H=e;H<r;H++)if(u=this._columnDefinitions[H],u){if(p===u.columnGroup&&H>0)m+=u.width||0,d?.style&&(d.style.width=m-l-E+"px");else{m=u.width||0,d=Le("div",{className:"ui-state-default slick-header-column "+(P?"frozen":""),style:{width:m-l+"px"}});const U=Le("span",{className:"slick-column-name",textContent:u.columnGroup||""});d.appendChild(U),t.appendChild(d)}p=u.columnGroup||""}}translateGroupingAndColSpan(){const t=this._grid.getColumns();this.extensionUtility.translateItems(t,"columnGroupKey","columnGroup"),this._grid.setColumns(t),this.renderPreHeaderRowGroupingTitles()}}class rU{constructor(t,e,r,o){this.pubSubService=t,this.sharedService=e,this.backendUtilities=r,this.rxjs=o,this._eventHandler=new Slick.EventHandler,this._initialized=!1,this._isLocalGrid=!0,this._dataFrom=1,this._dataTo=1,this._itemsPerPage=0,this._pageCount=1,this._pageNumber=1,this._totalItems=0,this._availablePageSizes=[],this._subscriptions=[]}get dataView(){var t,e,r;return null!==(r=null===(e=null===(t=this.grid)||void 0===t?void 0:t.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}set paginationOptions(t){this._paginationOptions=t}get paginationOptions(){return this._paginationOptions}get availablePageSizes(){return this._availablePageSizes}get dataFrom(){return this._dataFrom}get dataTo(){return this._dataTo}get itemsPerPage(){return this._itemsPerPage}get pageCount(){return this._pageCount}get pageNumber(){return this._pageNumber}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this._initialized&&this.refreshPagination()}addRxJsResource(t){this.rxjs=t}init(t,e,r){if(this._availablePageSizes=e.pageSizes,this.grid=t,this._backendServiceApi=r,this._paginationOptions=e,this._isLocalGrid=!r,this._pageNumber=e.pageNumber||1,r&&(!r.service||!r.process))throw new Error('BackendServiceApi requires the following 2 properties "process" and "service" to be defined.');this._isLocalGrid&&this.dataView&&(this._eventHandler.subscribe(this.dataView.onPagingInfoChanged,(s,a)=>{this._totalItems!==a.totalRows&&(this.updateTotalItems(a.totalRows),this._previousPagination={pageNumber:a.pageNum,pageSize:a.pageSize,pageSizes:this.availablePageSizes,totalItems:a.totalRows})}),setTimeout(()=>{this.dataView&&(this.dataView.setRefreshHints({isFilterUnchanged:!0}),this.dataView.setPagingOptions({pageSize:this.paginationOptions.pageSize,pageNum:this._pageNumber-1}))})),this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",()=>this.resetPagination())),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>this.resetPagination())),this.dataView&&(this._subscriptions.push(this.pubSubService.subscribe("onItemAdded",s=>this.processOnItemAddedOrRemoved(s,!0))),this._subscriptions.push(this.pubSubService.subscribe("onItemDeleted",s=>this.processOnItemAddedOrRemoved(s,!1)))),this.refreshPagination(!1,!1,!0);const o=this.getFullPagination();this._previousPagination={pageNumber:o.pageNumber,pageSize:o.pageSize,pageSizes:o.pageSizes,totalItems:this.totalItems},this._initialized=!0}dispose(){this._initialized=!1,this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}getCurrentPagination(){return{pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes}}getFullPagination(){return{pageCount:this._pageCount,pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes,totalItems:this._totalItems,dataFrom:this._dataFrom,dataTo:this._dataTo}}getCurrentPageNumber(){return this._pageNumber}getCurrentItemPerPage(){return this._itemsPerPage}changeItemPerPage(t,e,r=!0){return this._pageNumber=1,this._pageCount=Math.ceil(this._totalItems/t),this._itemsPerPage=t,r?this.processOnPageChanged(this._pageNumber,e):Promise.resolve(this.getFullPagination())}goToFirstPage(t,e=!0){return this._pageNumber=1,e?this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())}goToLastPage(t,e=!0){return this._pageNumber=this._pageCount||1,e?this.processOnPageChanged(this._pageNumber||1,t):Promise.resolve(this.getFullPagination())}goToNextPage(t,e=!0){return this._pageNumber<this._pageCount?(this._pageNumber++,e?this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())):Promise.resolve(!1)}goToPageNumber(t,e,r=!0){const o=this._pageNumber;return this._pageNumber=t<1?1:t>this._pageCount?this._pageCount:t,this._pageNumber!==o?r?this.processOnPageChanged(this._pageNumber,e):Promise.resolve(this.getFullPagination()):Promise.resolve(!1)}goToPreviousPage(t,e=!0){return this._pageNumber>1?(this._pageNumber--,e?this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())):Promise.resolve(!1)}refreshPagination(t=!1,e=!0,r=!1){var o,s,a;const l={...this.getFullPagination()};if(this._paginationOptions){const d=this._paginationOptions;this._itemsPerPage||(this._itemsPerPage=this._isLocalGrid?d.pageSize:+(null!==(a=null===(s=null===(o=this._backendServiceApi)||void 0===o?void 0:o.options)||void 0===s?void 0:s.paginationOptions)&&void 0!==a&&a.first?this._backendServiceApi.options.paginationOptions.first:d.pageSize)),(t||this._totalItems!==d.totalItems)&&(t?(this._pageNumber=1,this.paginationOptions.pageNumber=1):!this._initialized&&d.pageNumber&&d.pageNumber>1&&(this._pageNumber=d.pageNumber||1),1===this._pageNumber&&this._backendServiceApi&&this._backendServiceApi.service.resetPaginationOptions()),this._availablePageSizes=d.pageSizes,!this._totalItems&&d.totalItems&&(this._totalItems=d.totalItems),this.recalculateFromToIndexes()}this._pageCount=Math.ceil(this._totalItems/this._itemsPerPage),this.sharedService.currentPagination=this.getCurrentPagination(),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),e&&!Bs(l,this.getFullPagination())&&this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),r&&!Bs(l,this.getFullPagination())&&this.pubSubService.publish("onPaginationPresetsInitialized",this.getFullPagination());const u=this.getFullPagination();this._previousPagination={pageNumber:u.pageNumber,pageSize:u.pageSize,pageSizes:u.pageSizes,totalItems:this.totalItems}}resetPagination(t=!0){var e,r;this._isLocalGrid&&this.dataView&&(null===(r=null===(e=this.sharedService)||void 0===e?void 0:e.gridOptions)||void 0===r?void 0:r.enablePagination)&&this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:0}),this.refreshPagination(!0,t)}togglePaginationVisibility(t){var e;if(this.grid&&(null===(e=this.sharedService)||void 0===e?void 0:e.gridOptions)){const r=void 0!==t?t:!this.sharedService.gridOptions.enablePagination;r&&this.goToFirstPage(),this._isLocalGrid&&this.dataView&&this.dataView.setPagingOptions({pageSize:t?this._itemsPerPage:0,pageNum:0}),this.sharedService.gridOptions.enablePagination=r,this.pubSubService.publish("onPaginationVisibilityChanged",{visible:r})}}processOnPageChanged(t,e){return!1===this.pubSubService.publish("onBeforePaginationChange",this.getFullPagination())?(this.resetToPreviousPagination(),Promise.resolve(this.getFullPagination())):new Promise((r,o)=>{var s,a,l;if(this.recalculateFromToIndexes(),this._isLocalGrid&&this.dataView)this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:t-1}),this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),r(this.getFullPagination());else{const u=+this._itemsPerPage,d=new Date;if(!(null===(s=this._backendServiceApi)||void 0===s)&&s.preProcess&&this._backendServiceApi.preProcess(),null!==(a=this._backendServiceApi)&&void 0!==a&&a.process){const p=this._backendServiceApi.service.processOnPaginationChanged(e,{newPage:t,pageSize:u}),m=this._backendServiceApi.process(p);m instanceof Promise?m.then(E=>{var P;null===(P=this.backendUtilities)||void 0===P||P.executeBackendProcessesCallback(d,E,this._backendServiceApi,this._totalItems);const H=this.getFullPagination();this._previousPagination={pageNumber:H.pageNumber,pageSize:H.pageSize,pageSizes:H.pageSizes,totalItems:this.totalItems},r(this.getFullPagination())}).catch(E=>{var P,H,U;this.resetToPreviousPagination(),null===(P=this.backendUtilities)||void 0===P||P.onBackendError(E,this._backendServiceApi),(null===(H=this._backendServiceApi)||void 0===H||!H.onError||null===(U=this.backendUtilities)||void 0===U||!U.onBackendError)&&o(m)}):!(null===(l=this.rxjs)||void 0===l)&&l.isObservable(m)&&this._subscriptions.push(m.subscribe(E=>{var P;const H=this.getFullPagination();this._previousPagination={pageNumber:H.pageNumber,pageSize:H.pageSize,pageSizes:H.pageSizes,totalItems:this.totalItems},r(null===(P=this.backendUtilities)||void 0===P?void 0:P.executeBackendProcessesCallback(d,E,this._backendServiceApi,this._totalItems))},E=>{var P,H,U;this.resetToPreviousPagination(),null===(P=this.backendUtilities)||void 0===P||P.onBackendError(E,this._backendServiceApi),(null===(H=this._backendServiceApi)||void 0===H||!H.onError||null===(U=this.backendUtilities)||void 0===U||!U.onBackendError)&&o(m)})),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}})}recalculateFromToIndexes(){0===this._totalItems?(this._dataFrom=0,this._dataTo=1,this._pageNumber=0):(this._dataFrom=this._pageNumber>1?this._pageNumber*this._itemsPerPage-this._itemsPerPage+1:1,this._dataTo=this._totalItems<this._itemsPerPage?this._totalItems:(this._pageNumber||1)*this._itemsPerPage,this._dataTo>this._totalItems&&(this._dataTo=this._totalItems)),this._pageNumber=this._totalItems>0&&0===this._pageNumber?1:this._pageNumber,(this._dataTo>this._totalItems||this._totalItems<this._itemsPerPage)&&(this._dataTo=this._totalItems)}resetToPreviousPagination(){var t,e,r,o,s,a,l,u,d,p,m,E,P;const H=(null===(t=this._previousPagination)||void 0===t?void 0:t.pageNumber)!==this.getFullPagination().pageNumber,U=(null===(e=this._previousPagination)||void 0===e?void 0:e.pageSize)!==this.getFullPagination().pageSize;U&&this.changeItemPerPage(null!==(o=null===(r=this._previousPagination)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:0,null,!1),H&&this.goToPageNumber(null!==(a=null===(s=this._previousPagination)||void 0===s?void 0:s.pageNumber)&&void 0!==a?a:0,null,!1),(H||U)&&(this.refreshPagination(),null===(d=null===(u=null===(l=this._backendServiceApi)||void 0===l?void 0:l.service)||void 0===u?void 0:u.updatePagination)||void 0===d||d.call(u,null!==(m=null===(p=this._previousPagination)||void 0===p?void 0:p.pageNumber)&&void 0!==m?m:0,null!==(P=null===(E=this._previousPagination)||void 0===E?void 0:E.pageSize)&&void 0!==P?P:0))}updateTotalItems(t,e=!1){this._totalItems=t,this._paginationOptions&&(this._paginationOptions.totalItems=t,this.refreshPagination(!1,e))}processOnItemAddedOrRemoved(t,e=!0){if(null!==t){const r=this._dataTo,o=Array.isArray(t)?t.length:1,s=e?+o:-o;this._totalItems+=s,this.recalculateFromToIndexes(),this._dataTo=r+s,this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}}class cU{constructor(t){this.pubSubService=t,this._intervalRetryDelay=200,this._isStopResizeIntervalRequested=!1,this._hasResizedByContentAtLeastOnce=!1,this._totalColumnsWidthByContent=0,this._resizePaused=!1,this._subscriptions=[],this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get dataView(){var t;return null===(t=this._grid)||void 0===t?void 0:t.getData()}get gridUid(){var t,e;return null!==(e=null===(t=this._grid)||void 0===t?void 0:t.getUID())&&void 0!==e?e:""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get intervalRetryDelay(){return this._intervalRetryDelay}set intervalRetryDelay(t){this._intervalRetryDelay=t}get resizeByContentOptions(){var t,e;return null!==(e=null===(t=this.gridOptions)||void 0===t?void 0:t.resizeByContentOptions)&&void 0!==e?e:{}}dispose(){var t,e;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),this._intervalId&&clearInterval(this._intervalId),clearTimeout(this._timer),"container"===(null===(e=this.gridOptions.autoResize)||void 0===e?void 0:e.resizeDetection)?this._resizeObserver&&this._resizeObserver.disconnect():$(window).off(`resize.grid${this.gridUidSelector}`)}init(t,e){var r,o,s,a,l,u,d,p;if(!t||!this.gridOptions||!e)throw new Error('\n      [Slickgrid-Universal] Resizer Service requires a valid Grid object and DOM Element Container to be provided.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid()');this._grid=t,this._gridParentContainerElm=e;const m=(null===(r=this.gridOptions)||void 0===r?void 0:r.gridHeight)||(null===(o=this.gridOptions)||void 0===o?void 0:o.gridWidth)?{height:null===(s=this.gridOptions)||void 0===s?void 0:s.gridHeight,width:null===(a=this.gridOptions)||void 0===a?void 0:a.gridWidth}:void 0;this._autoResizeOptions=null!==(u=null===(l=this.gridOptions)||void 0===l?void 0:l.autoResize)&&void 0!==u?u:{container:"grid1",bottomPadding:0},m?.width&&e?.style&&(e.style.width="string"==typeof m.width?m.width:`${m.width}px`);const E=null===(d=t?.getContainerNode)||void 0===d?void 0:d.call(t);this._gridDomElm=$(E),this._pageContainerElm=$(this._autoResizeOptions.container),this._gridContainerElm=$(e),m&&(this._fixedHeight=m.height,this._fixedWidth=m.width),this.gridOptions&&this.gridOptions.enableAutoResize&&this.bindAutoResizeDataGrid(),this.gridOptions.autoResize&&this._subscriptions.push(this.pubSubService.subscribe("onFullResizeByContentRequested",()=>this.resizeColumnsByCellContent(!0))),null!==(p=this.gridOptions)&&void 0!==p&&p.enableColumnResizeOnDoubleClick&&(this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuColumnResizeByContent",P=>{this.handleSingleColumnResizeByContent(P.columnId)})),this._eventHandler.subscribe(this._grid.onColumnsResizeDblClick,(P,H)=>{this.handleSingleColumnResizeByContent(H.triggeredByColumn)}))}bindAutoResizeDataGrid(t){var e;if("container"===(null===(e=this.gridOptions.autoResize)||void 0===e?void 0:e.resizeDetection)){if(!this._pageContainerElm||!this._pageContainerElm[0])throw new Error('\n          [Slickgrid-Universal] Resizer Service requires a container when gridOption.autoResize.resizeDetection="container"\n          You can fix this by setting your gridOption.autoResize.container');this._resizeObserver||(this._resizeObserver=new ResizeObserver(()=>this.resizeObserverCallback())),this._resizeObserver.observe(this._pageContainerElm[0])}else{if(void 0===this._gridDomElm||void 0===this._gridDomElm.offset())return null;this.resizeGrid().then(()=>this.resizeGridWhenStylingIsBrokenUntilCorrected()).catch(r=>console.log("Error:",r)),this.resizeGrid(10,t),$(window).on(`resize.grid${this.gridUidSelector}`,this.handleResizeGrid.bind(this,t))}}handleResizeGrid(t){this.pubSubService.publish("onGridBeforeResize"),this._resizePaused||(this.resizeGrid(0,t),this.resizeGrid(0,t))}resizeObserverCallback(){this._resizePaused||this.resizeGrid()}calculateGridNewDimensions(t){var e,r,o,s,a,l;const u=null!==(e=t?.autoResize)&&void 0!==e?e:{};if(!window||void 0===this._pageContainerElm||void 0===this._gridDomElm.offset())return null;let d=void 0!==u?.bottomPadding?u.bottomPadding:20;if(d&&t.enablePagination&&(d+=35),d&&t.showCustomFooter){const De=null!==(s=null===(o=null===(r=this.gridOptions)||void 0===r?void 0:r.customFooterOptions)||void 0===o?void 0:o.footerHeight)&&void 0!==s?s:25;d+=parseInt(`${De}`,10)}let p=0,m=0;if("container"===u.calculateAvailableSizeBy)p=this._pageContainerElm.height()||0;else{p=window.innerHeight||0;const De=this._gridDomElm.offset();m=void 0!==De?De.top:0}const E=p-m-d,P=this._pageContainerElm.width()||window.innerWidth||0,H=u?.maxHeight,U=null!==(a=u?.minHeight)&&void 0!==a?a:180,X=u?.maxWidth,J=null!==(l=u?.minWidth)&&void 0!==l?l:300;let te=E,ne=u?.rightPadding?P-u.rightPadding:P;return te<U&&(te=U),H&&te>H&&(te=H),ne<J&&(ne=J),X&&ne>X&&(ne=X),{height:this._fixedHeight||te,width:this._fixedWidth||ne}}getLastResizeDimensions(){return this._lastDimensions}pauseResizer(t){this._resizePaused=t}resizeGrid(t,e){return new Promise(r=>{(t=t||0)>0?(clearTimeout(this._timer),this._timer=setTimeout(()=>r(this.resizeGridCallback(e)),t)):r(this.resizeGridCallback(e))})}resizeGridCallback(t){var e,r;const o=this.resizeGridWithDimensions(t);return this.pubSubService.publish("onGridAfterResize",o),this.gridOptions.enableAutoResizeColumnsByCellContent&&(!(null!==(e=this._lastDimensions)&&void 0!==e&&e.width)||o?.width!==(null===(r=this._lastDimensions)||void 0===r?void 0:r.width))&&this.resizeColumnsByCellContent(!1),this._lastDimensions=o,o}resizeGridWithDimensions(t){var e,r,o,s;const a=this.calculateGridNewDimensions(this.gridOptions);if((t||a)&&this._gridDomElm.length>0){const l=t?.height?t.height:a?.height,u=t?.width?t.width:a?.width;this.gridOptions.autoHeight||(this._gridDomElm.height(l),this._gridContainerElm.height(l)),this._gridDomElm.width(u),this._gridContainerElm.width(u),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&(null===(e=this._grid)||void 0===e?void 0:e.resizeCanvas)&&$(this._gridContainerElm)&&this._grid.resizeCanvas(),(null===(r=this.gridOptions)||void 0===r?void 0:r.enableAutoSizeColumns)&&this._grid.autosizeColumns?this.gridUid&&$(`${this.gridUidSelector}`).length>0&&this._grid.autosizeColumns():this.gridOptions.enableAutoResizeColumnsByCellContent&&(!(null!==(o=this._lastDimensions)&&void 0!==o&&o.width)||u!==(null===(s=this._lastDimensions)||void 0===s?void 0:s.width))&&this.resizeColumnsByCellContent(!1),this._lastDimensions={height:l||0,width:u||0}}return this._lastDimensions}requestStopOfAutoFixResizeGrid(t=!0){this._isStopResizeIntervalRequested=t}resizeColumnsByCellContent(t=!1){var e,r,o,s,a,l,u;const d=this._grid.getColumns(),p=this.dataView.getItems(),m={};let E=!1,P=0;const H=null!==(r=null===(e=this._gridParentContainerElm)||void 0===e?void 0:e.offsetWidth)&&void 0!==r?r:0;if(!Array.isArray(p)||0===p.length||!t&&this._totalColumnsWidthByContent>0&&this._totalColumnsWidthByContent<H)return void this._grid.autosizeColumns();if(this._hasResizedByContentAtLeastOnce&&(null===(o=this.gridOptions)||void 0===o?void 0:o.resizeByContentOnlyOnFirstLoad)&&!t)return;if(this.pubSubService.publish("onBeforeResizeByContent",void 0,0),0===this._totalColumnsWidthByContent||t){for(const J of d)m[J.id]=null!==(a=null!==(s=J.originalWidth)&&void 0!==s?s:J.minWidth)&&void 0!==a?a:0;P=this.calculateCellWidthByReadingDataset(d,m,this.resizeByContentOptions.maxItemToInspectCellContentWidth);let X=0;for(const J of d){const te=null!==(u=null!==(l=J.resizeAlwaysRecalculateWidth)&&void 0!==l?l:this.resizeByContentOptions.alwaysRecalculateColumnWidth)&&void 0!==u&&u;J.originalWidth&&!te?J.width=J.originalWidth:void 0!==m[J.id]&&(J.rerenderOnResize&&(E=!0),this.applyNewCalculatedColumnWidthByReference(J,m[J.id])),X+=J.width||0,this._totalColumnsWidthByContent=X}}this._grid.setColumns(d),this._hasResizedByContentAtLeastOnce=!0;const U={};for(const X of d)U[X.id]=X.width;this._totalColumnsWidthByContent>H?this._grid.reRenderColumns(E):this._grid.autosizeColumns(),this.pubSubService.publish("onAfterResizeByContent",{readItemCount:P,calculateColumnWidths:U})}calculateCellWidthByReadingDataset(t,e,r=1e3,o){const s=Array.isArray(t)?t:[t],a=this.dataView.getItems();let l=0;for(const[u,d]of a.entries()){if(u>r)break;Array.isArray(s)&&"object"==typeof e&&s.forEach((p,m)=>{const E=this.calculateCellWidthByContent(d,p,u,o??m,e[p.id]);void 0!==E&&(e[p.id]=E)}),l=u+1}return l}calculateCellWidthByContent(t,e,r,o,s){var a,l;const u=null!==(a=this.resizeByContentOptions.cellCharWidthInPx)&&void 0!==a?a:7;if(!e.originalWidth){const d=null!==(l=e?.resizeCharWidthInPx)&&void 0!==l?l:u,m=hc(Of(e?.formatter,r,o,e,t,this._grid)),E=Math.ceil(m.length*d),P=e.resizeMaxWidthThreshold;e&&(void 0===s||E>s)&&(s=void 0!==P&&E>P?P:void 0!==e.maxWidth&&E>e.maxWidth?e.maxWidth:E)}return s}applyNewCalculatedColumnWidthByReference(t,e){var r,o,s,a,l,u,d;const p=null!==(r=this.resizeByContentOptions.cellPaddingWidthInPx)&&void 0!==r?r:6,m=null!==(o=this.resizeByContentOptions.formatterPaddingWidthInPx)&&void 0!==o?o:6,E=null!==(l=null!==(a=null===(s=t?.filter)||void 0===s?void 0:s.type)&&void 0!==a?a:t?.type)&&void 0!==l?l:"string";let P=e;const H=null!==(d=null!==(u=t?.resizeCalcWidthRatio)&&void 0!==u?u:this.resizeByContentOptions.defaultRatioForStringType)&&void 0!==d?d:.9;P*="string"===E?H:1,P+=p,t.resizeExtraWidthPadding&&(P+=t.resizeExtraWidthPadding),t.editor&&this.gridOptions.editable&&(P+=m),void 0!==t.maxWidth&&P>t.maxWidth&&(P=t.maxWidth),void 0!==t.resizeMaxWidthThreshold&&P>t.resizeMaxWidthThreshold&&(P=t.resizeMaxWidthThreshold),P=Math.ceil(P),(void 0===t.originalWidth||!0===t.resizeAlwaysRecalculateWidth||!0===this.resizeByContentOptions.alwaysRecalculateColumnWidth)&&(t.width=this.readjustNewColumnWidthWhenOverLimit(t,P))}handleSingleColumnResizeByContent(t){var e,r,o;const s=this._grid.getColumns(),a=s.findIndex(l=>l.id===t);if(a>=0){const l=s[a],u={[t]:null!==(r=null!==(e=l.originalWidth)&&void 0!==e?e:l.minWidth)&&void 0!==r?r:0};l.originalWidth=void 0,this.calculateCellWidthByReadingDataset(l,u,this.resizeByContentOptions.maxItemToInspectSingleColumnWidthByContent,a),this.applyNewCalculatedColumnWidthByReference(l,u[t]),this._grid.reRenderColumns(null!==(o=l?.rerenderOnResize)&&void 0!==o&&o)}}readjustNewColumnWidthWhenOverLimit(t,e){var r,o,s,a,l,u,d,p;const m=null!==(r=this.gridOptions.frozenColumn)&&void 0!==r?r:-1,E=null!==(o=this._grid.getColumns().findIndex(H=>H.id===t.id))&&void 0!==o?o:0;let P=e;if(m>=0&&E<=m){const H=Array.from(this._grid.getViewports());if(H){const U=null!==(a=null===(s=H.find(De=>De.classList.contains("slick-viewport-left")))||void 0===s?void 0:s.clientWidth)&&void 0!==a?a:0,X=null!==(u=null===(l=H.find(De=>De.classList.contains("slick-viewport-right")))||void 0===l?void 0:l.clientWidth)&&void 0!==u?u:0,te=U-(null!==(d=t.width)&&void 0!==d?d:0);te+e>U+X&&(P=U-te+X-(null!==(p=this.resizeByContentOptions.widthToRemoveFromExceededWidthReadjustment)&&void 0!==p?p:50))}}return Math.ceil(P)}checkIsGridShown(){var t,e;return!(null===(e=null===(t=document.querySelector(`${this.gridUidSelector}`))||void 0===t?void 0:t.offsetParent)||void 0===e||!e)}resizeGridWhenStylingIsBrokenUntilCorrected(){var e,r,o,s,t=this;const a=null!==(r=null===(e=this.gridOptions)||void 0===e?void 0:e.autoFixResizeTimeout)&&void 0!==r?r:18e3,l=null!==(s=null===(o=this.gridOptions)||void 0===o?void 0:o.autoFixResizeRequiredGoodCount)&&void 0!==s?s:5,u=this._gridParentContainerElm.querySelector(`${this.gridUidSelector} .slick-header`),d=this._gridParentContainerElm.querySelector(`${this.gridUidSelector} .slick-viewport`);let p=0,m=0;if(u&&d&&this.gridOptions.autoFixResizeWhenBrokenStyleDetected){const E=this.dataView.getItemCount(),P=this._grid.getColumns()||[];this._intervalId=setInterval(Uo(function*(){var H,U,X,J,te,ne;const xe=zo(u);let Ue=null!==(H=xe?.top)&&void 0!==H?H:0;t.gridOptions&&t.gridOptions.enableFiltering&&t.gridOptions.headerRowHeight&&(Ue+=t.gridOptions.headerRowHeight),t.gridOptions&&t.gridOptions.createPreHeaderPanel&&t.gridOptions.showPreHeaderPanel&&t.gridOptions.preHeaderPanelHeight&&(Ue+=t.gridOptions.preHeaderPanelHeight),Ue+=44;const it=null!==(U=zo(d)?.top)&&void 0!==U?U:0,Wt=zo(t._gridParentContainerElm);let Jt=0===xe?.top||Ue-it>2||0===Wt?.left&&0===Wt?.top;const Kt=null!==(ne=null===(te=null===(J=(X=t._grid).getRenderedRange)||void 0===J?void 0:J.call(X))||void 0===te?void 0:te.rightPx)&&void 0!==ne?ne:0;!Jt&&E>0&&0===Kt&&P.length>1&&(Jt=!0),t._isStopResizeIntervalRequested&&(Jt=!1,p=a),t.checkIsGridShown()&&(Jt||0===Wt?.left||0===Wt?.top)&&(yield t.resizeGrid(),t.checkIsGridShown()&&(Jt=!1)),t.checkIsGridShown()&&m++,t.checkIsGridShown()&&!Jt&&(m>=l||p++>=a)&&clearInterval(t._intervalId)}),this.intervalRetryDelay)}}}class hU{constructor(){this._hasColumnsReordered=!1,this._hideHeaderRowAfterPageLoad=!1}get allColumns(){return this._allColumns}set allColumns(t){this._allColumns=t}get columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}get currentPagination(){return this._currentPagination}set currentPagination(t){this._currentPagination=t}get dataView(){return this._dataView}set dataView(t){this._dataView=t}get frozenVisibleColumnId(){return this._frozenVisibleColumnId}set frozenVisibleColumnId(t){this._frozenVisibleColumnId=t}get hasColumnsReordered(){return this._hasColumnsReordered}set hasColumnsReordered(t){this._hasColumnsReordered=t}get slickGrid(){return this._grid}set slickGrid(t){this._grid=t}get gridContainerElement(){return this._gridContainerElm}set gridContainerElement(t){this._gridContainerElm=t}get gridOptions(){var t;return this._gridOptions||(null===(t=this._grid)||void 0===t?void 0:t.getOptions())||{}}set gridOptions(t){this._gridOptions=t}get groupItemMetadataProvider(){return this._groupItemMetadataProvider}set groupItemMetadataProvider(t){this._groupItemMetadataProvider=t}get hideHeaderRowAfterPageLoad(){return this._hideHeaderRowAfterPageLoad}set hideHeaderRowAfterPageLoad(t){this._hideHeaderRowAfterPageLoad=t}get externalRegisteredResources(){return this._externalRegisteredResources}set externalRegisteredResources(t){this._externalRegisteredResources=t}get visibleColumns(){return this._visibleColumns}set visibleColumns(t){this._visibleColumns=t}get hierarchicalDataset(){return this._hierarchicalDataset}set hierarchicalDataset(t){this._hierarchicalDataset=t}}class fU{constructor(t,e,r,o){this.sharedService=t,this.pubSubService=e,this.backendUtilities=r,this.rxjs=o,this._currentLocalSorters=[],this._isBackendGrid=!1,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get _gridOptions(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}dispose(){var t,e;!(null===(t=this._eventHandler)||void 0===t)&&t.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(e=this.rxjs)||void 0===e?void 0:e.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete())}addRxJsResource(t){this.rxjs=t}bindBackendOnSort(t){var e,r;this._isBackendGrid=!0,this._grid=t,this._dataView=null!==(r=null===(e=t?.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{},this._eventHandler.subscribe(t.onSort,this.onBackendSortChanged.bind(this))}bindLocalOnSort(t){this._isBackendGrid=!1,this._grid=t,this._dataView=t.getData(),this.processTreeDataInitialSort(),this._eventHandler.subscribe(t.onSort,this.handleLocalOnSort.bind(this))}handleLocalOnSort(t,e){const r=e.multiColumnSort?e.sortCols:new Array({columnId:e.sortCol.id,sortAsc:e.sortAsc,sortCol:e.sortCol});this._currentLocalSorters=[],Array.isArray(r)&&r.forEach(o=>{o.sortCol&&this._currentLocalSorters.push({columnId:o.sortCol.id,direction:o.sortAsc?$s.ASC:$s.DESC})}),this.onLocalSortChanged(this._grid,r),this.emitSortChanged(In.local)}clearSortByColumnId(t,e){var r,o;const s=this.getCurrentColumnSorts(),a=this.getCurrentColumnSorts(`${e}`);if(Array.isArray(s)&&Array.isArray(a)&&s.length!==a.length){if(this._gridOptions.backendServiceApi)this.onBackendSortChanged(t,{multiColumnSort:!0,sortCols:a,grid:this._grid});else if(this._dataView)this.onLocalSortChanged(this._grid,a,!0,!0);else{const d=null!==(o=null===(r=this._gridOptions)||void 0===r?void 0:r.multiColumnSort)&&void 0!==o&&o?a:a[0];this._grid.onSort.notify(d)}const l=a.map(u=>({columnId:u&&u.sortCol&&u.sortCol.id,sortAsc:u&&u.sortAsc,sortCol:u&&u.sortCol}));this._grid.setSortColumns(l)}Array.isArray(a)&&0===a.length&&this.sortLocalGridByDefaultSortFieldId()}clearSorting(t=!0){var e,r;if(this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),t)this._isBackendGrid?this.onBackendSortChanged(void 0,{grid:this._grid,multiColumnSort:!0,sortCols:[],clearSortTriggered:!0}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0&&this.sortLocalGridByDefaultSortFieldId();else if(this._isBackendGrid){const o=null===(r=null===(e=this._gridOptions)||void 0===e?void 0:e.backendServiceApi)||void 0===r?void 0:r.service;o?.clearSorters&&o.clearSorters()}this._currentLocalSorters=[],this.pubSubService.publish("onSortCleared",!0)}disableSortFunctionality(t=!0,e=!0){let s;this._gridOptions.enableSorting=!this._gridOptions.enableSorting,t?(e&&this.clearSorting(),this._eventHandler.unsubscribeAll(),s=this.disableAllSortingCommands(!0)):(s=this.disableAllSortingCommands(!1),this._eventHandler.subscribe(this._grid.onSort,(a,l)=>this.handleLocalOnSort(a,l))),this._grid.setOptions({enableSorting:this._gridOptions.enableSorting},!1,!0),this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(s)}toggleSortFunctionality(t=!0){this.disableSortFunctionality(this._gridOptions.enableSorting,t)}emitSortChanged(t,e){var r;if(t===In.remote&&(null===(r=this._gridOptions)||void 0===r?void 0:r.backendServiceApi)){let o=[];const s=this._gridOptions.backendServiceApi.service;s?.getCurrentSorters&&(o=s.getCurrentSorters()),this.pubSubService.publish("onSortChanged",o)}else t===In.local&&(e&&(this._currentLocalSorters=e),this.pubSubService.publish("onSortChanged",this.getCurrentLocalSorters()))}getCurrentLocalSorters(){return this._currentLocalSorters}getCurrentColumnSorts(t){if(this._grid){const e=this._grid.getSortColumns();if(Array.isArray(e))return e.reduce((o,s)=>(s&&(!t||s.columnId!==t)&&o.push({columnId:s.columnId||"",sortCol:this._columnDefinitions[this._grid.getColumnIndex(s.columnId||"")],sortAsc:s.sortAsc}),o),[])}return[]}loadGridSorters(t){this._currentLocalSorters=[];const e=[];return Array.isArray(t)&&((this._gridOptions.multiColumnSort?t:t.slice(0,1)).forEach(o=>{const s=this._columnDefinitions.find(a=>a.id===o.columnId);s&&(e.push({columnId:s.id,sortAsc:o.direction.toUpperCase()===$s.ASC,sortCol:s}),this._currentLocalSorters.push({columnId:s.id+"",direction:o.direction.toUpperCase()}))}),this.onLocalSortChanged(this._grid,e),this._grid.setSortColumns(e.map(o=>({columnId:o.columnId,sortAsc:o.sortAsc})))),e}processTreeDataInitialSort(){var t,e,r;if((null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData)&&this._gridOptions.treeDataOptions){const o=this._gridOptions.treeDataOptions,s=this._columnDefinitions.find(a=>a.id===o.columnId);if(s){let a=$s.ASC,l={columnId:o.columnId,sortCol:s,sortAsc:!0};if(null!==(e=o?.initialSort)&&void 0!==e&&e.columnId){const u=o.initialSort.columnId,d=this._columnDefinitions.find(p=>p.id===u);a=(o.initialSort.direction||$s.ASC).toUpperCase(),l={columnId:u,sortCol:d,sortAsc:a===$s.ASC}}l?.columnId&&(null===(r=this.sharedService)||void 0===r?void 0:r.hierarchicalDataset)&&this.updateSorting([{columnId:l.columnId||"",direction:a}])}}}onBackendSortChanged(t,e){var r,o;if(!e||!e.grid)throw new Error('Something went wrong when trying to bind the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');const s=e.grid&&e.grid.getOptions?e.grid.getOptions():{},a=s.backendServiceApi;if(!a||!a.process||!a.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const l=new Date;a.preProcess&&a.preProcess();const u=a.service.processOnSortChanged(t,e),d=(null===(r=s?.pagination)||void 0===r?void 0:r.totalItems)||0;null===(o=this.backendUtilities)||void 0===o||o.executeBackendCallback(a,u,e,l,d,{emitActionChangedCallback:this.emitSortChanged.bind(this),errorCallback:()=>{var p,m,E;this._grid.setSortColumns(e.previousSortColumns||[]);const P=null===(p=e.previousSortColumns)||void 0===p?void 0:p.map(H=>({columnId:H.columnId,sortAsc:H.sortAsc,sortCol:this._columnDefinitions.find(U=>U.id===H.columnId)}));null===(E=null===(m=a?.service)||void 0===m?void 0:m.updateSorters)||void 0===E||E.call(m,P||[])},httpCancelRequestSubject:this.httpCancelRequests$})}onLocalSortChanged(t,e,r=!1,o=!1){var s=this;return Uo(function*(){var a,l,u,d,p;const m=null!==(l=null===(a=s._gridOptions)||void 0===a?void 0:a.datasetIdPropertyName)&&void 0!==l?l:"id",E=null!==(d=null===(u=s._gridOptions)||void 0===u?void 0:u.enableTreeData)&&void 0!==d&&d,P=null===(p=t.getData)||void 0===p?void 0:p.call(t);if(yield s.pubSubService.publish("onBeforeSortChange",{sortColumns:e},0),t&&P){if(r&&!E&&P.reSort(),E&&s.sharedService&&Array.isArray(s.sharedService.hierarchicalDataset)){const H=s.sortHierarchicalDataset(s.sharedService.hierarchicalDataset,e);s._dataView.setItems(H.flat,m),s._dataView.onRowCountChanged.notify({previous:s._dataView.getFilteredItemCount(),current:s._dataView.getLength(),itemCount:s._dataView.getItemCount(),dataView:s._dataView,callingOnRowsChanged:!0})}else P.sort(s.sortComparers.bind(s,e));t.invalidate(),o&&s.emitSortChanged(In.local,e.map(H=>{var U,X;return{columnId:null!==(X=null===(U=H.sortCol)||void 0===U?void 0:U.id)&&void 0!==X?X:"id",direction:H.sortAsc?$s.ASC:$s.DESC}}))}})()}sortHierarchicalDataset(t,e,r=!1){var o,s,a,l,u,d;this.sortTreeData(t,e);const p=null!==(s=null===(o=this._gridOptions)||void 0===o?void 0:o.datasetIdPropertyName)&&void 0!==s?s:"id",m=null!==(l=null===(a=this._gridOptions)||void 0===a?void 0:a.treeDataOptions)&&void 0!==l?l:{columnId:""},P=vT(t,{...m,identifierPropName:null!==(u=m.identifierPropName)&&void 0!==u?u:p,shouldAddTreeLevelNumber:!0});if(r){this._currentLocalSorters=[];for(const U of e)this._currentLocalSorters.push({columnId:U.columnId,direction:U.sortAsc?"ASC":"DESC"});const H=null!==(d=this._gridOptions)&&void 0!==d&&d.backendServiceApi?In.remote:In.local;this.emitSortChanged(H)}return{hierarchical:t,flat:P}}sortLocalGridByDefaultSortFieldId(){const t=this._gridOptions&&this._gridOptions.defaultColumnSortFieldId||this._gridOptions.datasetIdPropertyName||"id",e={id:t,field:t};this.onLocalSortChanged(this._grid,new Array({columnId:e.id,sortAsc:!0,sortCol:e,clearSortTriggered:!0}),!1,!0)}sortComparers(t,e,r){if(Array.isArray(t))for(const o of t){const s=this.sortComparer(o,e,r);if(void 0!==s)return s}return Gn.neutral}sortComparer(t,e,r,o){if(t?.sortCol){const s=t.sortCol,a=t.sortAsc?Gn.asc:Gn.desc;let l=o||s.queryFieldSorter||s.queryField||s.field,u=l;const d=s.type||"string";"function"==typeof s.queryFieldNameGetterFn&&(l=s.queryFieldNameGetterFn(e),u=s.queryFieldNameGetterFn(r));let p=e[l],m=r[u];if(l&&l.indexOf(".")>=0&&(p=Jn(e,l)),u&&u.indexOf(".")>=0&&(m=Jn(r,u)),s.sortComparer){const E=s.sortComparer(p,m,a,s,this._gridOptions);if(E!==Gn.neutral)return E}else{const E=cc(d,p,m,a,s,this._gridOptions);if(E!==Gn.neutral)return E}}}sortTreeData(t,e){if(Array.isArray(e))for(const r of e)this.sortTreeChildren(t,r,0)}sortTreeChildren(t,e,r){var o,s;const l=null!==(s=(null===(o=this._gridOptions)||void 0===o?void 0:o.treeDataOptions)?.childrenPropName)&&void 0!==s?s:"children";t.sort((u,d)=>{var p;return null!==(p=this.sortComparer(e,u,d))&&void 0!==p?p:Gn.neutral});for(const u of t)u&&u.hasOwnProperty(l)&&Array.isArray(u[l])&&(r++,this.sortTreeChildren(u[l],e,r),r--)}updateSorting(t,e=!0,r=!0){var o,s;if(!this._gridOptions||!this._gridOptions.enableSorting)throw new Error('[Slickgrid-Universal] in order to use "updateSorting" method, you need to have Sortable Columns defined in your grid and "enableSorting" set in your Grid Options');if(Array.isArray(t)){const a=null===(o=this._gridOptions)||void 0===o?void 0:o.backendServiceApi;if(a){const l=a?.service;l?.updateSorters&&(l.updateSorters(void 0,t),r&&(null===(s=this.backendUtilities)||void 0===s||s.refreshBackendDataset(this._gridOptions)))}else this.loadGridSorters(t);e&&this.emitSortChanged(a?In.remote:In.local)}}disableAllSortingCommands(t=!0){var e,r;const o=this._grid.getColumns();o.forEach(a=>{var l;void 0!==typeof a.sortable&&(a.sortable=!t),null!==(l=a?.header)&&void 0!==l&&l.menu&&a.header.menu.items.forEach(u=>{if(u&&"string"!=typeof u){const d=u.command;("sort-asc"===d||"sort-desc"===d||"clear-sort"===d)&&(u.hidden=t)}})});const s=null===(r=null===(e=this._gridOptions)||void 0===e?void 0:e.gridMenu)||void 0===r?void 0:r.commandItems;return s&&s.forEach(a=>{a&&"string"!=typeof a&&"clear-sorting"===a.command&&(a.hidden=t)}),o}}class pU{constructor(t,e,r){this.pubSubService=t,this.sharedService=e,this.sortService=r,this._isLastFullToggleCollapsed=!1,this._currentToggledItems=[],this._subscriptions=[],this._eventHandler=new Slick.EventHandler}set currentToggledItems(t){this._currentToggledItems=t}get dataset(){var t;return null===(t=this.dataView)||void 0===t?void 0:t.getItems()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}get dataView(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getData)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get eventHandler(){return this._eventHandler}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this._grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get treeDataOptions(){return this.gridOptions.treeDataOptions}dispose(){this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}init(t){var e,r,o,s,a,l,u,d,p,m,E;if(this._grid=t,this._isLastFullToggleCollapsed=null!==(o=null===(r=null===(e=this.gridOptions)||void 0===e?void 0:e.treeDataOptions)||void 0===r?void 0:r.initiallyCollapsed)&&void 0!==o&&o,this._currentToggledItems=null!==(l=null===(a=null===(s=this.gridOptions.presets)||void 0===s?void 0:s.treeData)||void 0===a?void 0:a.toggledItems)&&void 0!==l?l:[],this._lastToggleStateChange={type:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},null!==(u=this.gridOptions)&&void 0!==u&&u.enableTreeData){if(null!==(d=this.gridOptions)&&void 0!==d&&d.multiColumnSort)throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data with multi-column sorting, unfortunately it is not supported because of its complexity, you can disable it via "multiColumnSort: false" grid option and/or help in providing support for this feature.');if(null===(p=this.gridOptions)||void 0===p||!p.enableFiltering)throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data without using the filtering option, unfortunately that is not possible with Tree Data since it relies heavily on the filters to expand/collapse the tree. You need to enable it via "enableFiltering: true"');if((null===(m=this.gridOptions)||void 0===m?void 0:m.backendServiceApi)||(null===(E=this.gridOptions)||void 0===E?void 0:E.enablePagination))throw new Error("[Slickgrid-Universal] It looks like you are trying to use Tree Data with Pagination and/or a Backend Service (OData, GraphQL) but unfortunately that is simply not supported because of its complexity.");if(!this.gridOptions.treeDataOptions||!this.gridOptions.treeDataOptions.columnId)throw new Error('[Slickgrid-Universal] When enabling tree data, you must also provide the "treeDataOption" property in your Grid Options with "childrenPropName" or "parentPropName" (depending if your array is hierarchical or flat) for the Tree Data to work properly.')}this._eventHandler.subscribe(t.onClick,this.handleOnCellClick.bind(this)),this._subscriptions.push(this.pubSubService.subscribe("onGridMenuClearAllSorting",this.clearSorting.bind(this)))}applyToggledItemStateChanges(t,e,r=!0,o=!1){if(Array.isArray(t)){const s=this.getTreeDataOptionPropName("collapsedPropName"),a=this.getTreeDataOptionPropName("hasChildrenPropName");this.dataView.beginUpdate(!0);const u="full-collapse"===(e??this._lastToggleStateChange.previousFullToggleType);e&&(this._lastToggleStateChange.previousFullToggleType=e),r&&(this.dataView.getItems()||[]).forEach(d=>{d[a]&&(d[s]=u)}),this.dynamicallyToggleItemState(t,o)}}dynamicallyToggleItemState(t,e=!0){if(Array.isArray(t)){this.dataView.beginUpdate(!0);for(const r of t){const o=this.dataView.getItemById(r.itemId);if(this.updateToggledItem(o,r.isCollapsed),e){const s=this._currentToggledItems.findIndex(a=>a.itemId===r.itemId);s>=0?this._currentToggledItems[s].isCollapsed=r.isCollapsed:this._currentToggledItems.push({itemId:r.itemId,isCollapsed:r.isCollapsed}),this.pubSubService.publish("onTreeItemToggled",{...this._lastToggleStateChange,fromItemId:r.itemId,toggledItems:this._currentToggledItems,type:r.isCollapsed?Pa.toggleCollapse:Pa.toggleExpand})}}this.dataView.endUpdate(),this.dataView.refresh()}}getCurrentToggleState(){return this._lastToggleStateChange}getInitialSort(t,e){var r,o,s;const a=e?.treeDataOptions,l=null!==(r=a?.initialSort)&&void 0!==r?r:{columnId:null!==(o=a?.columnId)&&void 0!==o?o:"",direction:"ASC"},u=t.find(d=>d.id===l.columnId);return{columnId:l.columnId,sortAsc:"DESC"!==(null===(s=l?.direction)||void 0===s?void 0:s.toUpperCase()),sortCol:u}}getItemCount(t){if(void 0!==t){const e=this.getTreeDataOptionPropName("levelPropName");return this.dataView.getItems().filter(r=>r[e]===t).length}return this.dataView.getItemCount()}getToggledItems(){return this._currentToggledItems}getTreeDataOptionPropName(t){var e,r,o,s,a,l,u,d,p,m,E,P,H,U;let X="";switch(t){case"childrenPropName":X=null!==(r=null===(e=this.treeDataOptions)||void 0===e?void 0:e.childrenPropName)&&void 0!==r?r:zt.treeDataProperties.CHILDREN_PROP;break;case"collapsedPropName":X=null!==(s=null===(o=this.treeDataOptions)||void 0===o?void 0:o.collapsedPropName)&&void 0!==s?s:zt.treeDataProperties.COLLAPSED_PROP;break;case"hasChildrenPropName":X=null!==(l=null===(a=this.treeDataOptions)||void 0===a?void 0:a.hasChildrenPropName)&&void 0!==l?l:zt.treeDataProperties.HAS_CHILDREN_PROP;break;case"identifierPropName":X=null!==(m=null!==(d=null===(u=this.treeDataOptions)||void 0===u?void 0:u.identifierPropName)&&void 0!==d?d:null===(p=this.gridOptions)||void 0===p?void 0:p.datasetIdPropertyName)&&void 0!==m?m:"id";break;case"levelPropName":X=null!==(P=null===(E=this.treeDataOptions)||void 0===E?void 0:E.levelPropName)&&void 0!==P?P:zt.treeDataProperties.TREE_LEVEL_PROP;break;case"parentPropName":X=null!==(U=null===(H=this.treeDataOptions)||void 0===H?void 0:H.parentPropName)&&void 0!==U?U:zt.treeDataProperties.PARENT_PROP}return X}clearSorting(){const t=this.getInitialSort(this.sharedService.columnDefinitions,this.sharedService.gridOptions);this.sortService.loadGridSorters([{columnId:t.columnId,direction:t.sortAsc?"ASC":"DESC"}])}convertFlatParentChildToTreeDatasetAndSort(t,e,r){var o;const s=this.convertFlatParentChildToTreeDataset(t,r),a=this.getInitialSort(e,r),l=this.sortService.sortHierarchicalDataset(s,[a],!0);return null===(o=this._grid)||void 0===o||o.setSortColumns([a]),l}convertFlatParentChildToTreeDataset(t,e){var r,o,s;const a=null!==(r=e?.datasetIdPropertyName)&&void 0!==r?r:"id",l=null!==(o=e?.treeDataOptions)&&void 0!==o?o:{columnId:"id"};return _T(t,{...l,identifierPropName:null!==(s=l.identifierPropName)&&void 0!==s?s:a,initiallyCollapsed:this._isLastFullToggleCollapsed})}sortHierarchicalDataset(t,e){const r=e??this.getInitialSort(this.sharedService.allColumns,this.gridOptions),o=Array.isArray(r)?r:[r];return this.sortService.sortHierarchicalDataset(t,o)}toggleTreeDataCollapse(t,e=!0){var r=this;return Uo(function*(){var o;if(null!==(o=r.gridOptions)&&void 0!==o&&o.enableTreeData){const a=r.getTreeDataOptionPropName("hasChildrenPropName");e&&(yield r.pubSubService.publish("onTreeFullToggleStart",{collapsing:t})),r.dataView.beginUpdate(!0),(r.dataView.getItems()||[]).forEach(l=>{l[a]&&r.updateToggledItem(l,t)}),r.dataView.endUpdate(),r.dataView.refresh(),r._isLastFullToggleCollapsed=t}const s=t?Pa.fullCollapse:Pa.fullExpand;r._lastToggleStateChange={type:s,previousFullToggleType:s,toggledItems:null},e&&r.pubSubService.publish("onTreeFullToggleEnd",r._lastToggleStateChange)})()}handleOnCellClick(t,e){var r;if(t&&e){const o=t.target||{},s=null!==(r=this.gridOptions.datasetIdPropertyName)&&void 0!==r?r:"id",a=this.getTreeDataOptionPropName("collapsedPropName"),l=this.getTreeDataOptionPropName("childrenPropName");if("string"==typeof o?.className&&o.className.indexOf("toggle")>=0){const d=this.dataView.getItem(e.row);if(d){d[a]=!d[a];const p=d[a],m=d[s],E=this._currentToggledItems.findIndex(U=>U.itemId===m);E>=0?this._currentToggledItems[E].isCollapsed=p:this._currentToggledItems.push({itemId:m,isCollapsed:p}),this.dataView.updateItem(m,d);const H=mf(this.sharedService.hierarchicalDataset||[],U=>U[s]===m,l);H&&(H[a]=p),this._grid.invalidate(),this._lastToggleStateChange={type:p?Pa.toggleCollapse:Pa.toggleExpand,previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},this.pubSubService.publish("onTreeItemToggled",{...this._lastToggleStateChange,fromItemId:m})}t.stopImmediatePropagation()}}}updateToggledItem(t,e){var r,o;const s=null!==(o=null===(r=this.gridOptions)||void 0===r?void 0:r.datasetIdPropertyName)&&void 0!==o?o:"id",a=this.getTreeDataOptionPropName("childrenPropName"),l=this.getTreeDataOptionPropName("collapsedPropName");if(t){t[l]=e,this.dataView.updateItem(t[s],t);const d=mf(this.sharedService.hierarchicalDataset||[],p=>p[s]===t[s],a);d&&(d[l]=e)}}}class gc{constructor(){this._clearFilterTriggered=!1,this._debounceTypingDelay=0,this._shouldTriggerQuery=!0,this._inputType="text",this.searchTerms=[],this._bindEventService=new xr}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get defaultOperator(){return Xt.empty}get inputType(){return this._inputType}set inputType(t){this._inputType=t}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}init(t){var e,r,o,s,a;if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm;const l=null===(e=this.gridOptions)||void 0===e?void 0:e.backendServiceApi;this._debounceTypingDelay=null!==(a=l?null!==(r=l?.filterTypingDebounce)&&void 0!==r?r:null===(o=this.gridOptions)||void 0===o?void 0:o.defaultBackendServiceFilterTypingDebounce:null===(s=this.gridOptions)||void 0===s?void 0:s.filterTypingDebounce)&&void 0!==a?a:0;const u=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(u),this._bindEventService.bind(this._filterElm,["keyup","blur","change","wheel"],this.handleInputChange.bind(this))}clear(t=!0){this._filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this._filterElm.value="",this._filterElm.classList.remove("filled"),this._filterElm.dispatchEvent(new Event("change")))}destroy(){var t,e;this._bindEventService.unbindAll(),null===(e=null===(t=this._filterElm)||void 0===t?void 0:t.remove)||void 0===e||e.call(t)}getValues(){return this._filterElm.value}setValues(t,e){const r=Array.isArray(t)?t:[t];let o="";for(const s of r)o=e?this.addOptionalOperatorIntoSearchString(s,e):s,this._filterElm.value=`${o??""}`;""!==this.getValues()?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled"),this.operator=e||this.defaultOperator}addOptionalOperatorIntoSearchString(t,e){let r="",o="",s=null==t?"":`${t}`;if(e&&s){switch(e){case"<>":case"!=":case"=":case"==":case">":case">=":case"<":case"<=":r=e;break;case"EndsWith":case"*z":r="*";break;case"StartsWith":case"a*":o="*"}s=`${r}${s}${o}`}return s}createDomElement(t){var e,r,o,s,a,l,u;const d=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"";bn(this.filterContainerElm);let p=null!==(s=null===(o=this.gridOptions)||void 0===o?void 0:o.defaultFilterPlaceholder)&&void 0!==s?s:"";null!==(a=this.columnFilter)&&void 0!==a&&a.placeholder&&(p=this.columnFilter.placeholder);const m=Le("input",{type:this._inputType||"text",autocomplete:"off",placeholder:p,className:`form-control search-filter filter-${d}`,value:t??"",dataset:{columnid:`${d}`}});return m.setAttribute("aria-label",null!==(u=null===(l=this.columnFilter)||void 0===l?void 0:l.ariaLabel)&&void 0!==u?u:`${is(d+"")} Search Filter`),m.setAttribute("role","presentation"),t&&m.classList.add("filled"),this.filterContainerElm.appendChild(m),this.filterContainerElm.appendChild(document.createElement("span")),m}handleInputChange(t){var e,r,o;if(this._clearFilterTriggered)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled");else{const s=null!==(e=t?.type)&&void 0!==e?e:"";let a=null!==(o=null===(r=t?.target)||void 0===r?void 0:r.value)&&void 0!==o?o:"";const l=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof a&&l&&(a=a.trim()),""===a?this._filterElm.classList.remove("filled"):this._filterElm.classList.add("filled");const u={columnDef:this.columnDef,operator:this.operator,searchTerms:[a],shouldTriggerQuery:this._shouldTriggerQuery},d="keyup"===s&&"Enter"!==t?.key?this._debounceTypingDelay:0;d>0?(clearTimeout(this._timer),this._timer=setTimeout(()=>this.callback(t,u),d)):this.callback(t,u)}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}}class nx{constructor(t,e,r,o=!0){this.translaterService=t,this.collectionService=e,this.rxjs=r,this._isMultipleSelect=!0,this._collectionLength=0,this._shouldTriggerQuery=!0,this.isFilled=!1,this.enableTranslateLabel=!1,this.subscriptions=[],this._isMultipleSelect=o}get collectionOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)||void 0===e?void 0:e.collectionOptions)&&void 0!==r?r:{}}get columnFilter(){var t,e;return null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)&&void 0!==e?e:{}}get customStructure(){var t,e;return null===(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)||void 0===e?void 0:e.customStructure}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get defaultOperator(){return this.isMultipleSelect?Xt.in:Xt.equal}get isMultipleSelect(){return this._isMultipleSelect}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){var r,o,s,e=this;if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync)throw new Error("[Slickgrid-Universal] You need to pass a \"collection\" (or \"collectionAsync\") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");if(this.enableTranslateLabel=this.columnFilter&&this.columnFilter.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this.translaterService||"function"!=typeof this.translaterService.translate))throw new Error('[select-filter] The Translate Service is required for the Select Filter to work correctly when "enableTranslateLabel" is set.');this._locales=this.gridOptions&&this.gridOptions.locales||zt.locales,this.initMultipleSelectTemplate();let a=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";this.columnFilter&&this.columnFilter.placeholder&&(a=this.columnFilter.placeholder),this.defaultOptions.placeholder=a||"",this._isMultipleSelect&&(null===(r=this.columnDef)||void 0===r?void 0:r.filter)&&(this.columnDef.filter.emptySearchTermReturnAllValues=null!==(s=null===(o=this.columnDef.filter)||void 0===o?void 0:o.emptySearchTermReturnAllValues)&&void 0!==s&&s);const l=this.columnFilter.collection||[];return this.renderDomElement(l),new Promise(function(){var u=Uo(function*(d,p){try{const m=e.columnFilter.collectionAsync;let E;m&&!e.columnFilter.collection?(E=AT(m,e.columnDef,e.renderDomElement.bind(e),e.rxjs,e.subscriptions),d(E)):(E=l,d(l)),(m||e.columnFilter.enableCollectionWatch)&&(yield E??m,e.watchCollectionChanges())}catch(m){p(m)}});return function(d,p){return u.apply(this,arguments)}}())}clear(t=!0){this.$filterElm&&this.$filterElm.multipleSelect&&this._collectionLength>0&&(this.$filterElm.multipleSelect("setSelects",[]),this.$filterElm.removeClass("filled").siblings("div .search-filter").removeClass("filled"),this.searchTerms=[],this._shouldTriggerQuery=t,this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0)}destroy(){if(this.$filterElm&&"function"==typeof this.$filterElm.multipleSelect){this.$filterElm.multipleSelect("destroy"),this.$filterElm.remove();const t=this.elementName.toString().replace(".","\\.");$(`[name=${t}].ms-drop`).remove()}this.$filterElm=null,oc(this.subscriptions)}getValues(){return this.$filterElm&&"function"==typeof this.$filterElm.multipleSelect?this.$filterElm.multipleSelect("getSelects"):[]}setValues(t,e){t&&this.$filterElm&&"function"==typeof this.$filterElm.multipleSelect&&(t=Array.isArray(t)?t:[t],this.$filterElm.multipleSelect("setSelects",t)),this.updateFilterStyle(this.getValues().length>0),this.operator=e||this.defaultOperator}filterCollection(t){let e=t;return this.columnFilter&&this.columnFilter.collectionFilterBy&&(e=this.collectionService.filterCollection(e,this.columnFilter.collectionFilterBy,this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null)),e}sortCollection(t){let e=t;return this.columnFilter&&this.columnFilter.collectionSortBy&&(e=this.collectionService.sortCollection(this.columnDef,e,this.columnFilter.collectionSortBy,this.enableTranslateLabel)),e}watchCollectionChanges(){var t;null!==(t=this.columnFilter)&&void 0!==t&&t.collection&&(nc(this.columnFilter.collection,e=>{this.renderDomElement(this.columnFilter.collection||e||[])}),zv(this.columnFilter,"collection",e=>{this.renderDomElement(e||[]),this.columnFilter.collection&&nc(this.columnFilter.collection,r=>{this.renderDomElement(this.columnFilter.collection||r||[])})}))}renderDomElement(t){var e,r,o,s;if(!Array.isArray(t)&&(null===(e=this.collectionOptions)||void 0===e?void 0:e.collectionInsideObjectProperty)&&(t=Jn(t,this.collectionOptions.collectionInsideObjectProperty||"")),!Array.isArray(t))throw new Error('The "collection" passed to the Select Filter is not a valid array.');let a=[];t.length>0&&(a=[...t]),(null===(r=this.collectionOptions)||void 0===r?void 0:r.addBlankEntry)&&Array.isArray(a)&&a.length>0&&""!==a[0][this.valueName]&&a.unshift(this.createBlankEntry()),(null===(o=this.collectionOptions)||void 0===o?void 0:o.addCustomFirstEntry)&&Array.isArray(a)&&a.length>0&&a[0][this.valueName]!==this.collectionOptions.addCustomFirstEntry[this.valueName]&&a.unshift(this.collectionOptions.addCustomFirstEntry),(null===(s=this.collectionOptions)||void 0===s?void 0:s.addCustomLastEntry)&&Array.isArray(a)&&a.length>0&&a[a.length-1][this.valueName]!==this.collectionOptions.addCustomLastEntry[this.valueName]&&a.push(this.collectionOptions.addCustomLastEntry);let l=a;l=this.filterCollection(l),l=this.sortCollection(l);const u=function DT(i,t,e,r,o=!1,s,a){var l,u,d,p,m,E,P,H,U,X,J,te,ne,De,xe,Ue,ot,it;const Wt=null!==(l=e?.id)&&void 0!==l?l:"",Jt=r.getOptions(),Kt=null!==(u="editor"===i?e?.internalColumnEditor:e?.filter)&&void 0!==u?u:{},cn=null!==(p=(null!==(d=Kt?.collectionOptions)&&void 0!==d?d:{})?.separatorBetweenTextLabels)&&void 0!==p?p:"",En=null!==(m=Kt?.enableTranslateLabel)&&void 0!==m&&m,Cn=null!==(E=Jt?.enableTranslate)&&void 0!==E&&E,Fn=null!==(P=Kt?.enableRenderHtml)&&void 0!==P&&P,Ss=null!==(H=Jt?.sanitizeHtmlOptions)&&void 0!==H?H:{},Vr=null!==(X=null===(U=Kt?.customStructure)||void 0===U?void 0:U.label)&&void 0!==X?X:"label",Sn=null!==(te=null===(J=Kt?.customStructure)||void 0===J?void 0:J.labelPrefix)&&void 0!==te?te:"labelPrefix",Rn=null!==(De=null===(ne=Kt?.customStructure)||void 0===ne?void 0:ne.labelSuffix)&&void 0!==De?De:"labelSuffix",ho=null!==(Ue=null===(xe=Kt?.customStructure)||void 0===xe?void 0:xe.optionLabel)&&void 0!==Ue?Ue:"value",gr=null!==(it=null===(ot=Kt?.customStructure)||void 0===ot?void 0:ot.value)&&void 0!==it?it:"value",Nn=Le("select",{className:"ms-filter search-filter"});Nn.classList.add(..."filter"===i?["search-filter",`filter-${Wt}`]:["select-editor",`editor-${Wt}`]),Nn.multiple=o;const Go=document.createDocumentFragment();let Us=!1;if(Array.isArray(t))if(t.every(Mn=>"string"==typeof Mn))for(const Mn of t){const sr=Le("option",{label:Mn,value:Mn,textContent:Mn});"filter"===i&&Array.isArray(a)&&(sr.selected=a.findIndex(na=>na===Mn)>=0),Go.appendChild(sr),(sr.selected&&o||sr.selected&&!o&&""!==Mn)&&(Us=!0)}else t.forEach(Mn=>{if(!Mn||void 0===Mn[Vr]&&void 0===Mn.labelKey)throw new Error("[Slickgrid-Universal] Select Filter/Editor collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");const sr=document.createElement("option"),na=Mn.labelKey||Mn[Vr],Vu=(Mn.labelKey||En&&s)&&na&&Cn?s?.translate(na||" "):na;let La=Mn[Sn]||"",zs=Mn[Rn]||"",Ao=Mn.hasOwnProperty(ho)?Mn[ho]:"";Ao?.toString&&(Ao=Ao.toString().replace(/\"/g,"'")),La=En&&s&&La&&"string"==typeof La?s.translate(La||" "):La,zs=En&&s&&zs&&"string"==typeof zs?s.translate(zs||" "):zs,Ao=En&&s&&Ao&&"string"==typeof Ao?s.translate(Ao||" "):Ao;let $l=[La,"string"==typeof Vu||"number"==typeof Vu?Vu.toString():Vu,zs].filter(ul=>ul).join(cn);Fn?($l=xT(ns(Jt,$l,Ss)),sr.innerHTML=$l):sr.textContent=$l;let Hu=Mn[gr];null==Hu&&(Hu=""),"filter"===i&&Array.isArray(a)&&(sr.selected=a.findIndex(ul=>`${ul}`==`${Mn[gr]}`)>=0),sr.value=`${Hu}`,sr.label=`${Ao??""}`,Go.appendChild(sr),(sr.selected&&o||sr.selected&&!o&&""!==Mn[gr])&&(Us=!0)});return Nn.appendChild(Go),{selectElement:Nn,hasFoundSearchTerm:Us}}("filter",l,this.columnDef,this.grid,this.isMultipleSelect,this.translaterService,this.searchTerms||[]);this.isFilled=u.hasFoundSearchTerm,this.createDomElement(u.selectElement),this._collectionLength=l.length}createBlankEntry(){const t={[this.labelName]:"",[this.valueName]:""};return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t}createDomElement(t){var e,r;const o=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"";if(this.elementName=`filter-${o}`,this.defaultOptions.name=this.elementName,$(this.filterContainerElm).empty(),this.$filterElm=$(t),"function"!=typeof this.$filterElm.multipleSelect)throw new Error("multiple-select.js was not found, make sure to read the HOWTO Wiki on how to install it.");this.$filterElm.data("columnId",o),this.updateFilterStyle(this.isFilled),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(this.filterContainerElm),this.filterElmOptions={...this.defaultOptions,...this.columnFilter?this.columnFilter.filterOptions:{}},this.$filterElm=this.$filterElm.multipleSelect(this.filterElmOptions)}initMultipleSelectTemplate(){var t,e,r,o,s,a,l,u;const d=this.gridOptions&&this.gridOptions.enableTranslate,p={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,single:!0,textTemplate:m=>this.columnDef&&this.columnDef.filter&&this.columnDef.filter.enableRenderHtml?m.text():m.html(),onClose:()=>this.onTriggerEvent()};if(this._isMultipleSelect){p.single=!1,p.okButton=!0,p.addTitle=!0;const m=ys(this.gridOptions);p.countSelected=d&&(null===(t=this.translaterService)||void 0===t?void 0:t.translate)?this.translaterService.translate(`${m}X_OF_Y_SELECTED`):null===(e=this._locales)||void 0===e?void 0:e.TEXT_X_OF_Y_SELECTED,p.allSelected=d&&(null===(r=this.translaterService)||void 0===r?void 0:r.translate)?this.translaterService.translate(`${m}ALL_SELECTED`):null===(o=this._locales)||void 0===o?void 0:o.TEXT_ALL_SELECTED,p.okButtonText=d&&(null===(s=this.translaterService)||void 0===s?void 0:s.translate)?this.translaterService.translate(`${m}OK`):null===(a=this._locales)||void 0===a?void 0:a.TEXT_OK,p.selectAllText=d&&(null===(l=this.translaterService)||void 0===l?void 0:l.translate)?this.translaterService.translate(`${m}SELECT_ALL`):null===(u=this._locales)||void 0===u?void 0:u.TEXT_SELECT_ALL,p.selectAllDelimiter=["",""]}this.defaultOptions=p}onTriggerEvent(){if(this.$filterElm){const t=this.getValues();this.updateFilterStyle(Array.isArray(t)&&t.length>1||1===t.length&&""!==t[0]),this.searchTerms=t,this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:t,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0}}updateFilterStyle(t){var e;t?(this.isFilled=!0,null===(e=this.$filterElm)||void 0===e||e.addClass("filled").siblings("div .search-filter").addClass("filled")):(this.isFilled=!1,this.$filterElm.removeClass("filled"),this.$filterElm.siblings("div .search-filter").removeClass("filled"))}}A(1504);const ox={autoComplete:class fB{constructor(t,e,r){this.translaterService=t,this.collectionService=e,this.rxjs=r,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[],this.isFilled=!1,this.valueName="label",this.enableTranslateLabel=!1,this.subscriptions=[]}get autoCompleteOptions(){return this._autoCompleteOptions||{}}get collectionOptions(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions||{}}get collection(){return this._collection}get columnFilter(){var t;return(null===(t=this.columnDef)||void 0===t?void 0:t.filter)||{}}get filterDomElement(){return this.$filterElm}get filterOptions(){var t;return(null===(t=this.columnFilter)||void 0===t?void 0:t.filterOptions)||{}}get customStructure(){var t,e,r,o,s,a;let l=null===(t=this.columnFilter)||void 0===t?void 0:t.customStructure;const u=null!==(r=null===(e=this.columnFilter)||void 0===e?void 0:e.type)&&void 0!==r?r:null===(o=this.columnDef)||void 0===o?void 0:o.type;return!l&&"object"===u&&(null===(s=this.columnDef)||void 0===s?void 0:s.dataKey)&&(null===(a=this.columnDef)||void 0===a?void 0:a.labelKey)&&(l={label:this.columnDef.labelKey,value:this.columnDef.dataKey}),l}get defaultOperator(){return Xt.equal}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get instance(){return this.$filterElm.autocomplete("instance")}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){var e=this;if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!(this.grid&&this.columnDef&&this.columnFilter&&(this.columnFilter.collection||this.columnFilter.collectionAsync||this.columnFilter.filterOptions)))throw new Error("[Slickgrid-Universal] You need to pass a \"collection\" (or \"collectionAsync\") for the AutoComplete Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.autoComplete, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");this.enableTranslateLabel=this.columnFilter&&this.columnFilter.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix";const r=this.columnFilter.collection||[];return this._collection=r,this.renderDomElement(r),new Promise(function(){var o=Uo(function*(s,a){try{const l=e.columnFilter.collectionAsync;let u;l&&!e.columnFilter.collection?(u=AT(l,e.columnDef,e.renderDomElement.bind(e),e.rxjs,e.subscriptions),s(u)):(u=r,s(r)),(l||e.columnFilter.enableCollectionWatch)&&(yield u??l,e.watchCollectionChanges())}catch(l){a(l)}});return function(s,a){return o.apply(this,arguments)}}())}clear(t=!0){this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("input"),this.$filterElm.removeClass("filled"))}destroy(){this.$filterElm&&(this.$filterElm.autocomplete("destroy"),this.$filterElm.off("input").remove()),this.$filterElm=null,this._collection=void 0,oc(this.subscriptions)}getValues(){return this.$filterElm.val()}setValues(t,e){t&&this.$filterElm.val(t),""!==this.getValues()?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.operator=e||this.defaultOperator}filterCollection(t){let e=t;return this.columnFilter&&this.columnFilter.collectionFilterBy&&(e=this.collectionService.filterCollection(e,this.columnFilter.collectionFilterBy,this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null)),e}sortCollection(t){let e=t;return this.columnFilter&&this.columnFilter.collectionSortBy&&(e=this.collectionService.sortCollection(this.columnDef,e,this.columnFilter.collectionSortBy,this.enableTranslateLabel)),e}watchCollectionChanges(){var t;null!==(t=this.columnFilter)&&void 0!==t&&t.collection&&(nc(this.columnFilter.collection,e=>{this.renderDomElement(this.columnFilter.collection||e||[])}),zv(this.columnFilter,"collection",e=>{this.renderDomElement(e||[]),this.columnFilter.collection&&nc(this.columnFilter.collection,r=>{this.renderDomElement(this.columnFilter.collection||r||[])})}))}renderDomElement(t){var e;if(!Array.isArray(t)&&(null===(e=this.collectionOptions)||void 0===e?void 0:e.collectionInsideObjectProperty)&&(t=Jn(t,this.collectionOptions.collectionInsideObjectProperty||"")),!Array.isArray(t))throw new Error('The "collection" passed to the Autocomplete Filter is not a valid array.');let r=t;r=this.filterCollection(r),r=this.sortCollection(r);const o=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"",s=this.buildTemplateHtmlString();this._collection=r,this.createDomElement(s,r,o),this.$filterElm.on("input",this.handleOnInputChange.bind(this))}buildTemplateHtmlString(){var t,e,r;const o=null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==e?e:"";let s=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return!(null===(r=this.columnFilter)||void 0===r)&&r.placeholder&&(s=this.columnFilter.placeholder),`<input type="text" role="presentation" autocomplete="off" class="form-control search-filter filter-${o}" placeholder="${s}">`}createDomElement(t,e,r){var o,s;this._collection=e;const a=null!==(s=null===(o=this.columnDef)||void 0===o?void 0:o.id)&&void 0!==s?s:"";$(this.filterContainerElm).empty(),this.$filterElm=$(t);const l=r;Array.isArray(e)&&(e=e.map(d=>({label:d[this.labelName],value:d[this.valueName],labelPrefix:d[this.labelPrefixName]||"",labelSuffix:d[this.labelSuffixName]||""})));const u=this.filterOptions;if(u?.source?(u.select=(d,p)=>this.onSelect(d,p),this._autoCompleteOptions={...u},this._autoCompleteOptions.renderItem&&(this._autoCompleteOptions.classes={"ui-autocomplete":`autocomplete-custom-${dc(this._autoCompleteOptions.renderItem.layout)}`}),this.$filterElm.autocomplete(this._autoCompleteOptions),this._autoCompleteOptions.renderItem&&(this.$filterElm.autocomplete("instance")._renderItem=this.renderCustomItem.bind(this))):(this._autoCompleteOptions={minLength:0,source:e,select:(p,m)=>this.onSelect(p,m),...this.filterOptions},this.$filterElm.autocomplete(this._autoCompleteOptions),this.$filterElm.autocomplete("instance")._renderItem=this.renderCollectionItem.bind(this)),this.$filterElm.val(l),this.$filterElm.data("columnId",a),r&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo){const d=$('<div class="autocomplete-container"></div>');d.appendTo(this.filterContainerElm),this.$filterElm.appendTo(d),$("<span></span>").appendTo(d)}if(this.filterOptions.openSearchListOnFocus&&this.$filterElm.click(()=>this.$filterElm.autocomplete("search",this.$filterElm.val())),this.columnFilter.callbacks)for(const d of Object.keys(this.columnFilter.callbacks))"function"==typeof this.columnFilter.callbacks[d]&&(this.$filterElm.autocomplete("instance")[d]=this.columnFilter.callbacks[d]);return this.$filterElm}onSelect(t,e){var r,o,s,a,l,u;if(e&&e.item){const d=e.item,p=null!==(u=null!==(s=null===(o=null===(r=this.columnFilter)||void 0===r?void 0:r.callbacks)||void 0===o?void 0:o.hasOwnProperty("_renderItem"))&&void 0!==s?s:null===(l=null===(a=this.columnFilter)||void 0===a?void 0:a.filterOptions)||void 0===l?void 0:l.renderItem)&&void 0!==u&&u,E="string"==typeof d?d:p?d[this.valueName]:d.value;this.setValues("string"==typeof d?d:p?d[this.labelName]:d.label),""===E?this.$filterElm.removeClass("filled"):this.$filterElm.addClass("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[E],shouldTriggerQuery:this._shouldTriggerQuery}),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return!1}handleOnInputChange(t){let e=t&&t.target&&t.target.value||"";"string"==typeof e&&(this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace)&&(e=e.trim()),this._clearFilterTriggered?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterElm.removeClass("filled")):(""===e?this.$filterElm.removeClass("filled"):this.$filterElm.addClass("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[e],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}renderCustomItem(t,e){var r,o,s;const a=null!==(s=null===(o=null===(r=this._autoCompleteOptions)||void 0===r?void 0:r.renderItem)||void 0===o?void 0:o.templateCallback(e))&&void 0!==s?s:"",l=ns(this.gridOptions,a)||"";return $("<li></li>").data("item.autocomplete",e).append(l).appendTo(t)}renderCollectionItem(t,e){var r,o;const s=null!==(o=null===(r=this.columnFilter)||void 0===r?void 0:r.enableRenderHtml)&&void 0!==o&&o,p=ns(this.gridOptions,(e.labelPrefix||"")+(e.label||"")+(e.labelSuffix||""))||"",m=$("<div></div>")[s?"html":"text"](p);return $("<li></li>").data("item.autocomplete",e).append(m).appendTo(t)}},compoundDate:class wB{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[],this._bindEventService=new xr}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get currentDate(){return this._currentDate}get defaultOperator(){return Xt.empty}get flatpickrOptions(){return this._flatpickrOptions||{}}get locales(){return this.gridOptions.locales||zt.locales}get operator(){return this._operator||this.columnFilter.operator||this.defaultOperator}set operator(t){this._operator=t}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator||"",this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm;const e=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(e),this._bindEventService.bind(this._filterDivInputElm,"keyup",this.onTriggerEvent.bind(this)),this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this))}clear(t=!0){this.flatInstance&&this._selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this._selectOperatorElm.selectedIndex=0,this.flatInstance.input&&this.flatInstance.clear()),this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled")}destroy(){var t,e,r,o;this._bindEventService.unbindAll(),this.flatInstance&&"function"==typeof this.flatInstance.destroy&&(this.flatInstance.destroy(),this.flatInstance.element&&Cf(this.flatInstance)),bn(this.filterContainerElm),bn(this._filterDivInputElm),null===(t=this._filterDivInputElm)||void 0===t||t.remove(),null===(e=this.filterContainerElm)||void 0===e||e.remove(),null===(r=this._selectOperatorElm)||void 0===r||r.remove(),null===(o=this._filterElm)||void 0===o||o.remove(),this.grid=null}hide(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()}show(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()}getValues(){return this._currentDate}setValues(t,e){if(this.flatInstance){const r=Array.isArray(t)?t[0]:t;this._currentDate=t&&r?r:void 0,this.flatInstance.setDate(this._currentDate||"")}if(this.getValues()?(this._filterElm.classList.add("filled"),this._filterDivInputElm.classList.add("filled")):(this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled")),this.operator=e||this.defaultOperator,e&&this._selectOperatorElm){const r=Fl(this.operator);this._selectOperatorElm.value=r}}buildDatePickerInput(t){var e,r,o,s,a,l;const u=kl(this.columnFilter.type||this.columnDef.type||"dateIso"),d=kl(this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||"dateUtc"),p=this.columnFilter&&this.columnFilter.filterOptions||{};let m=(null!==(e=p?.locale)&&void 0!==e?e:null===(o=null===(r=this.translaterService)||void 0===r?void 0:r.getCurrentLanguage)||void 0===o?void 0:o.call(r))||this.gridOptions.locale||"en";m?.length>2&&(m=m.substring(0,2)),t&&(this._currentDate=t);const E={defaultDate:t||"",altInput:!0,altFormat:d,dateFormat:u,wrap:!0,closeOnSelect:!0,locale:m,onChange:(U,X)=>{let J;this._currentValue=X,this._currentDate=Array.isArray(U)&&U[0]||void 0,E.enableTime&&(J=new CustomEvent("keyup")),this.onTriggerEvent(J)},errorHandler:U=>{U.toString().includes("invalid locale")&&console.warn(`[Slickgrid-Universal] Flatpickr missing locale imports (${m}), will revert to English as the default locale.\n          See Flatpickr Localization for more info, for example if we want to use French, then we can import it with:  import 'flatpickr/dist/l10n/fr';`)}};d&&("Z"===d||d.toLowerCase().includes("h"))&&(E.enableTime=!0),this._flatpickrOptions={...E,...p};let P=null!==(a=null===(s=this.gridOptions)||void 0===s?void 0:s.defaultFilterPlaceholder)&&void 0!==a?a:"";null!==(l=this.columnFilter)&&void 0!==l&&l.placeholder&&(P=this.columnFilter.placeholder);const H=Le("div",{className:"flatpickr"});return H.appendChild(Le("input",{type:"text",className:"form-control",placeholder:P,dataset:{input:""}})),this.flatInstance=yB(H,this._flatpickrOptions),H}getOperatorOptionValues(){var t;return null!==(t=this.columnFilter)&&void 0!==t&&t.compoundOperatorList?this.columnFilter.compoundOperatorList:[{operator:"",description:""},{operator:"=",description:this.getOutputText("EQUAL_TO","TEXT_EQUAL_TO","Equal to")},{operator:"<",description:this.getOutputText("LESS_THAN","TEXT_LESS_THAN","Less than")},{operator:"<=",description:this.getOutputText("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to")},{operator:">",description:this.getOutputText("GREATER_THAN","TEXT_GREATER_THAN","Greater than")},{operator:">=",description:this.getOutputText("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to")},{operator:"<>",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")}]}getOutputText(t,e,r){var o,s,a,l;if((null===(o=this.gridOptions)||void 0===o?void 0:o.enableTranslate)&&(null===(s=this.translaterService)||void 0===s?void 0:s.translate)){const u=ys(this.gridOptions);return this.translaterService.translate(`${u}${t}`)}return null!==(l=null===(a=this.locales)||void 0===a?void 0:a[e])&&void 0!==l?l:r}createDomElement(t){var e,r;const o=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"";bn(this.filterContainerElm),this._selectOperatorElm=Zv(this.getOperatorOptionValues(),this.gridOptions),this._filterDivInputElm=this.buildDatePickerInput(t);const s=Le("div",{className:`form-group search-filter filter-${o}`}),a=Le("div",{className:"input-group flatpickr"}),l=Le("div",{className:"input-group-addon input-group-prepend operator"});if(l.appendChild(this._selectOperatorElm),a.appendChild(l),a.appendChild(this._filterDivInputElm),s.appendChild(a),this._filterDivInputElm.dataset.columnid=`${o}`,this.operator){const u=Fl(this.operator);this._selectOperatorElm.value=u}return t&&""!==t&&(this._filterDivInputElm.classList.add("filled"),this._currentDate=t,this._currentValue=t),s&&this.filterContainerElm.appendChild(s),s}onTriggerEvent(t){if(this._clearFilterTriggered)this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled");else{const e=this._selectOperatorElm.value;this._currentValue?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled"),this.callback(t,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:e||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},compoundInput:Sf,compoundInputNumber:class bB extends Sf{constructor(t){super(t),this.translaterService=t,this.inputType="number"}},compoundInputPassword:class EB extends Sf{constructor(t){super(t),this.translaterService=t,this.inputType="password"}},compoundInputText:Sf,compoundSlider:class TB{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._elementRangeInputId="",this._elementRangeOutputId="",this.searchTerms=[],this._bindEventService=new xr}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get defaultOperator(){return Xt.empty}get filterParams(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}}get filterProperties(){return this.columnDef&&this.columnDef.filter||{}}get gridOptions(){var t,e,r;return null!==(r=null===(e=null===(t=this.grid)||void 0===t?void 0:t.getOptions)||void 0===e?void 0:e.call(t))&&void 0!==r?r:{}}get locales(){return this.gridOptions.locales||zt.locales}get operator(){return this._operator||this.columnFilter.operator||this.defaultOperator}set operator(t){this._operator=t}init(t){var e;if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator||"",this.searchTerms=null!==(e=t?.searchTerms)&&void 0!==e?e:[],this.filterContainerElm=t.filterContainerElm,this._elementRangeInputId=`rangeInput_${this.columnDef.field}`,this._elementRangeOutputId=`rangeOutput_${this.columnDef.field}`;const r=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.filterElm=this.createDomElement(r),this._bindEventService.bind(this.filterInputElm,["change","mouseup","touchend"],this.onTriggerEvent.bind(this)),this._bindEventService.bind(this.selectOperatorElm,["change","mouseup","touchend"],this.onTriggerEvent.bind(this)),this._bindEventService.bind(this.filterInputElm,["input","change"],this.handleInputChange.bind(this))}clear(t=!0){var e,r,o;if(this.filterElm&&this.selectOperatorElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[];const s=null!==(r=null===(e=this.filterParams)||void 0===e?void 0:e.sliderStartValue)&&void 0!==r?r:0;this._currentValue=+s,this.selectOperatorElm.selectedIndex=0,this.filterInputElm.value=s,this.filterNumberElm&&(this.filterNumberElm.textContent=s),this.onTriggerEvent(void 0),this.filterElm.classList.remove("filled"),null===(o=this.divContainerFilterElm)||void 0===o||o.classList.remove("filled")}}destroy(){var t,e,r,o;this._bindEventService.unbindAll(),null===(e=null===(t=this.selectOperatorElm)||void 0===t?void 0:t.remove)||void 0===e||e.call(t),bn(this.filterElm),null===(o=null===(r=this.filterElm)||void 0===r?void 0:r.remove)||void 0===o||o.call(r)}getValues(){return this._currentValue}setValues(t,e){var r,o,s;const a=Array.isArray(t)?t[0]:t;if(this._currentValue=lc(a)?+a:void 0,this.filterInputElm.value=`${a??""}`,this.filterNumberElm&&(this.filterNumberElm.textContent=`${null!==(r=this._currentValue)&&void 0!==r?r:""}`),void 0!==this.getValues()?(this.filterElm.classList.add("filled"),null===(o=this.divContainerFilterElm)||void 0===o||o.classList.add("filled")):(this.filterElm.classList.remove("filled"),null===(s=this.divContainerFilterElm)||void 0===s||s.classList.remove("filled")),this.operator=e||this.defaultOperator,e&&this.selectOperatorElm){const l=Fl(this.operator);this.selectOperatorElm.value=l}}getOperatorOptionValues(){var t;return null!==(t=this.columnFilter)&&void 0!==t&&t.compoundOperatorList?this.columnFilter.compoundOperatorList:[{operator:"",description:""},{operator:"=",description:this.getOutputText("EQUAL_TO","TEXT_EQUAL_TO","Equal to")},{operator:"<",description:this.getOutputText("LESS_THAN","TEXT_LESS_THAN","Less than")},{operator:"<=",description:this.getOutputText("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to")},{operator:">",description:this.getOutputText("GREATER_THAN","TEXT_GREATER_THAN","Greater than")},{operator:">=",description:this.getOutputText("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to")},{operator:"<>",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")}]}getOutputText(t,e,r){var o,s,a,l;if((null===(o=this.gridOptions)||void 0===o?void 0:o.enableTranslate)&&(null===(s=this.translaterService)||void 0===s?void 0:s.translate)){const u=ys(this.gridOptions);return this.translaterService.translate(`${u}${t}`)}return null!==(l=null===(a=this.locales)||void 0===a?void 0:a[e])&&void 0!==l?l:r}createDomElement(t){var e,r,o,s,a,l,u,d,p,m,E,P,H,U;const X=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"",J=null!==(s=null===(o=this.filterProperties)||void 0===o?void 0:o.minValue)&&void 0!==s?s:0,te=null!==(l=null===(a=this.filterProperties)||void 0===a?void 0:a.maxValue)&&void 0!==l?l:100,ne=null!==(d=null===(u=this.filterParams)||void 0===u?void 0:u.sliderStartValue)&&void 0!==d?d:J,De=null!==(m=null===(p=this.filterProperties)||void 0===p?void 0:p.valueStep)&&void 0!==m?m:1,xe=+(null!==(P=null===(E=this.filterParams)||void 0===E?void 0:E.sliderStartValue)&&void 0!==P?P:J);bn(this.filterContainerElm);let Ue=t||"0";+Ue<J&&(Ue=`${J}`),+Ue<xe&&(Ue=`${xe}`),this._currentValue=+Ue,this.selectOperatorElm=Zv(this.getOperatorOptionValues(),this.gridOptions);const ot=Le("span",{className:"input-group-addon input-group-prepend operator"});if(ot.appendChild(this.selectOperatorElm),this.filterInputElm=Le("input",{type:"range",name:this._elementRangeInputId,className:`form-control slider-filter-input range compound-slider ${this._elementRangeInputId}`,defaultValue:ne,value:Ue,title:Ue,min:`${J}`,max:`${te}`,step:`${De}`}),this.filterInputElm.setAttribute("aria-label",null!==(U=null===(H=this.columnFilter)||void 0===H?void 0:H.ariaLabel)&&void 0!==U?U:`${is(X+"")} Search Filter`),this.divContainerFilterElm=Le("div",{className:`form-group search-filter slider-container filter-${X}`}),this.containerInputGroupElm=Le("div",{className:`input-group search-filter filter-${X}`}),this.containerInputGroupElm.appendChild(ot),this.containerInputGroupElm.appendChild(this.filterInputElm),this.divContainerFilterElm.appendChild(this.containerInputGroupElm),!this.filterParams.hideSliderNumber){this.containerInputGroupElm.classList.add("input-group"),this.filterInputElm.value=Ue;const it=Le("div",{className:"input-group-addon input-group-append slider-value"});this.filterNumberElm=Le("span",{className:`input-group-text ${this._elementRangeOutputId}`,textContent:Ue}),it.appendChild(this.filterNumberElm),this.containerInputGroupElm.appendChild(it)}if(this.divContainerFilterElm.dataset.columnid=`${X}`,this.operator){const it=Fl(this.operator);this.selectOperatorElm.value=it}return t&&this.divContainerFilterElm.classList.add("filled"),this.filterContainerElm.appendChild(this.divContainerFilterElm),this.divContainerFilterElm}handleInputChange(t){var e;const r=t?.target.value;null!=r&&(!this.filterParams.hideSliderNumber&&(null===(e=this.filterNumberElm)||void 0===e?void 0:e.textContent)&&(this.filterNumberElm.textContent=r),this.filterInputElm.title=r)}onTriggerEvent(t){var e;const r=this.filterInputElm.value;this._currentValue=+r,this._clearFilterTriggered?(this.filterElm.classList.remove("filled"),this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery})):(this.filterElm.classList.add("filled"),this.callback(t,{columnDef:this.columnDef,searchTerms:r?[r||"0"]:null,operator:this.selectOperatorElm.value||"",shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,null===(e=this.grid)||void 0===e||e.onHeaderMouseLeave.notify({column:this.columnDef,grid:this.grid})}},dateRange:class AB{constructor(t){this.translaterService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[],this._bindEventService=new xr}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get currentDates(){return this._currentDates}get defaultOperator(){return this.gridOptions.defaultFilterRangeOperator||Xt.rangeInclusive}get flatpickrOptions(){return this._flatpickrOptions||{}}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,this._filterElm=this.createDomElement(this.searchTerms),this._bindEventService.bind(this._filterDivInputElm,"keyup",this.onTriggerEvent.bind(this))}clear(t=!0){this.flatInstance&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this.flatInstance.input&&this.flatInstance.clear(),this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled"))}destroy(){var t,e,r,o;this._bindEventService.unbindAll(),!(null===(t=this.flatInstance)||void 0===t)&&t.destroy&&(this.flatInstance.destroy(),this.flatInstance.element&&Cf(this.flatInstance)),bn(this.filterContainerElm),bn(this._filterDivInputElm),null===(e=this._filterDivInputElm)||void 0===e||e.remove(),null===(r=this.filterContainerElm)||void 0===r||r.remove(),null===(o=this._filterElm)||void 0===o||o.remove(),this.grid=null}hide(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()}show(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()}getValues(){return this._currentDates}setValues(t,e){let r=[];"string"==typeof t||Array.isArray(t)&&"string"==typeof t[0]&&t[0].indexOf("..")>0?r="string"==typeof t?[t]:t[0].split(".."):Array.isArray(t)&&(r=t),this.flatInstance&&(this._currentDates=t&&r?r:void 0,this.flatInstance.setDate(this._currentDates||"")),(this.getValues()||[]).length>0&&t?(this._filterElm.classList.add("filled"),this._filterDivInputElm.classList.add("filled")):(this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled")),this.operator=e||this.defaultOperator}buildDatePickerInput(t){var e,r,o,s,a;const l=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"",u=kl(this.columnFilter.type||this.columnDef.type||"dateIso"),d=kl(this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||"dateUtc"),p=this.columnFilter&&this.columnFilter.filterOptions||{};let m=(null!==(o=p?.locale)&&void 0!==o?o:null===(a=null===(s=this.translaterService)||void 0===s?void 0:s.getCurrentLanguage)||void 0===a?void 0:a.call(s))||this.gridOptions.locale||"en";m.length>2&&(m=m.substring(0,2));let E=[];if("string"==typeof t||Array.isArray(t)&&"string"==typeof t[0]&&t[0].indexOf("..")>0?E="string"==typeof t?[t]:t[0].split(".."):Array.isArray(t)&&(E=t),E){this._currentDates=E;const X=$o(this.columnFilter.type||this.columnDef.type||"dateIso");this._currentDateStrings=E.map(J=>kT(J).format(X))}const P={defaultDate:E||"",altInput:!0,altFormat:d,dateFormat:u,mode:"range",wrap:!0,closeOnSelect:!0,locale:m,onChange:X=>{if(Array.isArray(X)){this._currentDates=X;const te=$o(this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||"dateIso");this._currentDateStrings=X.map(ne=>kT(ne).format(te)),this._currentValue=this._currentDateStrings.join("..")}const J=P.enableTime?new CustomEvent("keyup"):void 0;this.onTriggerEvent(J)},errorHandler:X=>{X.toString().includes("invalid locale")&&console.warn(`[Slickgrid-Universal] Flatpickr missing locale imports (${m}), will revert to English as the default locale.\n          See Flatpickr Localization for more info, for example if we want to use French, then we can import it with:  import 'flatpickr/dist/l10n/fr';`)}};d&&("Z"===d||d.toLowerCase().includes("h"))&&(P.enableTime=!0),this._flatpickrOptions={...P,...p};let H=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";this.columnFilter&&this.columnFilter.placeholder&&(H=this.columnFilter.placeholder);const U=Le("div",{className:`flatpickr search-filter filter-${l}`});return U.appendChild(Le("input",{type:"text",className:"form-control",placeholder:H,dataset:{input:""}})),this.flatInstance=xB(U,this._flatpickrOptions),U}createDomElement(t){var e,r;const o=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"";return bn(this.filterContainerElm),this._filterDivInputElm=this.buildDatePickerInput(t),this._filterDivInputElm.dataset.columnid=`${o}`,Array.isArray(t)&&t.length>0&&""!==t[0]&&(this._filterDivInputElm.classList.add("filled"),this._currentDates=t,this._currentValue=t[0]),this._filterDivInputElm&&this.filterContainerElm.appendChild(this._filterDivInputElm),this._filterDivInputElm}onTriggerEvent(t){this._clearFilterTriggered?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled")):(this._currentDateStrings?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled"),this.callback(t,{columnDef:this.columnDef,searchTerms:this._currentDateStrings?this._currentDateStrings:[this._currentValue],operator:this.operator||"",shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},input:gc,inputMask:class gU extends gc{constructor(){super(),this._inputMask="",this.inputType="text"}get inputMask(){return this._inputMask}init(t){var e,r,o,s;if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.params)&&void 0!==r&&r.mask?this._inputMask=this.columnDef.params.mask:!(null===(s=null===(o=this.columnFilter)||void 0===o?void 0:o.params)||void 0===s)&&s.mask&&(this._inputMask=this.columnFilter.params.mask),!this._inputMask)throw new Error("[Slickgrid-Universal] The Filters.inputMask requires the mask to be passed in the filter params or the column definition params\n        for example:: this.columnDefinitions: [{ id: 'phone', field: 'phone', filter: { model: Filters.inputMask, params: { mask: '000-000-0000' }}}]");const a=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(a),this._bindEventService.bind(this._filterElm,["keyup","blur","change"],this.handleInputChange.bind(this))}handleInputChange(t){var e,r,o;let s="";if(null!==(e=t?.target)&&void 0!==e&&e.value){let a=null!==(o=null===(r=t?.target)||void 0===r?void 0:r.value)&&void 0!==o?o:"";const l=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof a&&l&&(a=a.trim());const u=this.unmaskValue(a),d=this.maskValue(u);s=u,t?.keyCode>=48&&(this._filterElm.value=d,t.preventDefault())}this._clearFilterTriggered?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled")):(this._filterElm.classList.add("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[s],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}maskValue(t){let e=0,r="";return this._inputMask&&(r=this._inputMask.replace(/[09A]/gi,o=>(("0"===o||"9"===o)&&/\d+/g.test(t[e])||"A"===o.toUpperCase()&&/[^\d]+/gi.test(t[e]))&&t[e++]||"")),r}unmaskValue(t){const e=t.replace(/[^0-9a-z]*/gi,""),r=this._inputMask.replace(/[^0-9a-z]*/gi,"");let o="";for(let s=0;s<r.length;s++)e[s]&&(("0"===r[s]||"9"===r[s])&&/\d+/g.test(e[s])||"A"===r[s].toUpperCase()&&/[^\d]+/gi.test(e[s]))&&(o+=e[s]);return o}},inputNumber:class mU extends gc{constructor(){super(),this.inputType="number"}},inputPassword:class vU extends gc{constructor(){super(),this.inputType="password"}},inputText:gc,multipleSelect:class _U extends nx{constructor(t,e,r){super(t,e,r,!0),this.translaterService=t,this.collectionService=e,this.rxjs=r}},select:class CU{constructor(t){this.translater=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._currentValues=[],this.searchTerms=[],this._bindEventService=new xr}get columnFilter(){var t,e;return null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)&&void 0!==e?e:{}}get defaultOperator(){return Xt.equal}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,!(this.grid&&this.columnDef&&this.columnFilter&&this.columnFilter.collection))throw new Error('[Slickgrid-Universal] You need to pass a "collection" for the Native Select Filter to work correctly.');if(this.columnFilter.enableTranslateLabel&&!this.gridOptions.enableTranslate&&(!this.translater||"function"!=typeof this.translater.translate))throw new Error('The I18N Service is required for the Native Select Filter to work correctly when "enableTranslateLabel" is set.');let e=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";("boolean"==typeof e||"number"==typeof e)&&(e=`${e??""}`),this.filterElm=this.createDomElement(e),this._bindEventService.bind(this.filterElm,"change",this.handleOnChange.bind(this))}clear(t=!0){this.filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[],this._currentValues=[],this.filterElm.value="",this.filterElm.classList.remove("filled"),this.filterElm.dispatchEvent(new Event("change")))}destroy(){var t,e;this._bindEventService.unbindAll(),null===(e=null===(t=this.filterElm)||void 0===t?void 0:t.remove)||void 0===e||e.call(t)}getValues(){return this._currentValues||[]}setValues(t,e){var r;Array.isArray(t)?(this.filterElm.value=`${null!==(r=t[0])&&void 0!==r?r:""}`,this._currentValues=t):t&&(this.filterElm.value=`${t??""}`,this._currentValues=[t]),this.getValues().length>0?this.filterElm.classList.add("filled"):this.filterElm.classList.remove("filled"),this.operator=e||this.defaultOperator}buildFilterSelectFromCollection(t){var e,r,o,s,a,l,u,d,p,m,E,P;const H=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"",U=Le("select",{className:`form-control search-filter filter-${H}`});U.setAttribute("aria-label",null!==(s=null===(o=this.columnFilter)||void 0===o?void 0:o.ariaLabel)&&void 0!==s?s:`${is(H+"")} Search Filter`);const X=null!==(l=null===(a=this.columnFilter.customStructure)||void 0===a?void 0:a.label)&&void 0!==l?l:"label",J=null!==(d=null===(u=this.columnFilter.customStructure)||void 0===u?void 0:u.value)&&void 0!==d?d:"value",te=null!==(m=null===(p=this.columnFilter)||void 0===p?void 0:p.enableTranslateLabel)&&void 0!==m&&m;if(t.every(ne=>"string"==typeof ne))for(const ne of t)U.appendChild(Le("option",{value:ne,label:ne,textContent:ne}));else for(const ne of t){if(!ne||void 0===ne[X]&&void 0===ne.labelKey)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Native Select Filter list, for example:: { filter: model: Filters.select, collection: [ { value: '1', label: 'One' } ]')");const De=ne.labelKey||ne[X],xe=(ne.labelKey||te)&&void 0!==typeof this.translater&&(null===(P=(E=this.translater).getCurrentLanguage)||void 0===P?void 0:P.call(E))?this.translater.translate(De||" "):De;U.appendChild(Le("option",{value:ne[J],textContent:xe}))}return U}createDomElement(t){var e,r,o,s;const a=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"";bn(this.filterContainerElm);const l=t||"",u=null!==(s=null===(o=this.columnFilter)||void 0===o?void 0:o.collection)&&void 0!==s?s:[];if(!Array.isArray(u))throw new Error('The "collection" passed to the Native Select Filter is not a valid array.');const d=this.buildFilterSelectFromCollection(u);return d.value=l,d.dataset.columnid=`${a||""}`,l&&(this._currentValues=[l]),this.filterContainerElm.appendChild(d),d}handleOnChange(t){const e=t&&t.target&&t.target.value||"";this._currentValues=[e],this._clearFilterTriggered?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.filterElm.classList.remove("filled")):(""===e?this.filterElm.classList.remove("filled"):this.filterElm.classList.add("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[e],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},singleSelect:class yU extends nx{constructor(t,e,r){super(t,e,r,!1),this.translaterService=t,this.collectionService=e,this.rxjs=r}},slider:class EU{constructor(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._elementRangeInputId="",this._elementRangeOutputId="",this.searchTerms=[],this._bindEventService=new xr}get columnFilter(){var t,e;return null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)&&void 0!==e?e:{}}get defaultOperator(){return Xt.equal}get filterParams(){var t,e,r;return null!==(r=null===(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)||void 0===e?void 0:e.params)&&void 0!==r?r:{}}get filterProperties(){var t,e;return null!==(e=null===(t=this.columnDef)||void 0===t?void 0:t.filter)&&void 0!==e?e:{}}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,this._elementRangeInputId=`rangeInput_${this.columnDef.field}`,this._elementRangeOutputId=`rangeOutput_${this.columnDef.field}`;const e=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.filterElm=this.createDomElement(e),this._bindEventService.bind(this.filterInputElm,["change","mouseup","touchend"],this.handleOnChange.bind(this)),this._bindEventService.bind(this.filterInputElm,["input","change"],this.handleInputChange.bind(this))}clear(t=!0){var e,r;if(this.filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[];const o=null!==(r=null===(e=this.filterParams)||void 0===e?void 0:e.sliderStartValue)&&void 0!==r?r:0;this._currentValue=+o,this.filterInputElm.value=o,this.filterNumberElm&&(this.filterNumberElm.textContent=o),this.divContainerFilterElm.classList.remove("filled"),this.filterElm.classList.remove("filled"),this.filterInputElm.dispatchEvent(new Event("change"))}}destroy(){var t,e;this._bindEventService.unbindAll(),bn(this.filterElm),null===(e=null===(t=this.filterElm)||void 0===t?void 0:t.remove)||void 0===e||e.call(t)}getValues(){return this._currentValue}setValues(t,e){Array.isArray(t)?(this.filterInputElm.value=`${t[0]}`,this.filterNumberElm&&(this.filterNumberElm.textContent=`${t[0]}`),this._currentValue=+t[0]):lc(t)?(this.filterInputElm.value=`${t??""}`,this._currentValue=+t):(this._currentValue=void 0,this.filterInputElm.value=""),void 0!==this.getValues()?(this.divContainerFilterElm.classList.add("filled"),this.filterElm.classList.add("filled")):(this.divContainerFilterElm.classList.remove("filled"),this.filterElm.classList.remove("filled")),this.operator=e||this.defaultOperator}createDomElement(t){var e,r,o,s,a,l,u,d,p,m,E,P,H,U;const X=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"",J=null!==(s=null===(o=this.filterProperties)||void 0===o?void 0:o.minValue)&&void 0!==s?s:0,te=null!==(l=null===(a=this.filterProperties)||void 0===a?void 0:a.maxValue)&&void 0!==l?l:100,ne=null!==(d=null===(u=this.filterParams)||void 0===u?void 0:u.sliderStartValue)&&void 0!==d?d:J,De=null!==(m=null===(p=this.filterProperties)||void 0===p?void 0:p.valueStep)&&void 0!==m?m:1,xe=+(null!==(P=null===(E=this.filterParams)||void 0===E?void 0:E.sliderStartValue)&&void 0!==P?P:J);bn(this.filterContainerElm);let Ue=t||"0";if(+Ue<J&&(Ue=`${J}`),+Ue<xe&&(Ue=`${xe}`),this._currentValue=+Ue,this.filterInputElm=Le("input",{type:"range",name:this._elementRangeInputId,className:`form-control slider-filter-input range ${this._elementRangeInputId}`,defaultValue:ne,value:Ue,title:Ue,min:`${J}`,max:`${te}`,step:`${De}`}),this.filterInputElm.setAttribute("aria-label",null!==(U=null===(H=this.columnFilter)||void 0===H?void 0:H.ariaLabel)&&void 0!==U?U:`${is(X+"")} Search Filter`),this.divContainerFilterElm=Le("div",{className:`search-filter slider-container filter-${X}`}),this.divContainerFilterElm.appendChild(this.filterInputElm),!this.filterParams.hideSliderNumber){this.divContainerFilterElm.classList.add("input-group"),this.filterInputElm.value=Ue;const ot=Le("div",{className:"input-group-addon input-group-append slider-value"});this.filterNumberElm=Le("span",{className:`input-group-text ${this._elementRangeOutputId}`,textContent:Ue}),ot.appendChild(this.filterNumberElm),this.divContainerFilterElm.appendChild(ot)}return this.divContainerFilterElm.dataset.columnid=`${X}`,t&&this.divContainerFilterElm.classList.add("filled"),this.filterContainerElm.appendChild(this.divContainerFilterElm),this.divContainerFilterElm}handleInputChange(t){var e;const r=t?.target.value;null!=r&&(!this.filterParams.hideSliderNumber&&(null===(e=this.filterNumberElm)||void 0===e?void 0:e.textContent)&&(this.filterNumberElm.textContent=r),this.filterInputElm.title=r)}handleOnChange(t){var e,r,o;const s=null!==(r=null===(e=t?.target)||void 0===e?void 0:e.value)&&void 0!==r?r:"";this._currentValue=+s,this._clearFilterTriggered?(this.filterElm.classList.remove("filled"),this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,searchTerms:[],shouldTriggerQuery:this._shouldTriggerQuery})):(this.filterElm.classList.add("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:[s||"0"],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,null===(o=this.grid)||void 0===o||o.onHeaderMouseLeave.notify({column:this.columnDef,grid:this.grid})}},sliderRange:class DU{constructor(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[]}get filterParams(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}}get filterProperties(){return this.columnDef&&this.columnDef.filter||{}}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get currentValues(){return this._currentValues}get defaultOperator(){return this.gridOptions.defaultFilterRangeOperator||Xt.rangeInclusive}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get sliderOptions(){return this._sliderOptions||{}}get operator(){var t,e;return null!==(e=null===(t=this.columnFilter)||void 0===t?void 0:t.operator)&&void 0!==e?e:this.defaultOperator}set operator(t){this.columnFilter&&(this.columnFilter.operator=t)}init(t){if(!t)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=(t.hasOwnProperty("searchTerms")?t.searchTerms:[])||[],this.filterContainerElm=t.filterContainerElm,this.$filterElm=this.createDomElement(this.searchTerms)}clear(t=!0){if(this.$filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=t,this.searchTerms=[];const e=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0,r=this.filterParams.hasOwnProperty("sliderEndValue")?this.filterParams.sliderEndValue:100;this._currentValues=[e,r],this.$filterElm.slider("values",[e,r]),this.filterParams.hideSliderNumbers||this.renderSliderValues(e,r),this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:t}),this.$filterContainerElm.removeClass("filled")}}destroy(){this.$filterElm&&(this.$filterElm.off("change").remove(),this.$filterContainerElm.remove()),this.$filterElm=null,this.$filterContainerElm=null}renderSliderValues(t,e){var r,o,s,a;const l=null!==(o=null===(r=this.columnDef)||void 0===r?void 0:r.id)&&void 0!==o?o:"",u=null===(s=this.$filterContainerElm.get(0))||void 0===s?void 0:s.querySelector(`.lowest-range-${l}`),d=null===(a=this.$filterContainerElm.get(0))||void 0===a?void 0:a.querySelector(`.highest-range-${l}`);u?.textContent&&(u.textContent=t.toString()),d?.textContent&&(d.textContent=e.toString())}getValues(){return this._currentValues}setValues(t,e){var r,o;if(t){let s=[];"string"==typeof t||Array.isArray(t)&&"string"==typeof t[0]&&t[0].indexOf("..")>0?s="string"==typeof t?[t]:t[0].split(".."):Array.isArray(t)&&(s=t),Array.isArray(s)&&2===s.length&&(this.$filterElm.slider("values",s),this.filterParams.hideSliderNumbers||this.renderSliderValues(s[0],s[1]))}t&&(null!==(o=null===(r=this.getValues)||void 0===r?void 0:r.call(this))&&void 0!==o?o:[]).length>0?this.$filterContainerElm.addClass("filled"):this.$filterContainerElm.removeClass("filled"),this.operator=e||this.defaultOperator}createDomElement(t){var e,r;if(this.columnFilter&&this.columnFilter.filterOptions&&(this.columnFilter.filterOptions.change||this.columnFilter.filterOptions.slide))throw new Error('[Slickgrid-Universal] You cannot override the "change" and/or the "slide" callback methods\n        since they are used in SliderRange Filter itself, however any other methods can be used for example the "create", "start", "stop" methods.');const o=null!==(r=null===(e=this.columnDef)||void 0===e?void 0:e.id)&&void 0!==r?r:"",s=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,a=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,l=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;let u=0,d=100;Array.isArray(t)&&t.length>1?(u=+t[0],d=+t[1]):(u=+(this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:s),d=+(this.filterParams.hasOwnProperty("sliderEndValue")?this.filterParams.sliderEndValue:a)),$(this.filterContainerElm).empty();const p=$(`\n    <div class="input-group-addon input-group-prepend slider-range-value">\n      <span class="input-group-text lowest-range-${o}">${u}</span>\n    </div>`),m=$(`\n    <div class="input-group-addon input-group-append slider-range-value">\n      <span class="input-group-text highest-range-${o}">${d}</span>\n    </div>`);return this.$filterElm=$(`<div class="filter-input filter-${o}"></div>`),this.$filterContainerElm=$(`<div class="input-group form-control search-filter slider-range-container slider-values filter-${o}">`),this.filterParams.hideSliderNumbers?this.$filterContainerElm.append(this.$filterElm):(this.$filterContainerElm.append(p),this.$filterContainerElm.append(this.$filterElm),this.$filterContainerElm.append(m)),this._currentValues=[u,d],this._sliderOptions={range:!0,min:+(s||0),max:+(a||100),step:+(l||1),values:[u,d],change:(P,H)=>this.onValueChanged(P,H),slide:(P,H)=>{const U=H.values;!this.filterParams.hideSliderNumbers&&Array.isArray(U)&&this.renderSliderValues(U[0],U[1])},...this.columnFilter.filterOptions},this.$filterElm.slider(this._sliderOptions),Array.isArray(t)&&t.length>0&&""!==t[0]&&this.$filterContainerElm.addClass("filled"),this.$filterContainerElm&&"function"==typeof this.$filterContainerElm.appendTo&&this.$filterContainerElm.appendTo(this.filterContainerElm),this.$filterElm}onValueChanged(t,e){const r=e&&Array.isArray(e.values)?e.values:[],o=r.join("..");this._clearFilterTriggered?(this.callback(t,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterContainerElm.removeClass("filled")):(""===o?this.$filterContainerElm.removeClass("filled"):this.$filterContainerElm.addClass("filled"),this.callback(t,{columnDef:this.columnDef,operator:this.operator,searchTerms:r,shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}}};class TU{constructor(t,e,r,o){var s,a;this.config=t,this.translaterService=e,this.collectionService=r,this.rxjs=o,this._options=null!==(a=null===(s=this.config)||void 0===s?void 0:s.options)&&void 0!==a?a:{}}addRxJsResource(t){this.rxjs=t}createFilter(t){let e;return t?.model&&(e="function"==typeof t.model?new t.model(this.translaterService,this.collectionService,this.rxjs):t.model),!e&&this._options.defaultFilter&&(e=new this._options.defaultFilter(this.translaterService,this.collectionService,this.rxjs)),e}}const xU={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoFixResizeTimeout:1500,autoFixResizeRequiredGoodCount:2,autoFixResizeWhenBrokenStyleDetected:!1,autoResize:{applyResizeToContainer:!0,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:180,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel",width:40},columnGroupSeparator:" - ",columnPicker:{fadeSpeed:0,hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:sx},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1,showBulletWhenIconMissing:!0},compositeEditorOptions:{labels:{cancelButtonKey:"CANCEL",cloneButtonKey:"CLONE",resetEditorButtonTooltipKey:"RESET_INPUT_VALUE",resetFormButtonKey:"RESET_FORM",massSelectionButtonKey:"APPLY_TO_SELECTION",massSelectionStatusKey:"X_OF_Y_MASS_SELECTED",massUpdateButtonKey:"APPLY_MASS_UPDATE",massUpdateStatusKey:"ALL_X_RECORDS_SELECTED",saveButtonKey:"SAVE"}},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCollapseAllGroupsCommand:"fa fa-compress mdi mdi-arrow-collapse",iconExpandAllGroupsCommand:"fa fa-expand mdi mdi-arrow-expand",iconClearGroupingCommand:"fa fa-times mdi mdi-close",iconCopyCellValueCommand:"fa fa-clone mdi mdi-content-copy",iconExportCsvCommand:"fa fa-download mdi mdi-download",iconExportExcelCommand:"fa fa-file-excel-o mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"fa fa-download mdi mdi-download",showBulletWhenIconMissing:!0},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{itemsKey:"ITEMS",ofKey:"OF",itemsSelectedKey:"ITEMS_SELECTED"}},customTooltip:{tooltipTextMaxLength:700,maxWidth:500},dataView:{syncGridSelection:!0,syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:ox.input,defaultBackendServiceFilterTypingDebounce:500,enableFilterTrimWhiteSpace:!1,defaultFilterPlaceholder:"\u{1f50e}\ufe0e",defaultFilterRangeOperator:Xt.rangeInclusive,defaultColumnSortFieldId:"id",defaultComponentEventPrefix:"",defaultSlickgridEventPrefix:"",draggableGrouping:{hideToggleAllButton:!1,toggleAllButtonText:"",dropPlaceHolderTextKey:"DROP_COLUMN_HEADER_TO_GROUP_BY"},editable:!1,editorTypingDebounce:450,filterTypingDebounce:0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!1,enableTextExport:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,exportWithFormatter:!1,filename:"export",format:Hs.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2b9e",groupExpandedSymbol:"\u2b9f",groupingAggregatorRowText:"",sanitizeDataExport:!1},textExportOptions:{delimiter:Ma.comma,exportWithFormatter:!1,filename:"export",format:Hs.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},gridAutosizeColsMode:ff.none,eventNamingStyle:ws.lowerCase,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:1,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars mdi mdi-menu",iconClearAllFiltersCommand:"fa fa-filter mdi mdi-filter-remove-outline",iconClearAllSortingCommand:"fa fa-unsorted mdi mdi-swap-vertical",iconClearFrozenColumnsCommand:"fa fa-times mdi mdi-pin-off-outline",iconExportCsvCommand:"fa fa-download mdi mdi-download",iconExportExcelCommand:"fa fa-file-excel-o mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"fa fa-download mdi mdi-download",iconRefreshDatasetCommand:"fa fa-refresh mdi mdi-sync",iconToggleFilterCommand:"fa fa-random mdi mdi-flip-vertical",iconTogglePreHeaderCommand:"fa fa-random mdi mdi-flip-vertical",menuWidth:16,resizeOnShowHeaderRow:!0,showBulletWhenIconMissing:!0,headerColumnValueExtractor:sx},headerMenu:{autoAlign:!0,autoAlignOffset:4,minWidth:140,iconClearFilterCommand:"fa fa-filter mdi mdi mdi-filter-remove-outline",iconClearSortCommand:"fa fa-unsorted mdi mdi-swap-vertical",iconFreezeColumns:"fa fa-thumb-tack mdi mdi-pin-outline",iconSortAscCommand:"fa fa-sort-amount-asc mdi mdi-flip-v mdi-sort-ascending",iconSortDescCommand:"fa fa-sort-amount-desc mdi mdi-flip-v mdi-sort-descending",iconColumnHideCommand:"fa fa-times mdi mdi-close",iconColumnResizeByContentCommand:"fa fa-arrows-h mdi mdi-arrow-expand-horizontal",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1},ignoreAccentOnStringFilterAndSort:!1,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},headerRowHeight:35,rowHeight:35,topPanelHeight:30,translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\xb7"}};function sx(i,t){var e,r;const o=i?.columnGroup||"",s=null!==(e=t?.columnGroupSeparator)&&void 0!==e?e:" - ";return o?o+s+i.name:null!==(r=i?.name)&&void 0!==r?r:""}Pl();const Lf=(i,t,e)=>{if(e&&Array.isArray(e)&&e.length>0){const r=e.join(", ");return`<span title="${r}">${r}</span>`}return e},dx=(i,t,e)=>{let r=e;return null==e&&(r=""),`<center>${r}</center>`},cx=(i,t,e,r,o)=>{var s,a,l;if(!r)return"";const u=r.params||{},d=null!==(a=null!==(s=u?.complexField)&&void 0!==s?s:u?.complexFieldLabel)&&void 0!==a?a:r.field;if(!d)throw new Error("For the Formatters.complexObject to work properly, you need to tell it which property of the complex object to use.\n      There are 3 ways to provide it:\n      1- via the generic \"params\" with a \"complexField\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', params: { complexField: 'user.firstName' } }]\n      2- via the generic \"params\" with a \"complexField\" and a \"labelKey\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', labelKey: 'firstName', params: { complexField: 'user' } }]\n      3- via the field name that includes a dot notation, example: this.columnDefs = [{ id: 'user', field: 'user.firstName'}] ");if(r.labelKey&&o.hasOwnProperty(d))return null===(l=o[d])||void 0===l?void 0:l[r.labelKey];if("string"==typeof d&&d.indexOf(".")>0){let p=d.split(".").reduce((m,E)=>m?.hasOwnProperty(E)?m[E]:"",o);return(null==p||"object"==typeof p&&0===Object.entries(p).length&&!(p instanceof Date))&&(p=""),p}return e},M2={alignCenter:dx,alignRight:(i,t,e)=>{let r=e;return null==e&&(r=""),`<div style="float: right">${r}</div>`},arrayObjectToCsv:(i,t,e,r,o)=>{var s;const a=r&&r.params||{},l=a.propertyNames,u=null===(s=a?.includeTitle)||void 0===s||s;let d=a.dataContextProperty;if(d||(d=r&&r.field&&r.field.split(".")[0]),!l||!Array.isArray(l)||!d)throw new Error('Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.\n      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: [\'firtName\'] }}.\n      Optionally, you can also pass the "dataContextProperty" if you wish to run this on another completely different field of the dataContext object.');if(o[d]&&Array.isArray(o[d])&&Array.isArray(o[d])&&o[d].length>0){const p=[];o[d].forEach(E=>{const P=[];l.forEach(H=>{P.push(E[H])}),p.push(P.join(" "))});const m=p.join(", ");return u?`<span title="${m}">${m}</span>`:m}return e},arrayToCsv:Lf,bold:(i,t,e)=>e?`<b>${e}</b>`:"",center:dx,checkbox:(i,t,e)=>e?"&#x2611;":"",checkmark:(i,t,e)=>{let r=!1;const o=uo(e);return o&&(e=+e),(!0===e||o&&+e>0||"string"==typeof e&&e.length>0&&"false"!==e.toLowerCase()&&"0"!==e)&&(r=!0),r?'<i class="fa fa-check checkmark-icon" aria-hidden="true"></i>':""},checkmarkMaterial:(i,t,e)=>{let r=!1;const o=uo(e);return o&&(e=+e),(!0===e||o&&+e>0||"string"==typeof e&&e.length>0&&"false"!==e.toLowerCase()&&"0"!==e)&&(r=!0),r?'<i class="mdi mdi-18px mdi-check checkmark-icon" aria-hidden="true"></i>':""},complex:cx,complexObject:cx,collection:(i,t,e,r,o,s)=>{if(!(e&&r&&r.params&&r.params.collection&&r.params.collection.length))return e;const{params:a,params:{collection:l}}=r,u=a.customStructure?a.customStructure.label:"label",d=a.customStructure?a.customStructure.value:"value";return Array.isArray(e)?Lf(0,0,e.map(p=>Fa(l,m=>m[d]===p)[u])):Fa(l,p=>p[d]===e)[u]||""},collectionEditor:(i,t,e,r,o,s)=>{if(!(e&&r&&r.internalColumnEditor&&r.internalColumnEditor.collection&&r.internalColumnEditor.collection.length))return e;const{internalColumnEditor:a,internalColumnEditor:{collection:l}}=r,u=a.customStructure?a.customStructure.label:"label",d=a.customStructure?a.customStructure.value:"value";return Array.isArray(e)?l.every(p=>"string"==typeof p)?Lf(0,0,e.map(p=>Fa(l,m=>m===p))):Lf(0,0,e.map(p=>Fa(l,m=>m[d]===p)[u])):Fa(l,p=>p[d]===e)[u]||""},dateIso:Es("dateIso","-"),dateTimeIso:Es("dateTimeIso","-"),dateTimeShortIso:Es("dateTimeShortIso","-"),dateTimeIsoAmPm:Es("dateTimeIsoAmPm","-"),dateEuro:Es("dateEuro","/"),dateTimeEuro:Es("dateTimeEuro","/"),dateTimeShortEuro:Es("dateTimeShortEuro","/"),dateTimeEuroAmPm:Es("dateTimeEuroAmPm","/"),dateUs:Es("dateUs","/"),dateTimeUs:Es("dateTimeUs","/"),dateTimeShortUs:Es("dateTimeShortUs","/"),dateTimeUsAmPm:Es("dateTimeUsAmPm","/"),deleteIcon:()=>'<i class="fa fa-trash pointer delete-icon" aria-hidden="true"></i>',decimal:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s,2),l=lt("maxDecimal",r,s,2),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("numberPrefix",r,s,""),m=lt("numberSuffix",r,s,""),E=lt("displayNegativeNumberWithParentheses",r,s,!1);return uo(e)?Lr(e,a,l,E,p,m,u,d):e},dollar:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s,2),l=lt("maxDecimal",r,s,4),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("displayNegativeNumberWithParentheses",r,s,!1);return uo(e)?Lr(e,a,l,p,"$","",u,d):e},dollarColored:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s,2),l=lt("maxDecimal",r,s,4),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("displayNegativeNumberWithParentheses",r,s,!1);return uo(e)?`<span style="color:${e>=0?"green":"red"}">${Lr(e,a,l,p,"$","",u,d)}</span>`:e},dollarColoredBold:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s,2),l=lt("maxDecimal",r,s,4),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("displayNegativeNumberWithParentheses",r,s,!1);return uo(e)?`<span style="color:${e>=0?"green":"red"}; font-weight:bold;">${Lr(e,a,l,p,"$","",u,d)}</span>`:e},editIcon:()=>'<i class="fa fa-pencil pointer edit-icon" aria-hidden="true"></i>',fakeHyperlink:(i,t,e)=>e?`<span class="fake-hyperlink">${e}</span>`:"",hyperlink:(i,t,e,r,o,s)=>{const a=r&&r.params||{},l=s&&"function"==typeof s.getOptions?s.getOptions():{};let u=a.hyperlinkText?a.hyperlinkText:e;u=ns(l,u);let d=a.hyperlinkUrl?a.hyperlinkUrl:e;d=ns(l,d);const p=d.match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i);return p&&Array.isArray(p)&&p.length>0?`<a href="${p[0]}">${u}</a>`:e},icon:(i,t,e,r)=>{const o=r&&r.params||{},s=o.icon||o.formatterIcon;if(!s)throw new Error('You must provide the "icon" or "formatterIcon" via the generic "params" options (e.g.: { formatter: Formatters.icon, params: { formatterIcon: \'fa fa-search\' }}');return`<i class="${s}" aria-hidden="true"></i>`},infoIcon:()=>'<i class="fa fa-info-circle pointer info-icon" aria-hidden="true"></i>',italic:(i,t,e)=>e?`<i>${e}</i>`:"",lowercase:(i,t,e)=>(void 0!==e&&"string"!=typeof e&&(e+=""),e?e.toLowerCase():""),mask:(i,t,e,r)=>{const s=(r.params||{}).mask;if(!s)throw new Error('You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: \'000-000\' }}');if(e){let a=0;const l=e.toString();return s.replace(/[09A]/gi,()=>l[a++]||"")}return e},multiple:Af,percent:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s),l=lt("maxDecimal",r,s),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("displayNegativeNumberWithParentheses",r,s,!1);return uo(e)?Lr(100*e,a,l,p,"","%",u,d):e},percentComplete:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s),l=lt("maxDecimal",r,s),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("displayNegativeNumberWithParentheses",r,s,!1);if(uo(e)){const m=e<50?"red":"green",E=Lr(e,a,l,p,"","%",u,d);return`<span style="color:${m}">${e>100?"100%":E}</span>`}return e},percentCompleteBar:(i,t,e)=>{if(!uo(e))return"";let r="",o=parseFloat(e);return o>100&&(o=100),r=o<30?"red":o<70?"silver":"green",`<span class="percent-complete-bar" title="${o}%" style="background:${r}; width:${o}%"></span>`},percentCompleteBarWithText:(i,t,e)=>{if(!uo(e))return"";let r="",o=parseFloat(e);return o>100&&(o=100),r=o<30?"red":o<70?"silver":"green",`<div class="percent-complete-bar-with-text" title="${o}%" style="background:${r}; width:${o}%">${o}%</div>`},percentSymbol:(i,t,e,r,o,s)=>{const a=lt("minDecimal",r,s),l=lt("maxDecimal",r,s),u=lt("decimalSeparator",r,s,"."),d=lt("thousandSeparator",r,s,""),p=lt("displayNegativeNumberWithParentheses",r,s,!1);return uo(e)?Lr(e,a,l,p,"","%",u,d):e},progressBar:(i,t,e)=>{if(!uo(e))return"";let r="",o=parseFloat(e);return o>100&&(o=100),r=o<30?"danger":o<70?"warning":"success",`<div class="progress">\n    <div class="progress-bar progress-bar-${r} bg-${r}" role="progressbar" aria-valuenow="${o}" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: ${o}%;">\n    ${o}%\n    </div>\n  </div>`.replace(/\s{2,}/g," ").trim()},translate:(i,t,e,r,o,s)=>{const l=(s&&"function"==typeof s.getOptions?s.getOptions():{}).translater||r&&r.params&&r.params.translater;if(!l||"function"!=typeof l.translate)throw new Error('"Formatters.translate" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).\n    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }');return null!=e&&"string"!=typeof e&&(e+=""),e?l.translate(e):""},translateBoolean:(i,t,e,r,o,s)=>{const l=(s&&"function"==typeof s.getOptions?s.getOptions():{}).translater||r&&r.params&&r.params.translater;if(!l||"function"!=typeof l.translate)throw new Error('"Formatters.translateBoolean" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).\n    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }');return null!=e&&"string"!=typeof e&&(e+=""),e?l.translate(e.toUpperCase()):""},tree:(i,t,e,r,o,s)=>{var a,l,u,d,p;const m=s.getOptions(),E=m?.treeDataOptions,P=null!==(a=E?.indentMarginLeft)&&void 0!==a?a:15,H=null!==(l=E?.collapsedPropName)&&void 0!==l?l:zt.treeDataProperties.COLLAPSED_PROP,U=null!==(u=E?.hasChildrenPropName)&&void 0!==u?u:zt.treeDataProperties.HAS_CHILDREN_PROP,X=null!==(d=E?.levelPropName)&&void 0!==d?d:zt.treeDataProperties.TREE_LEVEL_PROP;let J=e;if(J=rc(r,o,e),null==J||void 0===o)return"";if(!o.hasOwnProperty(X))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');const te=null!==(p=o?.[X])&&void 0!==p?p:0,ne=`<span style="display:inline-block; width:${P*te}px;"></span>`,De=`slick-tree-level-${te}`;let xe="";o[U]&&(xe=o?.[H]?"collapsed":"expanded"),E?.titleFormatter&&(J=Of(E.titleFormatter,i,t,r,o,s));const Ue=ns(m,J,{ADD_ATTR:["target"]});return{addClasses:De,text:`${ne}<span class="${`slick-group-toggle ${xe}`.trim()}" aria-expanded="${"expanded"===xe}"></span><span class="slick-tree-title" level="${te}">${Ue}</span>`}},treeExport:(i,t,e,r,o,s)=>{var a,l,u,d,p,m,E,P,H,U,X;const J=s.getOptions(),te=J?.treeDataOptions,ne=null!==(a=te?.collapsedPropName)&&void 0!==a?a:zt.treeDataProperties.COLLAPSED_PROP,De=null!==(l=te?.hasChildrenPropName)&&void 0!==l?l:zt.treeDataProperties.HAS_CHILDREN_PROP,xe=null!==(u=te?.levelPropName)&&void 0!==u?u:zt.treeDataProperties.TREE_LEVEL_PROP,Ue=null!==(d=te?.exportIndentMarginLeft)&&void 0!==d?d:5,ot=null!==(p=te?.exportIndentationLeadingChar)&&void 0!==p?p:".",it=null!==(m=te?.exportIndentationLeadingSpaceCount)&&void 0!==m?m:3,Wt=null!==(P=null===(E=J?.excelExportOptions)||void 0===E?void 0:E.groupCollapsedSymbol)&&void 0!==P?P:"\u2b9e",Jt=null!==(U=null===(H=J?.excelExportOptions)||void 0===H?void 0:H.groupExpandedSymbol)&&void 0!==U?U:"\u2b9f";let Kt=e;if(Kt=rc(r,o,e),null==Kt||void 0===o)return"";if(!o.hasOwnProperty(xe))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');const $i=null!==(X=o?.[xe])&&void 0!==X?X:0;let cn="",En=0;o[De]?(cn=o?.[ne]?Wt:Jt,En=0===$i?0:Ue*$i):En=Ue*(0===$i?0:$i+1);const Cn=Yv(En);return te?.titleFormatter&&(Kt=Of(te.titleFormatter,i,t,r,o,s)),Kt=`${0===$i&&cn?"":0===$i?`${ot}${Yv(it)}`:ot}${Cn}${cn} ${Kt}`,hc(Kt)},uppercase:(i,t,e)=>(void 0!==e&&"string"!=typeof e&&(e+=""),e?e.toUpperCase():""),yesNo:(i,t,e)=>e?"Yes":"No"};class P2{constructor(){this.options=xU}}let k2=(()=>{class i{constructor(){this.items=[]}load(){const e=A(1870);try{const r=e.load(this.mockData());console.log(r);const o=r.Gift;this.items=Object.keys(o).map(s=>({id:s,name:o[s].Name,like:o[s].Likes,dislike:o[s].Dislikes,hide:o[s].Hide??!1}))}catch(r){console.log(r)}}searchUnitItem(e){console.log(`Method: searchUnitItem, Begin, Param[ id => ${e}]`);const r={};return this.items.forEach(o=>{o.like.some(s=>s==e)&&Object.assign(r,{[o.id]:"\u25cb"}),o.dislike.some(s=>s==e)&&Object.assign(r,{[o.id]:"\xd7"})}),r}mockData(){return"\nGift:\n  IM10101:\n    Name: \u7f8e\u3057\u3044\u5207\u308a\u82b1\n    Likes:\n      - 202\n      - 302\n      - 306\n      - 406\n    Dislikes:\n      - 105\n      - 107\n      - 205\n  IM10102:\n    Name: \u7f8e\u5473\u3057\u3044\u713c\u304d\u83d3\u5b50\n    Likes:\n      - 104\n      - 204\n      - 206\n      - 303\n      - 305\n      - 402\n      - 501\n      - 503\n      - 506\n    Dislikes:\n      - 405\n  IM10103:\n    Name: \u71fb\u88fd\u8089\n    Likes:\n      - 105\n      - 108\n      - 203\n      - 208\n      - 303\n      - 409\n      - 506\n    Dislikes:\n      - 306\n      - 404\n      - 502\n  IM10304:\n    Name: \u3058\u3087\u3046\u308d\n    Likes:\n      - 106\n      - 202\n      - 409\n    Dislikes:\n      - 205\n      - 302\n      - 504\n  IM10305:\n    Name: \u7d20\u6575\u306a\u30cf\u30f3\u30ab\u30c1\n    Likes:\n      - 106\n      - 205\n      - 306\n      - 307\n      - 401\n      - 402\n      - 403\n    Dislikes:\n      - 405\n  IM10506:\n    Name: \u30af\u30de\u306e\u4eba\u5f62\n    Likes:\n      - 101\n      - 106\n      - 206\n      - 305\n      - 306\n      - 307\n      - 402\n    Dislikes:\n      - 201\n      - 203\n      - 302\n      - 407\n      - 504\n  IM10507:\n    Name: \u4e57\u99ac\u7528\u306e\u9774\n    Likes:\n      - 103\n      - 201\n      - 208\n      - 301\n    Dislikes:\n      - 206\n      - 404\n      - 503\n  IM10508:\n    Name: \u9a0e\u58eb\u9053\u7269\u8a9e\n    Likes:\n      - 204\n      - 208\n      - 407\n    Dislikes:\n      - 102\n      - 203\n      - 305\n      - 307\n      - 401\n      - 409\n      - 506\n  IM10509:\n    Name: \u6728\u5f6b\u308a\u306e\u5973\u795e\u50cf\n    Likes:\n      - 206\n      - 304\n      - 404\n      - 405\n      - 410\n      - 502\n      - 503\n    Dislikes:\n      - 101\n      - 107\n  IM11010:\n    Name: \u98fe\u308a\u5263\n    Likes:\n      - 201\n      - 203\n      - 304\n      - 405\n      - 504\n    Dislikes:\n      - 101\n      - 106\n      - 207\n  IM11011:\n    Name: \u30c6\u30d5\u8c46\n    Likes:\n      - 102\n      - 408\n      - 502\n      - 506\n    Dislikes:\n      - 103\n      - 207\n      - 305\n  IM20101:\n    Name: \u91e3\u308a\u7528\u306e\u30a6\u30ad\n    Likes:\n      - 104\n      - 308\n      - 401\n      - 405\n      - 406\n    Dislikes:\n      - 105\n      - 502\n      - 504\n  IM20102:\n    Name: \u88c5\u98fe\u7528\u306e\u8f1d\u77f3\n    Likes:\n      - 107\n      - 206\n      - 307\n      - 404\n    Dislikes:\n      - 102\n      - 201\n      - 208\n      - 407\n  IM20303:\n    Name: \u72e9\u731f\u7528\u306e\u77ed\u5263\n    Likes:\n      - 105\n      - 108\n      - 203\n      - 308\n      - 408\n      - 409\n      - 501\n      - 506\n    Dislikes:\n      - 104\n      - 106\n      - 207\n      - 302\n      - 306\n  IM20304:\n    Name: \u5203\u7269\u7528\u306e\u7825\u77f3\n    Likes:\n      - 103\n      - 105\n      - 201\n      - 407\n      - 501\n      - 504\n    Dislikes:\n      - 206\n      - 402\n  IM20305:\n    Name: \u304a\u3057\u3083\u308c\u306a\u9aea\u98fe\u308a\n    Likes:\n      - 107\n      - 207\n      - 307\n      - 402\n    Dislikes:\n      - 208\n      - 308\n  IM20506:\n    Name: \u8a13\u7df4\u7528\u306e\u91cd\u3057\n    Likes:\n      - 105\n      - 201\n      - 203\n      - 303\n      - 308\n      - 407\n    Dislikes:\n      - 104\n      - 106\n      - 304\n      - 305\n      - 307\n      - 506\n  IM20507:\n    Name: \u7d05\u8336\u306e\u8336\u8449\n    Likes:\n      - 103\n      - 302\n      - 403\n      - 505\n    Dislikes: []\n  IM21008:\n    Name: \u7570\u56fd\u306e\u9999\u8f9b\u6599\n    Likes:\n      - 108\n      - 202\n      - 204\n      - 301\n      - 408\n      - 502\n      - 506\n    Dislikes:\n      - 403\n      - 406\n      - 410\n      - 505\n  IM21009:\n    Name: \u76e4\u9762\u904a\u622f\n    Likes:\n      - 101\n      - 102\n      - 205\n      - 301\n      - 503\n    Dislikes:\n      - 204\n      - 404\n  IM30501:\n    Name: \u697d\u8b5c\u96c6\n    Likes:\n      - 106\n      - 107\n      - 207\n      - 302\n      - 307\n      - 404\n      - 408\n    Dislikes:\n      - 201\n      - 202\n      - 301\n      - 503\n  IM30502:\n    Name: \u7b97\u8853\u6559\u672c\n    Likes:\n      - 207\n      - 305\n      - 403\n      - 503\n      - 505\n    Dislikes:\n      - 108\n      - 204\n      - 303\n      - 407\n  IM30503:\n    Name: \u30d5\u30a9\u30c9\u30e9\u306e\u53f2\u66f8\n    Likes:\n      - 102\n      - 401\n    Dislikes:\n      - 202\n      - 409\n  IM30504:\n    Name: \u5e1d\u738b\u5b66\u306e\u66f8\n    Likes:\n      - 101\n    Dislikes:\n      - 204\n      - 304\n      - 406\n      - 408\n      - 409\n      - 501\n      - 506\n  IM30505:\n    Name: \u53e4\u4ee3\u306e\u786c\u8ca8\n    Likes:\n      - 204\n      - 304\n      - 406\n      - 410\n      - 504\n    Dislikes:\n      - 206\n      - 307\n  IM31006:\n    Name: \u7d0b\u7ae0\u56f3\u89e3\n    Likes:\n      - 104\n      - 301\n      - 305\n      - 403\n      - 505\n    Dislikes:\n      - 108\n      - 205\n      - 303\n      - 308\n      - 401\n      - 408\n      - 501\n  IM31007:\n    Name: \u9752\u30ab\u30d3\u30c1\u30fc\u30ba\n    Likes:\n      - 303\n      - 404\n      - 407\n      - 502\n      - 504\n    Dislikes:\n      - 103\n      - 301\n      - 402\n      - 403\n      - 408\n      - 501\n      - 505\n  IM31008:\n    Name: \u7dba\u9e97\u306a\u98a8\u666f\u753b\n    Likes:\n      - 106\n      - 205\n      - 304\n      - 410\n      - 502\n    Dislikes:\n      - 102\n  IM90001:\n    Name: \u30a6\u30c4\u30dc\u30ab\u30ba\u30e9\n    Likes:\n      - 106\n      - 506\n    Dislikes: []\n    Hide: true\n  IM90002:\n    Name: \u5411\u65e5\u8475\n    Likes:\n      - 108\n      - 406\n      - 408\n    Dislikes: []\n    Hide: true\n  IM90003:\n    Name: \u30b9\u30df\u30ec\n    Likes:\n      - 204\n    Dislikes: []\n    Hide: true\n  IM90004:\n    Name: \u30e9\u30d9\u30f3\u30c0\u30fc\n    Likes:\n      - 206\n    Dislikes: []\n    Hide: true\n  IM90005:\n    Name: \u6c34\u4ed9\n    Likes: []\n    Dislikes: []\n    Hide: true\n  IM90006:\n    Name: \u8594\u8587\n    Likes:\n      - 302\n      - 501\n    Dislikes: []\n    Hide: true\n  IM90007:\n    Name: \u52ff\u5fd8\u8349\n    Likes:\n      - 304\n      - 402\n      - 502\n    Dislikes: []\n    Hide: true\n  IM90008:\n    Name: \u767e\u5408\n    Likes:\n      - 305\n    Dislikes: []\n    Hide: true\n  IM90009:\n    Name: \u9234\u862d\n    Likes:\n      - 306\n      - 505\n    Dislikes: []\n    Hide: true\n  IM90010:\n    Name: \u30ab\u30b9\u30df\u30bd\u30a6\n    Likes:\n      - 409\n    Dislikes: []\n    Hide: true\n  IM90011:\n    Name: \u30a2\u30cd\u30e2\u30cd\n    Likes:\n      - 307\n    Dislikes: []\n    Hide: true\n  IM90012:\n    Name: \u30ab\u30fc\u30cd\u30fc\u30b7\u30e7\u30f3\n    Likes:\n      - 101\n    Dislikes: []\n    Hide: true\n  "}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Vl(i){return!!i&&(i instanceof It||y(i.lift)&&y(i.subscribe))}const hx={now:()=>(hx.delegate||Date).now(),delegate:void 0};class F2 extends Mi{constructor(t=1/0,e=1/0,r=hx){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:a}=this;e||(r.push(t),!o&&r.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let a=0;a<s.length&&!t.closed;a+=r?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const a=e.now();let l=0;for(let u=1;u<r.length&&r[u]<=a;u+=2)l=u;l&&r.splice(0,l+1)}}}function fx(i,t,e){let r,o=!1;return i&&"object"==typeof i?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=i):r=i??1/0,go({connector:()=>new F2(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}class Vf{}let px=(()=>{class i extends Vf{getTranslation(e){return Ut({})}}return i.\u0275fac=function(){let t;return function(r){return(t||(t=yr(i)))(r||i)}}(),i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();class f_{}let gx=(()=>{class i{handle(e){return e.key}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();function Hl(i){return typeof i<"u"&&null!==i}function p_(i){return i&&"object"==typeof i&&!Array.isArray(i)}function vx(i,t){let e=Object.assign({},i);return p_(i)&&p_(t)&&Object.keys(t).forEach(r=>{p_(t[r])?r in i?e[r]=vx(i[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e}class Hf{}let _x=(()=>{class i extends Hf{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,r){let o;return o="string"==typeof e?this.interpolateString(e,r):"function"==typeof e?this.interpolateFunction(e,r):e,o}getValue(e,r){let o="string"==typeof r?r.split("."):[r];r="";do{r+=o.shift(),!Hl(e)||!Hl(e[r])||"object"!=typeof e[r]&&o.length?o.length?r+=".":e=void 0:(e=e[r],r="")}while(o.length);return e}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(o,s)=>{let a=this.getValue(r,s);return Hl(a)?a:o}):e}}return i.\u0275fac=function(){let t;return function(r){return(t||(t=yr(i)))(r||i)}}(),i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();class $f{}let Cx=(()=>{class i extends $f{compile(e,r){return e}compileTranslations(e,r){return e}}return i.\u0275fac=function(){let t;return function(r){return(t||(t=yr(i)))(r||i)}}(),i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();class yx{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new _n,this.onLangChange=new _n,this.onDefaultLangChange=new _n}}const g_=new oi("USE_STORE"),m_=new oi("USE_DEFAULT_LANG"),v_=new oi("DEFAULT_LANGUAGE"),__=new oi("USE_EXTEND");let Bf=(()=>{class i{constructor(e,r,o,s,a,l=!0,u=!1,d=!1,p){this.store=e,this.currentLoader=r,this.compiler=o,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=l,this.isolate=u,this.extend=d,this.pending=!1,this._onTranslationChange=new _n,this._onLangChange=new _n,this._onDefaultLangChange=new _n,this._langs=[],this._translations={},this._translationRequests={},p&&this.setDefaultLang(p)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let r=this.retrieveTranslations(e);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=e),r.pipe(Oa(1)).subscribe(o=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Ut(this.translations[e]);let r=this.retrieveTranslations(e);return typeof r<"u"?(this.currentLang||(this.currentLang=e),r.pipe(Oa(1)).subscribe(o=>{this.changeLang(e)}),r):(this.changeLang(e),Ut(this.translations[e]))}retrieveTranslations(e){let r;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),r=this._translationRequests[e]),r}getTranslation(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe(fx(1),Oa(1));return this.loadingTranslations=r.pipe(Ae(o=>this.compiler.compileTranslations(o,e)),fx(1),Oa(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[e]=this.extend&&this.translations[e]?{...o,...this.translations[e]}:o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),r}setTranslation(e,r,o=!1){r=this.compiler.compileTranslations(r,e),this.translations[e]=(o||this.extend)&&this.translations[e]?vx(this.translations[e],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,r,o){let s;if(r instanceof Array){let a={},l=!1;for(let u of r)a[u]=this.getParsedResult(e,u,o),Vl(a[u])&&(l=!0);return l?KE(r.map(d=>Vl(a[d])?a[d]:Ut(a[d]))).pipe(Ae(d=>{let p={};return d.forEach((m,E)=>{p[r[E]]=m}),p})):a}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,r),o)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),o)),typeof s>"u"){let a={key:r,translateService:this};typeof o<"u"&&(a.interpolateParams=o),s=this.missingTranslationHandler.handle(a)}return typeof s<"u"?s:r}get(e,r){if(!Hl(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(nl(o=>Vl(o=this.getParsedResult(o,e,r))?o:Ut(o)));{let o=this.getParsedResult(this.translations[this.currentLang],e,r);return Vl(o)?o:Ut(o)}}getStreamOnTranslationChange(e,r){if(!Hl(e)||!e.length)throw new Error('Parameter "key" required');return Bd(Ud(()=>this.get(e,r)),this.onTranslationChange.pipe(ts(o=>{const s=this.getParsedResult(o.translations,e,r);return"function"==typeof s.subscribe?s:Ut(s)})))}stream(e,r){if(!Hl(e)||!e.length)throw new Error('Parameter "key" required');return Bd(Ud(()=>this.get(e,r)),this.onLangChange.pipe(ts(o=>{const s=this.getParsedResult(o.translations,e,r);return Vl(s)?s:Ut(s)})))}instant(e,r){if(!Hl(e)||!e.length)throw new Error('Parameter "key" required');let o=this.getParsedResult(this.translations[this.currentLang],e,r);if(Vl(o)){if(e instanceof Array){let s={};return e.forEach((a,l)=>{s[e[l]]=e[l]}),s}return e}return o}set(e,r,o=this.currentLang){this.translations[o][e]=this.compiler.compile(r,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof e>"u"?void 0:(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return i.\u0275fac=function(e){return new(e||i)(Vt(yx),Vt(Vf),Vt($f),Vt(Hf),Vt(f_),Vt(m_),Vt(g_),Vt(__),Vt(v_))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),N2=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[e.loader||{provide:Vf,useClass:px},e.compiler||{provide:$f,useClass:Cx},e.parser||{provide:Hf,useClass:_x},e.missingTranslationHandler||{provide:f_,useClass:gx},yx,{provide:g_,useValue:e.isolate},{provide:m_,useValue:e.useDefaultLang},{provide:__,useValue:e.extend},{provide:v_,useValue:e.defaultLanguage},Bf]}}static forChild(e={}){return{ngModule:i,providers:[e.loader||{provide:Vf,useClass:px},e.compiler||{provide:$f,useClass:Cx},e.parser||{provide:Hf,useClass:_x},e.missingTranslationHandler||{provide:f_,useClass:gx},{provide:g_,useValue:e.isolate},{provide:m_,useValue:e.useDefaultLang},{provide:__,useValue:e.extend},{provide:v_,useValue:e.defaultLanguage},Bf]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({}),i})();A(544),A(9119),A(2069),A(481),A(4348),A(187),A(7221),A(7492);class V2{constructor(t){this._subscribedEvents=[],this.eventNamingStyle=ws.camelCase,this._elementSource=t||document.createElement("div")}get elementSource(){return this._elementSource}set elementSource(t){this._elementSource=t}get subscribedEvents(){return this._subscribedEvents}get subscribedEventNames(){return this._subscribedEvents.map(t=>t.name)}dispose(){var t;this.unsubscribeAll(),this._subscribedEvents=[],clearTimeout(this._timer),null===(t=this._elementSource)||void 0===t||t.remove(),this._elementSource=null}dispatchCustomEvent(t,e,r=!0,o=!0){var s;const a={bubbles:r,cancelable:o};return e&&(a.detail=e),null===(s=this._elementSource)||void 0===s?void 0:s.dispatchEvent(new CustomEvent(t,a))}getEventNameByNamingConvention(t,e){let r="";switch(this.eventNamingStyle){case ws.camelCase:r=""!==e?`${e}${uc(t)}`:t;break;case ws.kebabCase:r=""!==e?`${e}-${dc(t)}`:dc(t);break;case ws.lowerCase:r=`${e}${t}`.toLowerCase();break;case ws.lowerCaseWithoutOnPrefix:r=`${e}${t.replace(/^on/,"")}`.toLowerCase()}return r}publish(t,e,r){const o=this.getEventNameByNamingConvention(t,"");return r?new Promise(s=>{this._timer=setTimeout(()=>s(this.dispatchCustomEvent(o,e,!0,!0)),r)}):this.dispatchCustomEvent(o,e,!0,!0)}subscribe(t,e){const r=this.getEventNameByNamingConvention(t,"");return this._elementSource.addEventListener(r,o=>e.call(null,o.detail)),this._subscribedEvents.push({name:r,listener:e}),{unsubscribe:()=>this.unsubscribe(r,e)}}subscribeEvent(t,e){const r=this.getEventNameByNamingConvention(t,"");return this._elementSource.addEventListener(r,e),this._subscribedEvents.push({name:r,listener:e}),{unsubscribe:()=>this.unsubscribe(r,e)}}unsubscribe(t,e,r=!0){const o=this.getEventNameByNamingConvention(t,"");this._elementSource.removeEventListener(o,e),r&&this.removeSubscribedEventWhenFound(t,e)}unsubscribeAll(t){if(Array.isArray(t)){let e;do{e=t.pop(),e?.dispose?e.dispose():e?.unsubscribe&&e.unsubscribe()}while(e)}else{let e=this._subscribedEvents.pop();for(;e;)this.unsubscribe(e.name,e.listener,!1),e=this._subscribedEvents.pop()}}removeSubscribedEventWhenFound(t,e){const r=this._subscribedEvents.findIndex(o=>o.name===t&&o.listener===e);r>=0&&this._subscribedEvents.splice(r,1)}}class H2{constructor(){this._warningLeftElement=null,this._warningRightElement=null,this.isPreviouslyShown=!1}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}init(t,e){this.grid=t,this.translaterService=e.get("TranslaterService")}dispose(){var t,e;null===(t=this._warningLeftElement)||void 0===t||t.remove(),null===(e=this._warningRightElement)||void 0===e||e.remove(),this._warningLeftElement=null,this._warningRightElement=null}showEmptyDataMessage(t=!0,e){var r,o,s,a,l,u,d,p,m,E,P,H,U,X;if(!this.grid||!this.gridOptions||this.isPreviouslyShown===t)return!1;this.isPreviouslyShown=t;const J=this.grid.getUID(),ne={message:"No data to display.",...this.gridOptions.emptyDataWarning,...e},De=null!==(r=ne?.className)&&void 0!==r?r:"slick-empty-data-warning";this._warningLeftElement=document.querySelector(`.${J} .${De}`);const xe=document.querySelector(`.${J} .grid-canvas.grid-canvas-left`),Ue=document.querySelector(`.${J} .grid-canvas.grid-canvas-right`),ot=null!==(o=ne.leftViewportMarginLeft)&&void 0!==o?o:0,it=null!==(s=ne.rightViewportMarginLeft)&&void 0!==s?s:0,Wt=null!==(a=ne.frozenLeftViewportMarginLeft)&&void 0!==a?a:0,Jt=null!==(l=ne.frozenRightViewportMarginLeft)&&void 0!==l?l:0,Kt=void 0!==(null===(u=this.gridOptions)||void 0===u?void 0:u.frozenColumn)&&this.gridOptions.frozenColumn>=0,$i="string"==typeof ot?ot:`${ot}px`,cn="string"==typeof it?it:`${it}px`;if(this.gridOptions.autoHeight){const Cn=document.querySelector(".slick-pane.slick-pane-top.slick-pane-left");if(Cn&&Cn.style&&xe&&xe.style){const Fn=parseInt(Cn.style.height,10)||0,Ss=null!==(p=null===(d=this.gridOptions)||void 0===d?void 0:d.rowHeight)&&void 0!==p?p:0,Vr=this.gridOptions.enableFiltering&&null!==(E=null===(m=this.gridOptions)||void 0===m?void 0:m.headerRowHeight)&&void 0!==E?E:0,Sn=this.gridOptions.createPreHeaderPanel&&null!==(H=null===(P=this.gridOptions)||void 0===P?void 0:P.preHeaderPanelHeight)&&void 0!==H?H:0;if(t){let Rn=null!==Fn&&Fn<100?Fn:100;Rn+=Vr+Sn,Cn.style.minHeight=`${Rn}px`,xe.style.minHeight=`${Ss}px`}}}let En=ne.message;if(this.gridOptions.enableTranslate&&this.translaterService&&ne?.messageKey&&(En=this.translaterService.translate(ne.messageKey)),!this._warningLeftElement&&xe&&Ue){const Cn=null!==(X=null===(U=this.gridOptions)||void 0===U?void 0:U.sanitizeHtmlOptions)&&void 0!==X?X:{};this._warningLeftElement=document.createElement("div"),this._warningLeftElement.classList.add(De),this._warningLeftElement.classList.add("left"),this._warningLeftElement.innerHTML=ns(this.gridOptions,En,Cn),this._warningRightElement=this._warningLeftElement.cloneNode(!0),this._warningRightElement.classList.add("right"),Ue.appendChild(this._warningRightElement),xe.appendChild(this._warningLeftElement)}if(this._warningLeftElement){let Cn=t?"block":"none";Kt&&t&&(Cn=ne.hideFrozenLeftWarning?"none":"block"),this._warningLeftElement.style.display=Cn;const Fn="string"==typeof Wt?Wt:`${Wt}px`;this._warningLeftElement.style.marginLeft=Kt?Fn:$i}if(this._warningRightElement){let Cn=t?"block":"none";Kt&&t&&(Cn=ne.hideFrozenRightWarning?"none":"block"),this._warningRightElement.style.display=Cn;const Fn="string"==typeof Jt?Jt:`${Jt}px`;this._warningRightElement.style.marginLeft=Kt?Fn:cn}return t}}class $2{constructor(t){this._value=null,this._boundedEventWithListeners=[],this._elementBindings=[],this._binding=t,this._property=t.property||"",this._elementBindings=[],this._value=t.property&&t.variable&&(t.variable.hasOwnProperty(t.property)||t.property in t.variable)?"string"==typeof t.variable[t.property]?this.sanitizeText(t.variable[t.property]):t.variable[t.property]:"string"==typeof t.variable?this.sanitizeText(t.variable):t.variable,"object"==typeof t.variable&&Object.defineProperty(t.variable,t.property,{get:this.valueGetter.bind(this),set:this.valueSetter.bind(this)})}get boundedEventWithListeners(){return this._boundedEventWithListeners}get elementBindings(){return this._elementBindings}get property(){return this._property}dispose(){this.unbindAll(),this._boundedEventWithListeners=[],this._elementBindings=[]}valueGetter(){return this._value}valueSetter(t){if(this._value="string"==typeof t?this.sanitizeText(t):t,Array.isArray(this._elementBindings))for(const e of this._elementBindings)e?.element&&e?.attribute&&(e.element[e.attribute]="string"==typeof t?this.sanitizeText(t):t)}bind(t,e,r,o){return t&&t.forEach?t.forEach(s=>this.bindSingleElement(s,e,r,o)):t&&this.bindSingleElement(t,e,r,o),this}unbind(t,e,r,o,s){if(t){t.removeEventListener(e,r,o);const a=this._boundedEventWithListeners.findIndex(l=>l.uid===s);a>=0&&this._boundedEventWithListeners.splice(a,1)}}unbindAll(){let t=this._boundedEventWithListeners.pop();for(;t;){const{element:e,eventName:r,listener:o,uid:s}=t;this.unbind(e,r,o,void 0,s),t=this._boundedEventWithListeners.pop()}this._boundedEventWithListeners=[]}bindSingleElement(t,e,r,o){const s={element:t,attribute:e};if(t){if(r){const a=()=>{let l=t[e];if(this.hasData(l)&&"number"===t?.type&&(l=+l),this.valueSetter(l),(this._binding.variable.hasOwnProperty(this._binding.property)||this._binding.property in this._binding.variable)&&(this._binding.variable[this._binding.property]=this.valueGetter()),"function"==typeof o)return o(this.valueGetter())};s.event=r,s.listener=a,t.addEventListener(r,a),this._boundedEventWithListeners.push({element:t,eventName:r,listener:a,uid:this.generateUuidV4()})}this._elementBindings.push(s),t[e]="string"==typeof this._value?this.sanitizeText(this._value):this._value}}generateUuidV4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}hasData(t){return null!=t&&""!==t}sanitizeText(t){return ia?.sanitize?ia.sanitize(t,{}):t}}class wx{constructor(){this._observers=[],this._querySelectorPrefix=""}get querySelectorPrefix(){return this._querySelectorPrefix||""}set querySelectorPrefix(t){this._querySelectorPrefix=t}get observers(){return this._observers}dispose(){let t=this._observers.pop();for(;t;)t.dispose(),t=this._observers.pop();this._observers=[]}addElementBinding(t,e,r,o,s,a){const l=document.querySelectorAll(`${this.querySelectorPrefix}${r}`);let u=this._observers.find(d=>d.property===t);u||(u=new $2({variable:t,property:e})),Array.isArray(s)?s.forEach(d=>u?.bind(l,o,d,a)):u?.bind(l,o,s,a),this._observers.push(u)}bindEventHandler(t,e,r,o){document.querySelectorAll(`${this.querySelectorPrefix}${t}`).forEach(a=>{a?.addEventListener&&a.addEventListener(e,r,o)})}setElementAttributeValue(t,e,r){document.querySelectorAll(`${this.querySelectorPrefix}${t}`).forEach(s=>{s.textContent="",s&&e in s&&(s[e]=r)})}}const bx=Pl()||sl;class B2{constructor(t,e,r,o){var s,a,l,u,d,p,m;if(this.grid=t,this.customFooterOptions=e,this.pubSubService=r,this.translaterService=o,this._enableTranslate=!1,this._isLeftFooterOriginallyEmpty=!0,this._isLeftFooterDisplayingSelectionRowCount=!1,this._isRightFooterOriginallyEmpty=!0,this._selectedRowCount=0,this._subscriptions=[],this._bindingHelper=new wx,this._bindingHelper.querySelectorPrefix=`.${this.gridUid} `,this._eventHandler=new Slick.EventHandler,this._enableTranslate=null!==(a=null===(s=this.gridOptions)||void 0===s?void 0:s.enableTranslate)&&void 0!==a&&a,this._isLeftFooterOriginallyEmpty=!(null!==(l=this.gridOptions.customFooterOptions)&&void 0!==l&&l.leftFooterText),this._isRightFooterOriginallyEmpty=!(null!==(u=this.gridOptions.customFooterOptions)&&void 0!==u&&u.rightFooterText),this.registerOnSelectedRowsChangedWhenEnabled(e),this._enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.translateCustomFooterTexts(),this._enableTranslate&&(null===(d=this.pubSubService)||void 0===d?void 0:d.subscribe)){const E=null!==(m=null===(p=this.translaterService)||void 0===p?void 0:p.eventName)&&void 0!==m?m:"onLanguageChange";this._subscriptions.push(this.pubSubService.subscribe(E,()=>this.translateCustomFooterTexts()))}}get eventHandler(){return this._eventHandler}get gridUid(){var t,e;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.getUID())&&void 0!==e?e:""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get locales(){var t,e;return null!==(e=null===(t=this.gridOptions)||void 0===t?void 0:t.locales)&&void 0!==e?e:zt.locales}set metrics(t){this.renderMetrics(t)}get leftFooterText(){var t,e;return null!==(e=null===(t=document.querySelector(`.slick-custom-footer${this.gridUidSelector} .left-footer`))||void 0===t?void 0:t.textContent)&&void 0!==e?e:""}set leftFooterText(t){this.renderLeftFooterText(t)}get rightFooterText(){var t,e;return null!==(e=null===(t=document.querySelector(`.slick-custom-footer${this.gridUidSelector} .right-footer`))||void 0===t?void 0:t.textContent)&&void 0!==e?e:""}set rightFooterText(t){this.renderRightFooterText(t)}dispose(){var t;this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),this._bindingHelper.dispose(),null===(t=this._footerElement)||void 0===t||t.remove()}renderFooter(t){this.translateCustomFooterTexts(),this.createFooterContainer(t)}renderMetrics(t){var e;const r=bx(t.endTime).format(this.customFooterOptions.dateFormat);this._bindingHelper.setElementAttributeValue("span.last-update-timestamp","textContent",r),this._bindingHelper.setElementAttributeValue("span.item-count","textContent",t.itemCount),this._bindingHelper.setElementAttributeValue("span.total-count","textContent",t.totalItemCount),!(null===(e=this.customFooterOptions.metricTexts)||void 0===e)&&e.lastUpdate&&this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"lastUpdate","span.text-last-update","textContent"),this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"items","span.text-items","textContent"),this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"of","span.text-of","textContent")}renderLeftFooterText(t){this._bindingHelper.setElementAttributeValue("div.left-footer","textContent",t)}renderRightFooterText(t){this._bindingHelper.setElementAttributeValue("div.right-footer","textContent",t)}translateCustomFooterTexts(){var t,e,r,o,s;if(this.gridOptions.enableTranslate&&(null===(t=this.translaterService)||void 0===t?void 0:t.translate)){this.customFooterOptions.metricTexts=this.customFooterOptions.metricTexts||{};for(const a of Object.keys(this.customFooterOptions.metricTexts))if(a.lastIndexOf("Key")>0){const l=a.substring(0,a.lastIndexOf("Key"));this.customFooterOptions.metricTexts[l]=this.translaterService.translate(this.customFooterOptions.metricTexts[a]||" ")}this._isLeftFooterDisplayingSelectionRowCount&&(this.leftFooterText=`${this._selectedRowCount} ${this.customFooterOptions.metricTexts.itemsSelected}`)}else this.locales&&(this.customFooterOptions.metricTexts=this.customFooterOptions.metricTexts||{},this.customFooterOptions.metricTexts.lastUpdate=this.customFooterOptions.metricTexts.lastUpdate||(null===(e=this.locales)||void 0===e?void 0:e.TEXT_LAST_UPDATE)||"TEXT_LAST_UPDATE",this.customFooterOptions.metricTexts.items=this.customFooterOptions.metricTexts.items||(null===(r=this.locales)||void 0===r?void 0:r.TEXT_ITEMS)||"TEXT_ITEMS",this.customFooterOptions.metricTexts.itemsSelected=this.customFooterOptions.metricTexts.itemsSelected||(null===(o=this.locales)||void 0===o?void 0:o.TEXT_ITEMS_SELECTED)||"TEXT_ITEMS_SELECTED",this.customFooterOptions.metricTexts.of=this.customFooterOptions.metricTexts.of||(null===(s=this.locales)||void 0===s?void 0:s.TEXT_OF)||"TEXT_OF")}createFooterContainer(t){const e=Le("div",{className:`slick-custom-footer ${this.gridUid}`,style:{width:"100%",height:`${this.customFooterOptions.footerHeight||20}px`}});e.appendChild(Le("div",{className:`left-footer ${this.customFooterOptions.leftContainerClass}`,innerHTML:ns(this.gridOptions,this.customFooterOptions.leftFooterText||"")})),e.appendChild(this.createFooterRightContainer()),this._footerElement=e,t?.appendChild&&this._footerElement&&t.appendChild(this._footerElement)}createFooterRightContainer(){var t,e,r,o,s,a,l,u;const d=Le("div",{className:`right-footer ${this.customFooterOptions.rightContainerClass||""}`});if(this._isRightFooterOriginallyEmpty){if(!this.customFooterOptions.hideMetrics){d.classList.add("metrics");const p=Le("span",{className:"timestamp"});if(!this.customFooterOptions.hideLastUpdateTimestamp){const m=this.createFooterLastUpdate();m&&p.appendChild(m)}d.appendChild(p),d.appendChild(Le("span",{className:"item-count",textContent:`${null!==(e=null===(t=this.metrics)||void 0===t?void 0:t.itemCount)&&void 0!==e?e:"0"}`})),this.customFooterOptions.hideTotalItemCount||(d.appendChild(document.createTextNode("\r\n")),d.appendChild(Le("span",{className:"text-of",textContent:` ${null!==(o=null===(r=this.customFooterOptions.metricTexts)||void 0===r?void 0:r.of)&&void 0!==o?o:"of"} `})),d.appendChild(document.createTextNode("\r\n")),d.appendChild(Le("span",{className:"total-count",textContent:`${null!==(a=null===(s=this.metrics)||void 0===s?void 0:s.totalItemCount)&&void 0!==a?a:"0"}`}))),d.appendChild(document.createTextNode("\r\n")),d.appendChild(Le("span",{className:"text-items",textContent:` ${null!==(u=null===(l=this.customFooterOptions.metricTexts)||void 0===l?void 0:l.items)&&void 0!==u?u:"items"} `}))}}else d.innerHTML=ns(this.gridOptions,this.customFooterOptions.rightFooterText||"");return d}createFooterLastUpdate(){var t,e,r,o;const s=null!==(r=null===(e=null===(t=this.customFooterOptions)||void 0===t?void 0:t.metricTexts)||void 0===e?void 0:e.lastUpdate)&&void 0!==r?r:"Last Update",a=bx(null===(o=this.metrics)||void 0===o?void 0:o.endTime).format(this.customFooterOptions.dateFormat),l=Le("span");return l.appendChild(Le("span",{className:"text-last-update",textContent:s})),l.appendChild(document.createTextNode("\r\n")),l.appendChild(Le("span",{className:"last-update-timestamp",textContent:a})),l.appendChild(Le("span",{className:"separator",textContent:` ${this.customFooterOptions.metricSeparator||""} `})),l}registerOnSelectedRowsChangedWhenEnabled(t){var e,r,o,s;if((this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&t&&!t.hideRowSelectionCount&&this._isLeftFooterOriginallyEmpty){this._isLeftFooterDisplayingSelectionRowCount=!0;const l=null!==(s=null!==(r=null===(e=t.metricTexts)||void 0===e?void 0:e.itemsSelected)&&void 0!==r?r:null===(o=this.locales)||void 0===o?void 0:o.TEXT_ITEMS_SELECTED)&&void 0!==s?s:"TEXT_ITEMS_SELECTED";t.leftFooterText=`0 ${l}`,this._eventHandler.subscribe(this.grid.onSelectedRowsChanged,(u,d)=>{var p,m,E,P;this._selectedRowCount=d.rows.length;const H=null!==(P=null!==(m=null===(p=t.metricTexts)||void 0===p?void 0:p.itemsSelected)&&void 0!==m?m:null===(E=this.locales)||void 0===E?void 0:E.TEXT_ITEMS_SELECTED)&&void 0!==P?P:"TEXT_ITEMS_SELECTED";this.leftFooterText=`${this._selectedRowCount} ${H}`})}}}class U2{constructor(t,e,r,o){var s,a,l,u,d;if(this.paginationService=t,this.pubSubService=e,this.sharedService=r,this.translaterService=o,this._enableTranslate=!1,this._subscriptions=[],this.firstButtonClasses="",this.lastButtonClasses="",this.prevButtonClasses="",this.nextButtonClasses="",this.textItemsPerPage="items per page",this.textItems="items",this.textOf="of",this.textPage="Page",this._bindingHelper=new wx,this._bindingHelper.querySelectorPrefix=`.${this.gridUid} `,this.currentPagination=this.paginationService.getFullPagination(),this._enableTranslate=null!==(a=null===(s=this.gridOptions)||void 0===s?void 0:s.enableTranslate)&&void 0!==a&&a,this._enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.translatePaginationTexts(),this._enableTranslate&&(null===(l=this.pubSubService)||void 0===l?void 0:l.subscribe)){const p=null!==(d=null===(u=this.translaterService)||void 0===u?void 0:u.eventName)&&void 0!==d?d:"onLanguageChange";this._subscriptions.push(this.pubSubService.subscribe(p,()=>this.translatePaginationTexts()))}this._subscriptions.push(this.pubSubService.subscribe("onPaginationRefreshed",p=>{for(const E of Object.keys(p))this.currentPagination[E]=p[E];this.updatePageButtonsUsability();const m=document.querySelector(`.${this.gridUid} span.page-info-from-to`);m?.style&&(m.style.display=0===this.currentPagination.totalItems?"none":"")}))}get availablePageSizes(){return this.paginationService.availablePageSizes||[]}get dataFrom(){return this.paginationService.dataFrom}get dataTo(){return this.paginationService.dataTo}get itemsPerPage(){return this.paginationService.itemsPerPage}set itemsPerPage(t){this.paginationService.changeItemPerPage(t)}get pageCount(){return this.paginationService.pageCount}get pageNumber(){return this.paginationService.pageNumber}set pageNumber(t){}get grid(){return this.sharedService.slickGrid}get gridOptions(){return this.sharedService.gridOptions}get gridUid(){var t,e;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.getUID())&&void 0!==e?e:""}get locales(){var t,e;return null!==(e=null===(t=this.gridOptions)||void 0===t?void 0:t.locales)&&void 0!==e?e:zt.locales}get totalItems(){return this.paginationService.totalItems}get isLeftPaginationDisabled(){return 1===this.pageNumber||0===this.totalItems}get isRightPaginationDisabled(){return this.pageNumber===this.pageCount||0===this.totalItems}dispose(){this.pubSubService.unsubscribeAll(this._subscriptions),this._bindingHelper.dispose(),this._paginationElement.remove()}renderPagination(t){const e=this.createPaginationContainer(),r=Le("div",{className:"slick-pagination-nav"}),o=this.createPageNavigation("Page navigation",[{liClass:"page-item seek-first",aClass:"page-link icon-seek-first",ariaLabel:"First Page"},{liClass:"page-item seek-prev",aClass:"page-link icon-seek-prev",ariaLabel:"Previous Page"}]),s=this.createPageNumberSection(),a=this.createPageNavigation("Page navigation",[{liClass:"page-item seek-next",aClass:"page-link icon-seek-next",ariaLabel:"Next Page"},{liClass:"page-item seek-end",aClass:"page-link icon-seek-end",ariaLabel:"Last Page"}]);e.appendChild(r),r.appendChild(o),r.appendChild(s),r.appendChild(a);const l=this.createPaginationSettingsSection();e.appendChild(r),e.appendChild(l),this._paginationElement.appendChild(e),t?.appendChild&&this._paginationElement&&t.appendChild(this._paginationElement),this.renderPageSizes(),this.addBindings(),this.addEventListeners(),this.updatePageButtonsUsability()}renderPageSizes(){const t=document.querySelector(`.${this.gridUid} .items-per-page`);if(t&&Array.isArray(this.availablePageSizes))for(const e of this.availablePageSizes)t.appendChild(Le("option",{value:`${e}`,text:`${e}`}))}addBindings(){this._bindingHelper.addElementBinding(this,"firstButtonClasses","li.page-item.seek-first","className"),this._bindingHelper.addElementBinding(this,"prevButtonClasses","li.page-item.seek-prev","className"),this._bindingHelper.addElementBinding(this,"lastButtonClasses","li.page-item.seek-end","className"),this._bindingHelper.addElementBinding(this,"nextButtonClasses","li.page-item.seek-next","className"),this._bindingHelper.addElementBinding(this.currentPagination,"dataFrom","span.item-from","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"dataTo","span.item-to","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"totalItems","span.total-items","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"pageCount","span.page-count","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"pageNumber","input.page-number","value","change",this.changeToCurrentPage.bind(this)),this._bindingHelper.addElementBinding(this.currentPagination,"pageSize","select.items-per-page","value"),this._bindingHelper.addElementBinding(this,"textItems","span.text-items","textContent"),this._bindingHelper.addElementBinding(this,"textItemsPerPage","span.text-item-per-page","textContent"),this._bindingHelper.addElementBinding(this,"textOf","span.text-of","textContent"),this._bindingHelper.addElementBinding(this,"textPage","span.text-page","textContent")}addEventListeners(){this._bindingHelper.bindEventHandler(".icon-seek-first","click",this.changeToFirstPage.bind(this)),this._bindingHelper.bindEventHandler(".icon-seek-end","click",this.changeToLastPage.bind(this)),this._bindingHelper.bindEventHandler(".icon-seek-next","click",this.changeToNextPage.bind(this)),this._bindingHelper.bindEventHandler(".icon-seek-prev","click",this.changeToPreviousPage.bind(this)),this._bindingHelper.bindEventHandler("select.items-per-page","change",t=>{var e,r;return this.itemsPerPage=+(null!==(r=null===(e=t?.target)||void 0===e?void 0:e.value)&&void 0!==r?r:0)})}changeToFirstPage(t){this.isLeftPaginationDisabled||this.paginationService.goToFirstPage(t)}changeToLastPage(t){this.isRightPaginationDisabled||this.paginationService.goToLastPage(t)}changeToNextPage(t){this.isRightPaginationDisabled||this.paginationService.goToNextPage(t)}changeToPreviousPage(t){this.isLeftPaginationDisabled||this.paginationService.goToPreviousPage(t)}changeToCurrentPage(t){this.paginationService.goToPageNumber(+t)}translatePaginationTexts(){var t;if(this._enableTranslate&&(null===(t=this.translaterService)||void 0===t?void 0:t.translate)){const e=ys(this.gridOptions);this.textItemsPerPage=this.translaterService.translate(`${e}ITEMS_PER_PAGE`),this.textItems=this.translaterService.translate(`${e}ITEMS`),this.textOf=this.translaterService.translate(`${e}OF`),this.textPage=this.translaterService.translate(`${e}PAGE`)}else this.locales&&(this.textItemsPerPage=this.locales.TEXT_ITEMS_PER_PAGE||"TEXT_ITEMS_PER_PAGE",this.textItems=this.locales.TEXT_ITEMS||"TEXT_ITEMS",this.textOf=this.locales.TEXT_OF||"TEXT_OF",this.textPage=this.locales.TEXT_PAGE||"TEXT_PAGE")}createPaginationContainer(){const t=Le("div",{id:"pager",className:`slick-pagination-container ${this.gridUid} pager`,style:{width:"100%"}}),e=Le("div",{className:"slick-pagination"});return t.appendChild(e),this._paginationElement=t,e}createPageNavigation(t,e){const r=Le("nav",{ariaLabel:t}),o=Le("ul",{className:"pagination"});for(const s of e){const a=Le("li",{className:s.liClass}),l=Le("a",{className:s.aClass});l.setAttribute("aria-label",s.ariaLabel),a.appendChild(l),o.appendChild(a)}return r.appendChild(o),r}createPageNumberSection(){const t=Le("div",{className:"slick-page-number"}),e=Le("span",{className:"text-page",textContent:"Page"}),r=Le("input",{type:"text",className:"form-control page-number",value:"1",size:1,dataset:{test:"page-number-input"}});r.setAttribute("aria-label","Page Number");const o=Le("span",{className:"text-of",textContent:"of"}),s=Le("span",{className:"page-count",dataset:{test:"page-count"}});return t.appendChild(e),t.appendChild(document.createTextNode(" ")),t.appendChild(r),t.appendChild(document.createTextNode(" ")),t.appendChild(o),t.appendChild(document.createTextNode(" ")),t.appendChild(s),t}createPaginationSettingsSection(){const t=Le("span",{className:"slick-pagination-settings"}),e=Le("select",{id:"items-per-page-label",className:"items-per-page"});e.setAttribute("aria-label","Items per Page Select");const r=Le("span",{className:"text-item-per-page",textContent:"items per page"}),o=Le("span",{className:"slick-pagination-count"}),s=Le("span",{className:"page-info-from-to"}),a=Le("span",{className:"item-from",dataset:{test:"item-from"}});a.setAttribute("aria-label","Page Item From");const l=Le("span",{className:"item-to",dataset:{test:"item-to"}});l.setAttribute("aria-label","Page Item To");const u=Le("span",{className:"text-of",textContent:"of"}),d=Le("span",{className:"page-info-total-items"}),p=Le("span",{className:"total-items",dataset:{test:"total-items"}}),m=Le("span",{className:"text-items",textContent:"items"});return t.appendChild(e),t.appendChild(document.createTextNode(" ")),t.appendChild(r),t.appendChild(document.createTextNode(", ")),s.appendChild(a),s.appendChild(document.createTextNode("-")),s.appendChild(l),s.appendChild(document.createTextNode(" ")),s.appendChild(u),s.appendChild(document.createTextNode(" ")),o.appendChild(s),t.appendChild(o),d.appendChild(p),d.appendChild(document.createTextNode(" ")),d.appendChild(m),d.appendChild(document.createTextNode(" ")),o.appendChild(d),t}updatePageButtonsUsability(){this.firstButtonClasses=this.isLeftPaginationDisabled?"page-item seek-first disabled":"page-item seek-first",this.prevButtonClasses=this.isLeftPaginationDisabled?"page-item seek-prev disabled":"page-item seek-prev",this.lastButtonClasses=this.isRightPaginationDisabled?"page-item seek-end disabled":"page-item seek-end",this.nextButtonClasses=this.isRightPaginationDisabled?"page-item seek-next disabled":"page-item seek-next"}}class j2{constructor(){this.className="RxJsResource"}get EMPTY(){return zn}createObservable(){return new It}createSubject(){return new Mi}firstValueFrom(t){return function z2(i,t){const e="object"==typeof t;return new Promise((r,o)=>{const s=new ut({next:a=>{r(a),s.unsubscribe()},error:o,complete:()=>{e?r(t.defaultValue):o(new $d)}});i.subscribe(s)})}(t)}iif(t,e,r){return function W2(i,t,e){return Ud(()=>i()?t:e)}(t,e,r)}isObservable(t){return Vl(t)}of(...t){return Ut(...t)}switchMap(t){return ts(t)}takeUntil(t){return function G2(i){return Wi((t,e)=>{Vn(i).subscribe(Oi(e,()=>e.complete(),pe)),!e.closed&&t.subscribe(e)})}(t)}}let Uf=(()=>{class i{constructor(e,r,o){this.compFactoryResolver=e,this.appRef=r,this.injector=o}createAngularComponent(e){const r=this.compFactoryResolver.resolveComponentFactory(e).create(this.injector);let o;this.appRef.attachView(r.hostView);const s=r.hostView;return s&&Array.isArray(s.rootNodes)&&s.rootNodes[0]&&(o=s.rootNodes[0]),{componentRef:r,domElement:o}}createAngularComponentAppendToDom(e,r,o=!1){const s=this.createAngularComponent(e);return r&&r.appendChild?(o&&r.innerHTML&&(r.innerHTML=""),r.appendChild(s.domElement)):document.body.appendChild(s.domElement),s}}return i.\u0275fac=function(e){return new(e||i)(Vt(ru),Vt(El),Vt(Jo))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),Y2=(()=>{class i{constructor(e){this.angularUtilService=e}get domElement(){return this._domElement}get domContainerElement(){return this._domContainerElement}get gridViewport(){return $(".slick-viewport")}dispose(){this._domElement&&this._domElement.remove&&this._domElement.remove()}dropContainerShow(){this._domContainerElement&&this._domContainerElement.show&&this._domContainerElement.show()}render(e){return new Promise(r=>{const{component:o,args:s,parent:a,offsetTop:l,offsetLeft:u,offsetDropupBottom:d}=e;if(this._domContainerElement=$(`#myDrop-r${s.row}-c${s.cell}`),this._domContainerElement){const E=this._domContainerElement.offset(),P=this.angularUtilService.createAngularComponent(o),H=P&&P.componentRef&&P.componentRef.instance;if(H){const U=H.dropdownId||"myDrop",X=H.dropDownToggleId||"dropdownMenu1";this._domElement=$(`#${U}`),this._domElement&&(this.dispose(),Object.assign(H,{parent:a,row:s.row,dataContext:s.grid.getDataItem(s.row)}),setTimeout(()=>{this._domElement=$(P.domElement);const J=(E&&E.top||0)+30+(l||0),te=(E&&E.left||0)+(u||0);this._domElement.appendTo("body"),this._domElement.css("position","absolute"),this._domElement.css("top",J),this._domElement.css("left",te),$(`#${U}`).addClass("open"),$(`#${X}`).hide();const De=$(".dropdown-menu"),xe=De.parent(),Ue=xe.offset()||{},ot=Ue.top||xe&&xe.length>0&&xe[0].offsetTop,it=De.height();let Kt="0px";window.innerHeight-it-35<ot&&(Kt="-".concat(`${it+35+(d||0)+5}`,"px")),this._domElement.css({"margin-top":Kt});const cn=Ue.left-$(document).width();this._domElement.css({"margin-left":this._domElement.width()+cn+60+"px"});try{this._domElement.dropdown("show")}catch{}this._domElement.on("hidden.bs.dropdown",()=>this.dropContainerShow()),this.gridViewport.on("scroll",()=>this.dispose()),this._domElement.on("click",()=>this.dispose()),r(!0)}))}}})}}return i.\u0275fac=function(e){return new(e||i)(Vt(Uf))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),Ex=(()=>{class i{constructor(){this.dependencies=[]}get(e){const r=this.dependencies.find(o=>o.key===e);return r?.instance?r.instance:null}dispose(){this.dependencies=[]}registerInstance(e,r){this.dependencies.some(s=>s.key===e)||this.dependencies.push({key:e,instance:r})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})(),Sx=(()=>{class i{constructor(e){this.translateService=e}getCurrentLanguage(){return this.translateService?.currentLang??""}use(e){var r=this;return Uo(function*(){return r.translateService?.use?.(e)})()}translate(e){return this.translateService?.instant?.(e||" ")}}return i.\u0275fac=function(e){return new(e||i)(Vt(Bf,8))},i.\u0275prov=oe({token:i,factory:i.\u0275fac}),i})();const C_="container_",Dx="container_loading";class q2 extends class L2{constructor(){this._dataViewIdProperty="id",this._expandableOverride=null,this._expandedRows=[],this._gridRowBuffer=0,this._gridUid="",this._keyPrefix="",this._lastRange=null,this._outsideRange=5,this._pubSubService=null,this._rowIdsOutOfViewport=[],this._visibleRenderedCellCount=0,this._defaults={alwaysRenderColumn:!0,columnId:"_detail_selector",cssClass:"detailView-toggle",collapseAllOnSort:!0,collapsedClass:null,expandedClass:null,keyPrefix:"_",loadOnce:!1,maxRows:null,saveDetailViewOnScroll:!0,singleRowExpand:!1,useSimpleViewportCalc:!1,toolTip:"",width:30},this.pluginName="RowDetailView",this.onAsyncEndUpdate=new Slick.Event,this.onAsyncResponse=new Slick.Event,this.onAfterRowDetailToggle=new Slick.Event,this.onBeforeRowDetailToggle=new Slick.Event,this.onRowBackToViewportRange=new Slick.Event,this.onRowOutOfViewportRange=new Slick.Event,this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get dataView(){var t;return(null===(t=this._grid)||void 0===t?void 0:t.getData())||{}}get dataViewIdProperty(){return this._dataViewIdProperty}get eventHandler(){return this._eventHandler}get gridOptions(){var t;return(null===(t=this._grid)||void 0===t?void 0:t.getOptions())||{}}get gridUid(){var t;return this._gridUid||(null===(t=this._grid)||void 0===t?void 0:t.getUID())||""}set lastRange(t){this._lastRange=t}set rowIdsOutOfViewport(t){this._rowIdsOutOfViewport=t}get visibleRenderedCellCount(){return this._visibleRenderedCellCount}init(t){var e;if(this._grid=t,!t)throw new Error('[Slickgrid-Universal] RowDetailView Plugin requires the Grid instance to be passed as argument to the "init()" method.');this._grid=t,this._gridUid=t.getUID(),this._addonOptions=this.gridOptions.rowDetailView||{},this._keyPrefix=(null===(e=this._addonOptions)||void 0===e?void 0:e.keyPrefix)||"_",this._gridRowBuffer=this.gridOptions.minRowBuffer||0,this.gridOptions.minRowBuffer=this._addonOptions.panelRows+3,this._eventHandler.subscribe(this._grid.onClick,this.handleClick.bind(this)).subscribe(this._grid.onScroll,this.handleScroll.bind(this)),this._addonOptions.collapseAllOnSort&&(this._eventHandler.subscribe(this._grid.onSort,this.collapseAll.bind(this)),this._expandedRows=[],this._rowIdsOutOfViewport=[]),this._eventHandler.subscribe(this.dataView.onRowCountChanged,()=>{this._grid.updateRowCount(),this._grid.render()}),this._eventHandler.subscribe(this.dataView.onRowsChanged,(r,o)=>{this._grid.invalidateRows(o.rows),this._grid.render()}),this._eventHandler.subscribe(this.onAsyncResponse,this.handleOnAsyncResponse.bind(this)),this._eventHandler.subscribe(this.dataView.onSetItemsCalled,()=>{var r;this._dataViewIdProperty=(null===(r=this.dataView)||void 0===r?void 0:r.getIdPropertyName())||"id"}),this._addonOptions.useSimpleViewportCalc&&this._eventHandler.subscribe(this._grid.onRendered,(r,o)=>{o?.endRow&&(this._visibleRenderedCellCount=o.endRow-o.startRow)})}dispose(){var t;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll()}create(t,e){var r,o;if(!e.rowDetailView)throw new Error('[Slickgrid-Universal] The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(this._addonOptions={...this._defaults,...e.rowDetailView},"function"==typeof this._addonOptions.expandableOverride&&this.expandableOverride(this._addonOptions.expandableOverride),Array.isArray(t)&&e){const s=this.getColumnDefinition(),l=Array.isArray(t)&&t.find(d=>"selectAndMove"===d?.behavior)||s,u=null!==(o=null===(r=e?.rowDetailView)||void 0===r?void 0:r.columnIndexPosition)&&void 0!==o?o:0;u>0?t.splice(u,0,l):t.unshift(l)}return this}getOptions(){return this._addonOptions}setOptions(t){var e;this._addonOptions={...this._addonOptions,...t},null!==(e=this._addonOptions)&&void 0!==e&&e.singleRowExpand&&this.collapseAll()}collapseAll(){this.dataView.beginUpdate();for(const t of this._expandedRows)this.collapseDetailView(t,!0);this.dataView.endUpdate()}collapseDetailView(t,e=!1){e||this.dataView.beginUpdate(),this._addonOptions.loadOnce&&this.saveDetailView(t),t[`${this._keyPrefix}collapsed`]=!0;for(let r=1;r<=t[`${this._keyPrefix}sizePadding`];r++)this.dataView.deleteItem(`${t[this._dataViewIdProperty]}.${r}`);t[`${this._keyPrefix}sizePadding`]=0,this.dataView.updateItem(t[this._dataViewIdProperty],t),this._expandedRows=this._expandedRows.filter(r=>r[this._dataViewIdProperty]!==t[this._dataViewIdProperty]),e||this.dataView.endUpdate()}expandDetailView(t){var e,r,o;if(!(null===(e=this._addonOptions)||void 0===e)&&e.singleRowExpand&&this.collapseAll(),t[`${this._keyPrefix}collapsed`]=!1,this._expandedRows.push(t),t[`${this._keyPrefix}detailContent`]||(t[`${this._keyPrefix}detailViewLoaded`]=!1),t[`${this._keyPrefix}detailViewLoaded`]&&!0===this._addonOptions.loadOnce)return this.onAsyncResponse.notify({item:t,itemDetail:t,detailView:t[`${this._keyPrefix}detailContent`]}),this.applyTemplateNewLineHeight(t),void this.dataView.updateItem(t[this._dataViewIdProperty],t);t[`${this._keyPrefix}detailContent`]=null===(o=null===(r=this._addonOptions)||void 0===r?void 0:r.preTemplate)||void 0===o?void 0:o.call(r,t),this.applyTemplateNewLineHeight(t),this.dataView.updateItem(t[this._dataViewIdProperty],t),this._addonOptions.process(t)}saveDetailView(t){const e=document.querySelector(`.${this.gridUid} .innerDetailView_${t[this._dataViewIdProperty]}`);if(e){const r=e.innerHTML;void 0!==r&&(t[`${this._keyPrefix}detailContent`]=r)}}handleOnAsyncResponse(t,e){var r,o,s;if(!e||!e.item&&!e.itemDetail)return void console.error('SlickRowDetailView plugin requires the onAsyncResponse() to supply "args.item" property.');const a=e.item||e.itemDetail;a[`${this._keyPrefix}detailContent`]=null!==(r=e.detailView)&&void 0!==r?r:null===(s=null===(o=this._addonOptions)||void 0===o?void 0:o.postTemplate)||void 0===s?void 0:s.call(o,a),a[`${this._keyPrefix}detailViewLoaded`]=!0,this.dataView.updateItem(a[this._dataViewIdProperty],a),this.onAsyncEndUpdate.notify({grid:this._grid,item:a,itemDetail:a})}expandableOverride(t){this._expandableOverride=t}getExpandableOverride(){return this._expandableOverride}getColumnDefinition(){var t,e,r;return{id:null!==(e=null===(t=this._addonOptions)||void 0===t?void 0:t.columnId)&&void 0!==e?e:"_rowDetail_",field:"sel",name:"",alwaysRenderColumn:null===(r=this._addonOptions)||void 0===r?void 0:r.alwaysRenderColumn,cssClass:this._addonOptions.cssClass||"",excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,formatter:this.detailSelectionFormatter.bind(this),resizable:!1,sortable:!1,toolTip:this._addonOptions.toolTip,width:this._addonOptions.width}}getExpandedRows(){return this._expandedRows}getOutOfViewportRows(){return this._rowIdsOutOfViewport}getFilterItem(t){return t[`${this._keyPrefix}isPadding`]&&t[`${this._keyPrefix}parent`]&&(t=t[`${this._keyPrefix}parent`]),t}resizeDetailView(t){if(!t)return;const e=document.querySelector(`.${this.gridUid} .detailViewContainer_${t[this._dataViewIdProperty]}`),r=document.querySelector(`.${this.gridUid} .cellDetailView_${t[this._dataViewIdProperty]}`),o=document.querySelector(`.${this.gridUid} .innerDetailView_${t[this._dataViewIdProperty]}`);if(!e||!r||!o)return;for(let m=1;m<=t[`${this._keyPrefix}sizePadding`];m++)this.dataView.deleteItem(`${t[this._dataViewIdProperty]}.${m}`);const s=this.gridOptions.rowHeight;e.style.minHeight="";const l=e.scrollHeight,u=Math.ceil(l/s);t[`${this._keyPrefix}sizePadding`]=Math.ceil(2*u*13/s),t[`${this._keyPrefix}height`]=l;let d=t[`${this._keyPrefix}sizePadding`]*s;null!==this._addonOptions.maxRows&&t[`${this._keyPrefix}sizePadding`]>this._addonOptions.maxRows&&(d=this._addonOptions.maxRows*s,t[`${this._keyPrefix}sizePadding`]=this._addonOptions.maxRows),this.gridOptions.minRowBuffer<t[`${this._keyPrefix}sizePadding`]&&(this.gridOptions.minRowBuffer=t[`${this._keyPrefix}sizePadding`]+3),e.setAttribute("style",`min-height: ${t[this._keyPrefix+"height"]}px`),r&&r.setAttribute("style",`height: ${d}px; top: ${s}px`);const p=this.dataView.getIdxById(t[this._dataViewIdProperty]);for(let m=1;m<=t[`${this._keyPrefix}sizePadding`];m++)this.dataView.insertItem(p+m,this.getPaddingItem(t,m));this.saveDetailView(t)}applyTemplateNewLineHeight(t){t[`${this._keyPrefix}sizePadding`]=Math.ceil(2*this._addonOptions.panelRows*13/this.gridOptions.rowHeight),t[`${this._keyPrefix}height`]=t[`${this._keyPrefix}sizePadding`]*this.gridOptions.rowHeight;const o=this.dataView.getIdxById(t[this._dataViewIdProperty]);for(let s=1;s<=t[`${this._keyPrefix}sizePadding`];s++)this.dataView.insertItem((o||0)+s,this.getPaddingItem(t,s))}calculateOutOfRangeViews(){if(this._grid){let t;const e=this._grid.getRenderedRange();if(this._expandedRows.length>0&&(t="DOWN",this._lastRange)){if(this._lastRange.top===e.top&&this._lastRange.bottom===e.bottom)return;(this._lastRange.top>e.top||0===this._lastRange.top&&0===e.top&&this._lastRange.bottom>e.bottom)&&(t="UP")}this._expandedRows.forEach(r=>{const o=this.dataView.getRowById(r[this._dataViewIdProperty]),s=r[`${this._keyPrefix}sizePadding`],a=this._rowIdsOutOfViewport.some(l=>l===r[this._dataViewIdProperty]);"UP"===t?(this._addonOptions.saveDetailViewOnScroll&&o>=e.bottom-this._gridRowBuffer&&this.saveDetailView(r),a&&o-this._outsideRange<e.top&&o>=e.top?this.notifyBackToViewportWhenDomExist(r,r[this._dataViewIdProperty]):!a&&o+s>e.bottom&&this.notifyOutOfViewport(r,r[this._dataViewIdProperty])):"DOWN"===t&&(this._addonOptions.saveDetailViewOnScroll&&o<=e.top+this._gridRowBuffer&&this.saveDetailView(r),a&&o+s+this._outsideRange>e.bottom&&o<o+s?this.notifyBackToViewportWhenDomExist(r,r[this._dataViewIdProperty]):!a&&o<e.top&&this.notifyOutOfViewport(r,r[this._dataViewIdProperty]))}),this._lastRange=e}}calculateOutOfRangeViewsSimplerVersion(){if(this._grid){const t=this._grid.getRenderedRange();this._expandedRows.forEach(e=>{const r=this.dataView.getRowById(e[this._dataViewIdProperty]),o=this.checkIsRowOutOfViewportRange(r,t);!o&&this._rowIdsOutOfViewport.some(s=>s===e[this._dataViewIdProperty])?this.notifyBackToViewportWhenDomExist(e,e[this._dataViewIdProperty]):o&&this.notifyOutOfViewport(e,e[this._dataViewIdProperty])})}}checkExpandableOverride(t,e,r){return"function"!=typeof this._expandableOverride||this._expandableOverride(t,e,r)}checkIsRowOutOfViewportRange(t,e){return Math.abs(e.bottom-this._gridRowBuffer-t)>2*this._visibleRenderedCellCount}getPaddingItem(t,e){const r={};for(const o in this.dataView)o&&(r[o]=null);return r[this._dataViewIdProperty]=`${t[this._dataViewIdProperty]}.${e}`,r[`${this._keyPrefix}collapsed`]=!0,r[`${this._keyPrefix}isPadding`]=!0,r[`${this._keyPrefix}parent`]=t,r[`${this._keyPrefix}offset`]=e,r}detailSelectionFormatter(t,e,r,o,s,a){if(!this.checkExpandableOverride(t,s,a))return"";if(void 0===s[`${this._keyPrefix}collapsed`]&&(s[`${this._keyPrefix}collapsed`]=!0,s[`${this._keyPrefix}sizePadding`]=0,s[`${this._keyPrefix}height`]=0,s[`${this._keyPrefix}isPadding`]=!1,s[`${this._keyPrefix}parent`]=void 0,s[`${this._keyPrefix}offset`]=0),!s[`${this._keyPrefix}isPadding`]){if(s[`${this._keyPrefix}collapsed`]){let l=`${this._addonOptions.cssClass||""} expand `;return this._addonOptions.collapsedClass&&(l+=this._addonOptions.collapsedClass),`<div class="${l.trim()}"></div>`}{const l=[],u=this.gridOptions.rowHeight||0;let d=(s[`${this._keyPrefix}sizePadding`]||0)*this.gridOptions.rowHeight;null!==this._addonOptions.maxRows&&(s[`${this._keyPrefix}sizePadding`]||0)>this._addonOptions.maxRows&&(d=this._addonOptions.maxRows*u,s[`${this._keyPrefix}sizePadding`]=this._addonOptions.maxRows);let p=`${this._addonOptions.cssClass||""} collapse `;return this._addonOptions.expandedClass&&(p+=this._addonOptions.expandedClass),l.push(`<div class="${p.trim()}"></div></div>`),l.push(`<div class="dynamic-cell-detail cellDetailView_${s[this._dataViewIdProperty]}" `),l.push(`style="height: ${d}px;`),l.push(`top: ${u}px">`),l.push(`<div class="detail-container detailViewContainer_${s[this._dataViewIdProperty]}">`),l.push(`<div class="innerDetailView_${s[this._dataViewIdProperty]}">${s[`${this._keyPrefix}detailContent`]}</div></div>`),l.join("")}}return""}handleAccordionShowHide(t){t&&(t[`${this._keyPrefix}collapsed`]?this.expandDetailView(t):this.collapseDetailView(t))}handleClick(t,e){const r=this._grid.getDataItem(e.row);if(this.checkExpandableOverride(e.row,r,this._grid)){const o=this._grid.getColumns()[e.cell];if(this._addonOptions.useRowClick||o.id===this._addonOptions.columnId&&t.target.classList.contains(this._addonOptions.cssClass||"")){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit())return t.preventDefault(),void t.stopImmediatePropagation();this.onBeforeRowDetailToggle.notify({grid:this._grid,item:r}),this.toggleRowSelection(e.row,r),this.onAfterRowDetailToggle.notify({grid:this._grid,item:r,expandedRows:this._expandedRows}),t.stopPropagation(),t.stopImmediatePropagation()}}}handleScroll(){this._addonOptions.useSimpleViewportCalc?this.calculateOutOfRangeViewsSimplerVersion():this.calculateOutOfRangeViews()}notifyOutOfViewport(t,e){const r=t.rowIndex||this.dataView.getRowById(t[this._dataViewIdProperty]);this.onRowOutOfViewportRange.notify({grid:this._grid,item:t,rowId:e,rowIndex:r,expandedRows:this._expandedRows,rowIdsOutOfViewport:this.syncOutOfViewportArray(e,!0)})}notifyBackToViewportWhenDomExist(t,e){const r=t.rowIndex||this.dataView.getRowById(t[this._dataViewIdProperty]);setTimeout(()=>{document.querySelector(`.cellDetailView_${t[this._dataViewIdProperty]}`)&&this.onRowBackToViewportRange.notify({grid:this._grid,item:t,rowId:e,rowIndex:r,expandedRows:this._expandedRows,rowIdsOutOfViewport:this.syncOutOfViewportArray(e,!1)})},100)}syncOutOfViewportArray(t,e){const r=this._rowIdsOutOfViewport.findIndex(o=>o===t);return e&&r<0?this._rowIdsOutOfViewport.push(t):!e&&r>=0&&this._rowIdsOutOfViewport.splice(r,1),this._rowIdsOutOfViewport}toggleRowSelection(t,e){this.checkExpandableOverride(t,e,this._grid)&&(this.dataView.beginUpdate(),this.handleAccordionShowHide(e),this.dataView.endUpdate())}}{constructor(t,e,r,o,s){super(),this.angularUtilService=t,this.appRef=e,this.eventPubSubService=r,this.gridContainerElement=o,this.rxjs=s,this._views=[],this._subscriptions=[]}get addonOptions(){return this.getOptions()}get datasetIdPropName(){return this.gridOptions.datasetIdPropertyName||"id"}get eventHandler(){return this._eventHandler}set eventHandler(t){this._eventHandler=t}get gridOptions(){return this._grid?.getOptions()||{}}get rowDetailViewOptions(){return this.gridOptions.rowDetailView}addRxJsResource(t){this.rxjs=t}dispose(){this.disposeAllViewComponents(),this._subscriptions=oc(this._subscriptions),super.dispose()}disposeAllViewComponents(){this._views.forEach(t=>this.disposeViewComponent(t)),this._views=[]}getAddonInstance(){return this}init(t){this._grid=t,super.init(this._grid),this.register(t?.getSelectionModel())}register(t){if("function"!=typeof this.gridOptions.rowDetailView?.process)throw new Error('[Angular-Slickgrid] You need to provide a "process" function for the Row Detail Extension to work properly');return this._userProcessFn=this.gridOptions.rowDetailView.process,this.gridOptions.rowDetailView.process=e=>this.onProcessing(e),this._grid&&this.gridOptions?.rowDetailView&&(this.gridOptions.rowDetailView.preTemplate||(this._preloadComponent=this.gridOptions?.rowDetailView?.preloadComponent,this.gridOptions.rowDetailView.preTemplate=()=>ia.sanitize(`<div class="${Dx}"></div>`)),this.gridOptions.rowDetailView.postTemplate||(this._viewComponent=this.gridOptions?.rowDetailView?.viewComponent,this.gridOptions.rowDetailView.postTemplate=e=>ia.sanitize(`<div class="${C_}${e[this.datasetIdPropName]}"></div>`)),(!t||!this._grid.getSelectionModel())&&(t=new Tf(this.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this._grid.setSelectionModel(t)),this._grid&&this.rowDetailViewOptions&&(this.rowDetailViewOptions.onExtensionRegistered&&this.rowDetailViewOptions.onExtensionRegistered(this),this.onAsyncResponse&&this._eventHandler.subscribe(this.onAsyncResponse,(e,r)=>{this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onAsyncResponse&&this.rowDetailViewOptions.onAsyncResponse(e,r)}),this.onAsyncEndUpdate&&this._eventHandler.subscribe(this.onAsyncEndUpdate,(e,r)=>{this.renderViewModel(r?.item),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onAsyncEndUpdate&&this.rowDetailViewOptions.onAsyncEndUpdate(e,r)}),this.onAfterRowDetailToggle&&this._eventHandler.subscribe(this.onAfterRowDetailToggle,(e,r)=>{this.renderPreloadView(),this.renderAllViewComponents(),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onAfterRowDetailToggle&&this.rowDetailViewOptions.onAfterRowDetailToggle(e,r)}),this.onBeforeRowDetailToggle&&this._eventHandler.subscribe(this.onBeforeRowDetailToggle,(e,r)=>{this.handleOnBeforeRowDetailToggle(e,r),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onBeforeRowDetailToggle&&this.rowDetailViewOptions.onBeforeRowDetailToggle(e,r)}),this.onRowBackToViewportRange&&this._eventHandler.subscribe(this.onRowBackToViewportRange,(e,r)=>{this.handleOnRowBackToViewportRange(e,r),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onRowBackToViewportRange&&this.rowDetailViewOptions.onRowBackToViewportRange(e,r)}),this.onRowOutOfViewportRange&&this._eventHandler.subscribe(this.onRowOutOfViewportRange,(e,r)=>{this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onRowOutOfViewportRange&&this.rowDetailViewOptions.onRowOutOfViewportRange(e,r)}),this._eventHandler.subscribe(this._grid.onColumnsReordered,this.redrawAllViewComponents.bind(this)),(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this._eventHandler.subscribe(this._grid.onSelectedRowsChanged,this.redrawAllViewComponents.bind(this)),this._eventHandler.subscribe(this._grid.onSort,this.disposeAllViewComponents.bind(this)),this._subscriptions.push(this.eventPubSubService?.subscribe("onFilterChanged",this.redrawAllViewComponents.bind(this)),this.eventPubSubService?.subscribe("onGridMenuClearAllFilters",()=>setTimeout(()=>this.redrawAllViewComponents())),this.eventPubSubService?.subscribe("onGridMenuClearAllSorting",()=>setTimeout(()=>this.redrawAllViewComponents()))))),this}redrawAllViewComponents(){this._views.forEach(t=>{this.redrawViewComponent(t)})}renderAllViewComponents(){this._views.forEach(t=>{t&&t.dataContext&&this.renderViewModel(t.dataContext)})}redrawViewComponent(t){const e=this.gridContainerElement.getElementsByClassName(`${C_}${t.id}`);e&&e.length>=0&&this.renderViewModel(t.dataContext)}renderPreloadView(){const t=this.gridContainerElement.getElementsByClassName(`${Dx}`);t&&t.length>=0&&this.angularUtilService.createAngularComponentAppendToDom(this._preloadComponent,t[t.length-1],!0)}renderViewModel(t){const e=this.gridContainerElement.getElementsByClassName(`${C_}${t[this.datasetIdPropName]}`);if(e&&e.length>0){const r=this.angularUtilService.createAngularComponentAppendToDom(this._viewComponent,e[e.length-1],!0);if(r&&r.componentRef&&r.componentRef.instance){Object.assign(r.componentRef.instance,{model:t,addon:this,grid:this._grid,dataView:this.dataView,parent:this.rowDetailViewOptions&&this.rowDetailViewOptions.parent});const o=this._views.find(s=>s.id===t[this.datasetIdPropName]);return o&&(o.componentRef=r.componentRef),o}}}disposeViewComponent(t){const e=t?.componentRef;if(e)return this.appRef.detachView(e.hostView),e?.destroy&&e.destroy(),t}notifyTemplate(t){this.onAsyncResponse&&this.onAsyncResponse.notify({item:t},void 0,this)}onProcessing(t){var e=this;return Uo(function*(){if(t&&"function"==typeof e._userProcessFn){let r;const s=yield e._userProcessFn(t);if(s.hasOwnProperty(e.datasetIdPropName)?r=s:(s&&s instanceof It||s instanceof Promise)&&(r=yield Gv(e.rxjs,s)),!r||!r.hasOwnProperty(e.datasetIdPropName))throw new Error(`[Angular-Slickgrid] could not process the Row Detail, you must make sure that your "process" callback\n          (a Promise or an HttpClient call returning an Observable) returns an item object that has an "${e.datasetIdPropName}" property`);e.notifyTemplate(r||{})}})()}handleOnBeforeRowDetailToggle(t,e){if(e&&e.item&&e.item.__collapsed)yT(this._views,{id:e.item[this.datasetIdPropName],dataContext:e.item},this.gridOptions.datasetIdPropertyName||"id");else{const r=this._views.findIndex(o=>o.id===e.item[this.datasetIdPropName]);if(r>=0&&this._views.hasOwnProperty(r)){const o=this._views[r].componentRef;o&&(this.appRef.detachView(o.hostView),o.destroy()),this._views.splice(r,1)}}}handleOnRowBackToViewportRange(t,e){e?.item&&this.redrawAllViewComponents()}}const zf={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{applyResizeToContainer:!0,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:180,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{fadeSpeed:0,hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:Tx},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCopyCellValueCommand:"fa fa-clone",iconExportCsvCommand:"fa fa-download",iconExportExcelCommand:"fa fa-file-excel-o text-success",iconExportTextDelimitedCommand:"fa fa-download"},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{items:"items",itemsKey:"ITEMS",itemsSelected:"items selected",itemsSelectedKey:"ITEMS_SELECTED",of:"of",ofKey:"OF"}},dataView:{syncGridSelection:!0,syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:ox.input,defaultBackendServiceFilterTypingDebounce:500,defaultColumnSortFieldId:"id",defaultFilterPlaceholder:"\u{1f50e}\ufe0e",defaultFilterRangeOperator:Xt.rangeInclusive,editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!0,enableExport:!1,enableFilterTrimWhiteSpace:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",message:"No data to display.",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,eventNamingStyle:ws.camelCase,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,exportWithFormatter:!1,filename:"export",format:Hs.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2b9e",groupExpandedSymbol:"\u2b9f",groupingAggregatorRowText:"",sanitizeDataExport:!1},exportOptions:{delimiter:Ma.comma,exportWithFormatter:!1,filename:"export",format:Hs.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},filterTypingDebounce:0,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:0,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars",iconClearAllFiltersCommand:"fa fa-filter text-danger",iconClearAllSortingCommand:"fa fa-unsorted text-danger",iconClearFrozenColumnsCommand:"fa fa-times",iconExportCsvCommand:"fa fa-download",iconExportExcelCommand:"fa fa-file-excel-o text-success",iconExportTextDelimitedCommand:"fa fa-download",iconRefreshDatasetCommand:"fa fa-refresh",iconToggleFilterCommand:"fa fa-random",iconTogglePreHeaderCommand:"fa fa-random",menuWidth:16,resizeOnShowHeaderRow:!0,headerColumnValueExtractor:Tx},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconClearFilterCommand:"fa fa-filter text-danger",iconClearSortCommand:"fa fa-unsorted",iconFreezeColumns:"fa fa-thumb-tack",iconSortAscCommand:"fa fa-sort-amount-asc",iconSortDescCommand:"fa fa-sort-amount-desc",iconColumnHideCommand:"fa fa-times",iconColumnResizeByContentCommand:"fa fa-arrows-h",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{collapseAllOnSort:!0,cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!1,useSimpleViewportCalc:!0,saveDetailViewOnScroll:!1},rowHeight:35,topPanelHeight:35,translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\xb7"}};function Tx(i){const t=i&&i.columnGroup||"";return t?t+" - "+i.name:i&&i.name||""}let K2=(()=>{class i{}return i.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"},i.treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"},i.VALIDATION_REQUIRED_FIELD="Field is required",i.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",i.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",i.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",i.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",i.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}",i.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",i.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}",i.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",i.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",i.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}",i.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",i.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}",i.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",i.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters",i.VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters",i.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters",i.VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)",i.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)",i})(),X2=(()=>{class i{constructor(e,r,o,s,a,l,u,d,p){this.angularUtilService=e,this.appRef=r,this.cd=o,this.containerService=s,this.elm=a,this.translate=l,this.translaterService=u,this.forRootConfig=d,this._currentDatasetLength=0,this._eventHandler=new Slick.EventHandler,this._hideHeaderRowAfterPageLoad=!1,this._isGridInitialized=!1,this._isDatasetInitialized=!1,this._isDatasetHierarchicalInitialized=!1,this._isPaginationInitialized=!1,this._isLocalGrid=!0,this._registeredResources=[],this.groupingDefinition={},this.showPagination=!1,this.serviceList=[],this.totalItems=0,this.subscriptions=[],this.gridId="";const m=new P2;this._eventPubSubService=p?.eventPubSubService??new V2(this.elm.nativeElement),this._eventPubSubService.eventNamingStyle=ws.camelCase,this.backendUtilityService=p?.backendUtilityService??new gT,this.gridEventService=p?.gridEventService??new tU,this.sharedService=p?.sharedService??new hU,this.collectionService=p?.collectionService??new FT(this.translaterService),this.extensionUtility=p?.extensionUtility??new OB(this.sharedService,this.backendUtilityService,this.translaterService),this.filterFactory=new TU(m,this.translaterService,this.collectionService),this.filterService=p?.filterService??new JB(this.filterFactory,this._eventPubSubService,this.sharedService,this.backendUtilityService),this.resizerService=p?.resizerService??new cU(this._eventPubSubService),this.sortService=p?.sortService??new fU(this.sharedService,this._eventPubSubService,this.backendUtilityService),this.treeDataService=p?.treeDataService??new pU(this._eventPubSubService,this.sharedService,this.sortService),this.paginationService=p?.paginationService??new rU(this._eventPubSubService,this.sharedService,this.backendUtilityService),this.extensionService=p?.extensionService??new zB(this.extensionUtility,this.filterService,this._eventPubSubService,this.sharedService,this.sortService,this.treeDataService,this.translaterService),this.gridStateService=p?.gridStateService??new iU(this.extensionService,this.filterService,this._eventPubSubService,this.sharedService,this.sortService,this.treeDataService),this.gridService=p?.gridService??new eU(this.gridStateService,this.filterService,this._eventPubSubService,this.paginationService,this.sharedService,this.sortService,this.treeDataService),this.groupingService=p?.groupingAndColspanService??new nU(this.extensionUtility,this._eventPubSubService),this.serviceList=[this.containerService,this.extensionService,this.filterService,this.gridEventService,this.gridService,this.gridStateService,this.groupingService,this.paginationService,this.resizerService,this.sortService,this.treeDataService],this.containerService.registerInstance("ExtensionUtility",this.extensionUtility),this.containerService.registerInstance("FilterService",this.filterService),this.containerService.registerInstance("CollectionService",this.collectionService),this.containerService.registerInstance("ExtensionService",this.extensionService),this.containerService.registerInstance("GridEventService",this.gridEventService),this.containerService.registerInstance("GridService",this.gridService),this.containerService.registerInstance("GridStateService",this.gridStateService),this.containerService.registerInstance("GroupingAndColspanService",this.groupingService),this.containerService.registerInstance("PaginationService",this.paginationService),this.containerService.registerInstance("ResizerService",this.resizerService),this.containerService.registerInstance("SharedService",this.sharedService),this.containerService.registerInstance("SortService",this.sortService),this.containerService.registerInstance("EventPubSubService",this._eventPubSubService),this.containerService.registerInstance("PubSubService",this._eventPubSubService),this.containerService.registerInstance("TranslaterService",this.translaterService),this.containerService.registerInstance("TreeDataService",this.treeDataService)}get paginationOptions(){return this._paginationOptions}set paginationOptions(e){this._paginationOptions=e&&this._paginationOptions?{...this.gridOptions.pagination,...this._paginationOptions,...e}:e,this.gridOptions.pagination=this._paginationOptions??this.gridOptions.pagination,this.paginationService.updateTotalItems(this.gridOptions.pagination?.totalItems??0,!0)}set columnDefinitions(e){this._columnDefinitions=e,this._isGridInitialized&&this.updateColumnDefinitionsList(e),e.length>0&&this.copyColumnWidthsReference(e)}get columnDefinitions(){return this._columnDefinitions}get dataset(){return(this.customDataView?this.slickGrid?.getData?.():this.dataView?.getItems?.())||[]}set dataset(e){const r=this._currentDatasetLength,o=Bs(e,this._dataset||[]);let s=e;this.slickGrid&&this.gridOptions?.enableTreeData&&Array.isArray(e)&&(e.length>0||e.length!==r||!o)&&(this._isDatasetHierarchicalInitialized=!1,s=this.sortTreeDataset(e,!o)),this._dataset=s,this.refreshGridData(s||[]),this._currentDatasetLength=(e||[]).length,this.gridOptions?.autoFitColumnsOnFirstLoad&&0===r&&this.slickGrid.autosizeColumns()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}set datasetHierarchical(e){const r=Bs(e,this.sharedService?.hierarchicalDataset??[]),o=this._currentDatasetLength;this.sharedService.hierarchicalDataset=e,e&&this.columnDefinitions&&this.filterService?.clearFilters&&this.filterService.clearFilters(),e&&this.slickGrid&&this.sortService?.processTreeDataInitialSort&&(this.dataView.setItems([],this.gridOptions.datasetIdPropertyName??"id"),this.sortService.processTreeDataInitialSort(),setTimeout(()=>{const s=this.dataView.getItemCount();s>0&&(s!==o||!r)&&this.filterService.refreshTreeDataFilters()}),this._isDatasetHierarchicalInitialized=!0)}get elementRef(){return this.elm}get eventHandler(){return this._eventHandler}get gridContainerElement(){return document.querySelector(`#${this.gridOptions.gridContainerId||""}`)}get isDatasetInitialized(){return this._isDatasetInitialized}set isDatasetInitialized(e){this._isDatasetInitialized=e}set isDatasetHierarchicalInitialized(e){this._isDatasetHierarchicalInitialized=e}get registeredResources(){return this._registeredResources}ngAfterViewInit(){if(!this.gridOptions||!this.columnDefinitions)throw new Error("Using `<angular-slickgrid>` requires [gridOptions] and [columnDefinitions], it seems that you might have forgot to provide them since at least of them is undefined.");this.initialization(this._eventHandler),this._isGridInitialized=!0,this.gridOptions&&this.gridOptions.enableEmptyDataWarningMessage&&Array.isArray(this.dataset)&&this.displayEmptyDataWarning(this.dataset.length<1)}ngOnDestroy(){this._eventPubSubService.publish("onBeforeGridDestroy",this.slickGrid),this.destroy(),this._eventPubSubService.publish("onAfterGridDestroyed",!0)}destroy(e=!1){if(this.serviceList.forEach(r=>{r&&r.dispose&&r.dispose()}),this.serviceList=[],Array.isArray(this._registeredResources)){for(;this._registeredResources.length>0;){const r=this._registeredResources.pop();r?.dispose&&r.dispose()}this._registeredResources=[]}if(this.slickEmptyWarning?.dispose(),this.slickFooter?.dispose(),this.slickPagination?.dispose(),this._eventHandler?.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this._eventPubSubService?.unsubscribeAll(),this.dataView&&(this.dataView?.setItems&&this.dataView.setItems([]),this.dataView.destroy&&this.dataView.destroy()),this.slickGrid?.destroy&&this.slickGrid.destroy(e),this.backendServiceApi){for(const r of Object.keys(this.backendServiceApi))delete this.backendServiceApi[r];this.backendServiceApi=void 0}for(const r of Object.keys(this.columnDefinitions))this.columnDefinitions[r]=null;for(const r of Object.keys(this.sharedService))this.sharedService[r]=null;e&&this.emptyGridContainerElm(),this.subscriptions=oc(this.subscriptions),this._dataset=null,this.datasetHierarchical=void 0,this._columnDefinitions=[],this._angularGridInstances=void 0,this.slickGrid=void 0}emptyGridContainerElm(){bn(document.querySelector(`#${this.gridOptions?.gridContainerId??"grid1"}`))}createBackendApiInternalPostProcessCallback(e){const r=e&&e.backendServiceApi;if(r&&r.service){const o=r.service;"function"==typeof o.getDatasetName&&(r.internalPostProcess=s=>{const a=r&&o&&"function"==typeof o.getDatasetName?o.getDatasetName():"";if(s?.data[a]){const l=s.data[a].hasOwnProperty("nodes")?s.data[a].nodes:s.data[a],u=s.data[a].hasOwnProperty("totalCount")?s.data[a].totalCount:s.data[a].length;this.refreshGridData(l,u||0)}})}}initialization(e){if(this.gridOptions.translater=this.translaterService,this._eventHandler=e,this.gridOptions&&(void 0!==this.gridOptions.frozenRow&&this.gridOptions.frozenRow>=0||void 0!==this.gridOptions.frozenColumn&&this.gridOptions.frozenColumn>=0)&&void 0===this.gridOptions.enableMouseWheelScrollHandler&&(this.gridOptions.enableMouseWheelScrollHandler=!0),this._eventPubSubService.eventNamingStyle=this.gridOptions?.eventNamingStyle??ws.camelCase,this._eventPubSubService.publish("onBeforeGridCreate",!0),this._dataset=this._dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this._paginationOptions=this.gridOptions?.pagination,this.locales=this.gridOptions?.locales??K2.locales,this.backendServiceApi=this.gridOptions?.backendServiceApi,this._isLocalGrid=!this.backendServiceApi,this.createBackendApiInternalPostProcessCallback(this.gridOptions),!this.customDataView){let s={inlineFilters:this.gridOptions.dataView&&this.gridOptions.dataView.inlineFilters||!1};(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping)&&(this.groupItemMetadataProvider=new GT,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,s={...s,groupItemMetadataProvider:this.groupItemMetadataProvider}),this.dataView=new Slick.Data.DataView(s),this._eventPubSubService.publish("onDataviewCreated",this.dataView)}this.preRegisterResources(),this._columnDefinitions=this.swapInternalEditorToSlickGridFactoryEditor(this._columnDefinitions),this.gridOptions.autoAddCustomEditorFormatter&&function LB(i,t){if(Array.isArray(i))for(const e of i)if(e.editor)if(e.formatter&&e.formatter!==Af&&e.formatter!==t){const r=e.formatter;e.formatter=Af,e.params={...e.params,formatters:[r,t]}}else e.formatter&&e.formatter===Af&&e.params?-1===e.params.formatters.findIndex(r=>r===t)&&(e.params.formatters=[...e.params.formatters,t]):e.formatter=t}(this._columnDefinitions,this.gridOptions.autoAddCustomEditorFormatter),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.gridOptions.presets?.pinning&&(this.gridOptions={...this.gridOptions,...this.gridOptions.presets.pinning}),this.slickGrid=new Slick.Grid(`#${this.gridId}`,this.customDataView||this.dataView,this._columnDefinitions,this.gridOptions),this.sharedService.dataView=this.dataView,this.sharedService.slickGrid=this.slickGrid,this.sharedService.gridContainerElement=this.elm.nativeElement,this.extensionService.bindDifferentExtensions(),this.bindDifferentHooks(this.slickGrid,this.gridOptions,this.dataView);const r=void 0!==this.gridOptions.frozenColumn?this.gridOptions.frozenColumn:-1;if(r>=0&&r<=this._columnDefinitions.length&&(this.sharedService.frozenVisibleColumnId=this._columnDefinitions[r].id||""),this.registerResources(),this.slickGrid.init(),this.gridContainerElement&&this.resizerService.init(this.slickGrid,this.gridContainerElement),!this.gridOptions.enablePagination&&this.gridOptions.showCustomFooter&&this.gridOptions.customFooterOptions&&this.gridContainerElement&&(this.slickFooter=new B2(this.slickGrid,this.gridOptions.customFooterOptions,this._eventPubSubService,this.translaterService),this.slickFooter.renderFooter(this.gridContainerElement)),!this.customDataView&&this.dataView){const o=this.gridOptions?.enableTreeData?this.sortTreeDataset(this._dataset):this._dataset;if(this.dataView.beginUpdate(),this.dataView.setItems(o||[],this.gridOptions.datasetIdPropertyName??"id"),this.dataView.endUpdate(),this.slickGrid?.getSelectionModel()&&this.gridOptions&&this.gridOptions.dataView&&this.gridOptions.dataView.hasOwnProperty("syncGridSelection")){let a=!1;this.gridOptions.backendServiceApi&&this.gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(a=this.gridOptions.dataView.syncGridSelectionWithBackendService);const l=this.gridOptions.dataView.syncGridSelection;if("boolean"==typeof l){let u=l;this._isLocalGrid||(u=l&&a),this.dataView.syncGridSelection(this.slickGrid,u)}else"object"==typeof l&&this.dataView.syncGridSelection(this.slickGrid,l.preserveHidden,l.preserveHiddenOnSelectionChange)}(this.dataView.getLength()||this._dataset&&this._dataset.length||0)>0&&(!this._isDatasetInitialized&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&this.loadRowSelectionPresetWhenExists(),this.loadFilterPresetsWhenDatasetInitialized(),this._isDatasetInitialized=!0)}this._hideHeaderRowAfterPageLoad&&(this.showHeaderRow(!1),this.sharedService.hideHeaderRowAfterPageLoad=this._hideHeaderRowAfterPageLoad),this._eventPubSubService.publish("onGridCreated",this.slickGrid),this.customDataView||this.executeAfterDataviewCreated(this.slickGrid,this.gridOptions),this.bindResizeHook(this.slickGrid,this.gridOptions),this.gridOptions?.backendServiceApi&&this.bindBackendCallbackFunctions(this.gridOptions),this.gridOptions?.enablePagination&&this._isLocalGrid&&(this.showPagination=!0,this.loadLocalGridPagination(this.dataset)),this._angularGridInstances={dataView:this.dataView,slickGrid:this.slickGrid,extensions:this.extensionService?.extensionList,destroy:this.destroy.bind(this),backendService:this.gridOptions?.backendServiceApi?.service,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.groupingService,extensionService:this.extensionService,paginationService:this.paginationService,resizerService:this.resizerService,sortService:this.sortService,treeDataService:this.treeDataService},this._eventPubSubService.publish("onAngularGridCreated",this._angularGridInstances)}paginationChanged(e){!this.gridStateService?.needToPreserveRowSelection()&&(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.slickGrid.setSelectedRows([]);const{pageNumber:o,pageSize:s}=e;this.sharedService&&void 0!==s&&void 0!==o&&(this.sharedService.currentPagination={pageNumber:o,pageSize:s}),this._eventPubSubService.publish("onGridStateChanged",{change:{newValues:{pageNumber:o,pageSize:s},type:Kr.pagination},gridState:this.gridStateService.getCurrentGridState()}),this.cd.markForCheck()}refreshGridData(e,r){if(this.gridOptions&&this.gridOptions.enableEmptyDataWarningMessage&&Array.isArray(e)&&this.displayEmptyDataWarning((r||e.length)<1),Array.isArray(e)&&this.slickGrid&&this.dataView?.setItems){if(this.dataView.setItems(e,this.gridOptions.datasetIdPropertyName??"id"),!this.gridOptions.backendServiceApi&&!this.gridOptions.enableTreeData&&this.dataView.reSort(),e.length>0&&(this._isDatasetInitialized||(this.loadFilterPresetsWhenDatasetInitialized(),this.gridOptions.enableCheckboxSelector&&this.loadRowSelectionPresetWhenExists()),this._isDatasetInitialized=!0),e&&this.slickGrid.invalidate(),this.showPagination=!(!this.gridOptions||!(this.gridOptions.enablePagination||this.gridOptions.backendServiceApi&&void 0===this.gridOptions.enablePagination)),this._paginationOptions&&this.gridOptions?.pagination&&this.gridOptions?.backendServiceApi){const o=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this._paginationOptions),s=void 0!==r?r:this.gridOptions?.pagination?.totalItems;void 0!==s&&s!==this.totalItems&&(this.totalItems=+s),this._isPaginationInitialized?this.paginationService.updateTotalItems(this.totalItems):this.initializePaginationService(o)}this.slickGrid&&this.gridOptions.enableAutoResize&&this.resizerService.resizeGrid(this.gridOptions.autoResize&&this.gridOptions.autoResize.delay||10)}}setPaginationOptionsWhenPresetDefined(e,r){return e.presets?.pagination&&r&&!this._isPaginationInitialized&&(r.pageSize=e.presets.pagination.pageSize,r.pageNumber=e.presets.pagination.pageNumber),r}updateColumnDefinitionsList(e){e=this.swapInternalEditorToSlickGridFactoryEditor(e),this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(!1,e):this.extensionService.renderColumnHeaders(e,!0),this.gridOptions?.enableAutoSizeColumns?this.slickGrid.autosizeColumns():this.gridOptions?.enableAutoResizeColumnsByCellContent&&this.resizerService?.resizeColumnsByCellContent&&this.resizerService.resizeColumnsByCellContent()}showHeaderRow(e=!0){return this.slickGrid.setHeaderRowVisibility(e,!1),!0===e&&this._isGridInitialized&&this.slickGrid.setColumns(this.columnDefinitions),e}copyColumnWidthsReference(e){e.forEach(r=>r.originalWidth=r.width)}displayEmptyDataWarning(e=!0){this.slickEmptyWarning?.showEmptyDataMessage(e)}bindDifferentHooks(e,r,o){if(this.translate?.onLangChange&&(r.enableTranslate&&(this.extensionService.translateAllExtensions(),this.translateColumnHeaderTitleKeys(),this.translateColumnGroupKeys()),this.subscriptions.push(this.translate.onLangChange.subscribe(()=>{this._eventPubSubService.publish("onLanguageChange"),r.enableTranslate&&(this.extensionService.translateAllExtensions(),this.translateColumnHeaderTitleKeys(),this.translateColumnGroupKeys(),r.createPreHeaderPanel&&!r.enableDraggableGrouping&&this.groupingService.translateGroupingAndColSpan())}))),r.backendServiceApi){const s=r.backendServiceApi;s?.service?.init&&s.service.init(s.options,r.pagination,this.slickGrid,this.sharedService)}if(o&&e){const s=this.gridOptions?.defaultSlickgridEventPrefix??"";for(const a in e)if(e.hasOwnProperty(a)&&a.startsWith("on")){const l=this._eventPubSubService.getEventNameByNamingConvention(a,s);this._eventHandler.subscribe(e[a],(u,d)=>this._eventPubSubService.dispatchCustomEvent(l,{eventData:u,args:d}))}for(const a in o)o.hasOwnProperty(a)&&a.startsWith("on")&&this._eventHandler.subscribe(o[a],(l,u)=>{const d=this._eventPubSubService.getEventNameByNamingConvention(a,s);return this._eventPubSubService.dispatchCustomEvent(d,{eventData:l,args:u})});this.gridEventService.bindOnCellChange(e),this.gridEventService.bindOnClick(e),o&&e&&(r.enableSorting&&(r.backendServiceApi&&!r.backendServiceApi.useLocalSorting?this.sortService.bindBackendOnSort(e):this.sortService.bindLocalOnSort(e)),r.enableFiltering&&(this.filterService.init(e),r.backendServiceApi&&!r.backendServiceApi.useLocalFiltering?this.filterService.bindBackendOnFilter(e):this.filterService.bindLocalOnFilter(e)),this.loadColumnPresetsWhenDatasetInitialized(),this.loadFilterPresetsWhenDatasetInitialized(),this._eventHandler.subscribe(o.onRowCountChanged,()=>{e.invalidate(),this.handleOnItemCountChanged(o.getFilteredItemCount()||0,o.getItemCount()||0)}),this._eventHandler.subscribe(o.onSetItemsCalled,(a,l)=>{this.handleOnItemCountChanged(o.getFilteredItemCount()||0,l.itemCount),l.itemCount>0&&(this.gridOptions.autosizeColumnsByCellContentOnFirstLoad||this.gridOptions.enableAutoResizeColumnsByCellContent)&&this.resizerService.resizeColumnsByCellContent(!this.gridOptions?.resizeByContentOnlyOnFirstLoad)}),r?.enableFiltering&&!r.enableRowDetailView&&this._eventHandler.subscribe(o.onRowsChanged,(a,l)=>{l?.rows&&Array.isArray(l.rows)&&(l.rows.forEach(u=>e.updateRow(u)),e.render())}))}r&&r.colspanCallback&&o&&o.getItem&&o.getItemMetadata&&(o.getItemMetadata=s=>{let a=null;return r.colspanCallback&&r.colspanCallback&&(a=r.colspanCallback(o.getItem(s))),a})}bindBackendCallbackFunctions(e){const r=e.backendServiceApi,o=r&&r.service,s=o?.options??{},a=!!s&&(!s||!s.hasOwnProperty("executeProcessCommandOnInit")||s.executeProcessCommandOnInit);if(o){if(e&&e.presets){if(o.updateFilters&&Array.isArray(e.presets.filters)&&e.presets.filters.length>0&&o.updateFilters(e.presets.filters,!0),o.updateSorters&&Array.isArray(e.presets.sorters)&&e.presets.sorters.length>0){const l=this.gridOptions.multiColumnSort?e.presets.sorters:e.presets.sorters.slice(0,1);o.updateSorters(void 0,l)}if(o.updatePagination&&e.presets.pagination){const{pageNumber:l,pageSize:u}=e.presets.pagination;o.updatePagination(l,u)}}else{const l=this.filterService.getColumnFilters();l&&o.updateFilters&&o.updateFilters(l,!1)}if(r&&o&&(r.onInit||a)){const l="function"==typeof o.buildQuery?o.buildQuery():"",u=a?r.process&&r.process(l)||null:r.onInit&&r.onInit(l)||null;setTimeout(()=>{const d=this.backendUtilityService,p=new Date;r.preProcess&&r.preProcess();const m=this.gridOptions?.pagination?.totalItems??0;u instanceof Promise?u.then(E=>d.executeBackendProcessesCallback(p,E,r,m)).catch(E=>d.onBackendError(E,r)):u&&this.rxjs?.isObservable(u)&&this.subscriptions.push(u.subscribe({next:E=>d.executeBackendProcessesCallback(p,E,r,m),error:E=>d.onBackendError(E,r)}))})}}}bindResizeHook(e,r){if(r.autoFitColumnsOnFirstLoad&&r.autosizeColumnsByCellContentOnFirstLoad||r.enableAutoSizeColumns&&r.enableAutoResizeColumnsByCellContent)throw new Error('[Angular-Slickgrid] You cannot enable both autosize/fit viewport & resize by content, you must choose which resize technique to use. You can enable these 2 options ("autoFitColumnsOnFirstLoad" and "enableAutoSizeColumns") OR these other 2 options ("autosizeColumnsByCellContentOnFirstLoad" and "enableAutoResizeColumnsByCellContent").');e&&r.autoFitColumnsOnFirstLoad&&r.enableAutoSizeColumns&&e.autosizeColumns(),r.gridHeight||r.gridWidth?this.resizerService.resizeGrid(0,{height:r.gridHeight,width:r.gridWidth}):this.resizerService.resizeGrid(),r.enableAutoResize&&e&&r.autoFitColumnsOnFirstLoad&&r.enableAutoSizeColumns&&e.autosizeColumns()}executeAfterDataviewCreated(e,r){if(r.enableSorting&&r.presets&&Array.isArray(r.presets.sorters)){const o=this.gridOptions.multiColumnSort?r.presets.sorters:r.presets.sorters.slice(0,1);this.sortService.loadGridSorters(o)}}handleOnItemCountChanged(e,r){this._currentDatasetLength=r,this.metrics={startTime:new Date,endTime:new Date,itemCount:e,totalItemCount:r},this.slickFooter&&(this.slickFooter.metrics=this.metrics),this._isLocalGrid&&this.gridOptions?.enableEmptyDataWarningMessage&&this.displayEmptyDataWarning(0===e)}initializePaginationService(e){this.gridOptions&&(this.paginationData={gridOptions:this.gridOptions,paginationService:this.paginationService},this.paginationService.totalItems=this.totalItems,this.paginationService.init(this.slickGrid,e,this.backendServiceApi),this.subscriptions.push(this._eventPubSubService.subscribe("onPaginationChanged",r=>{this.paginationChanged(r)}),this._eventPubSubService.subscribe("onPaginationVisibilityChanged",r=>{this.showPagination=r?.visible??!1,this.gridOptions?.backendServiceApi&&this.backendUtilityService?.refreshBackendDataset(this.gridOptions),this.renderPagination(this.showPagination)})),this.renderPagination(),this._isPaginationInitialized=!0),this.cd.detectChanges()}loadEditorCollectionAsync(e){const r=e&&e.editor&&e.editor.collectionAsync;r instanceof It?this.subscriptions.push(r.subscribe(o=>this.updateEditorCollection(e,o))):r instanceof Promise&&r.then(o=>{Array.isArray(o)&&this.updateEditorCollection(e,o)})}loadColumnPresetsWhenDatasetInitialized(){if(this.gridOptions.presets&&Array.isArray(this.gridOptions.presets.columns)&&this.gridOptions.presets.columns.length>0){const e=this.gridStateService.getAssociatedGridColumns(this.slickGrid,this.gridOptions.presets.columns);if(e&&Array.isArray(e)&&e.length>0){if(this.gridOptions.enableCheckboxSelector){const r=Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0?this._columnDefinitions[0]:null;r&&"_checkbox_selector"===r.id&&"_checkbox_selector"!==e[0].id&&e.unshift(r)}e.forEach(r=>r.originalWidth=r.width),this.slickGrid.setColumns(e),this.sharedService.visibleColumns=e}}}loadFilterPresetsWhenDatasetInitialized(){this.gridOptions&&!this.customDataView&&this.gridOptions.presets&&(Array.isArray(this.gridOptions.presets.filters)||Array.isArray(this.gridOptions.presets?.treeData?.toggledItems))&&this.filterService.populateColumnFilterSearchTermPresets(this.gridOptions.presets?.filters||[])}loadLocalGridPagination(e){if(this.gridOptions&&this._paginationOptions){if(this.totalItems=Array.isArray(e)?e.length:0,this._paginationOptions&&this.dataView?.getPagingInfo){const o=this.dataView.getPagingInfo();o?.hasOwnProperty("totalRows")&&this._paginationOptions.totalItems!==o.totalRows&&(this.totalItems=o.totalRows||0)}this._paginationOptions.totalItems=this.totalItems;const r=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this._paginationOptions);this.initializePaginationService(r)}}loadRowSelectionPresetWhenExists(){const e=this.gridOptions?.presets;if(this.gridOptions&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&this.slickGrid?.getSelectionModel()&&e?.rowSelection&&(Array.isArray(e.rowSelection.gridRowIndexes)||Array.isArray(e.rowSelection.dataContextIds))){let o=e.rowSelection.dataContextIds,s=e.rowSelection.gridRowIndexes;Array.isArray(o)&&o.length>0?s=this.dataView.mapIdsToRows(o)||[]:Array.isArray(s)&&s.length>0&&(o=this.dataView.mapRowsToIds(s)||[]),this.gridStateService.selectedRowDataContextIds=o,(this._isLocalGrid&&!this.gridOptions.enablePagination||!this._isLocalGrid)&&setTimeout(()=>{this.slickGrid&&Array.isArray(s)&&this.slickGrid.setSelectedRows(s)})}}mergeGridOptions(e){e.gridId=this.gridId,e.gridContainerId=`slickGridContainer-${this.gridId}`,e.enablePagination=!(!e.backendServiceApi||void 0!==e.enablePagination)||e.enablePagination||!1;const r=$.extend(!0,{},zf,this.forRootConfig,e);return r?.pagination&&(e.enablePagination||e.backendServiceApi)&&(this.forRootConfig.pagination||e.pagination)&&(r.pagination.pageSize=e.pagination?.pageSize??this.forRootConfig.pagination?.pageSize??zf.pagination.pageSize,r.pagination.pageSizes=e.pagination?.pageSizes??this.forRootConfig.pagination?.pageSizes??zf.pagination.pageSizes),this._hideHeaderRowAfterPageLoad=!1===r.showHeaderRow,r.enableFiltering&&!r.showHeaderRow&&(r.showHeaderRow=r.enableFiltering),r&&!r.enableFiltering&&r.enablePagination&&this._isLocalGrid&&(r.enableFiltering=!0,r.showHeaderRow=!1,this._hideHeaderRowAfterPageLoad=!0,this.sharedService&&(this.sharedService.hideHeaderRowAfterPageLoad=!0)),r}preRegisterResources(){this._registeredResources=this.gridOptions.registerExternalResources||[],this.registerRxJsResource(new j2),this.gridOptions.enableRowDetailView&&(this.slickRowDetailView=new q2(this.angularUtilService,this.appRef,this._eventPubSubService,this.elm.nativeElement,this.rxjs),this.slickRowDetailView.create(this.columnDefinitions,this.gridOptions),this._registeredResources.push(this.slickRowDetailView),this.extensionService.addExtensionToList(vi.rowDetailView,{name:vi.rowDetailView,instance:this.slickRowDetailView}))}registerResources(){if(Array.isArray(this._registeredResources)&&(this.sharedService.externalRegisteredResources=this._registeredResources),this._registeredResources.push(this.gridService,this.gridStateService),this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping&&this._registeredResources.push(this.groupingService),this.gridOptions.enableTreeData&&this._registeredResources.push(this.treeDataService),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.slickEmptyWarning=new H2,this._registeredResources.push(this.slickEmptyWarning),Array.isArray(this._registeredResources))for(const e of this._registeredResources)this.slickGrid&&"function"==typeof e.init&&e.init(this.slickGrid,this.containerService)}registerRxJsResource(e){this.rxjs=e,this.backendUtilityService.addRxJsResource(this.rxjs),this.filterFactory.addRxJsResource(this.rxjs),this.filterService.addRxJsResource(this.rxjs),this.sortService.addRxJsResource(this.rxjs),this.paginationService.addRxJsResource(this.rxjs),this.containerService.registerInstance("RxJsResource",this.rxjs)}renderPagination(e=!0){this.gridOptions?.enablePagination&&!this._isPaginationInitialized&&e?(this.slickPagination=new U2(this.paginationService,this._eventPubSubService,this.sharedService,this.translaterService),this.slickPagination.renderPagination(this.gridContainerElement),this._isPaginationInitialized=!0):e||(this.slickPagination&&this.slickPagination.dispose(),this._isPaginationInitialized=!1)}sortTreeDataset(e,r=!1){const o=this._currentDatasetLength;let s,a=[];return this._isDatasetHierarchicalInitialized&&this.datasetHierarchical?(s=this.treeDataService.sortHierarchicalDataset(this.datasetHierarchical),a=s.flat):Array.isArray(e)&&e.length>0&&(this.gridOptions?.treeDataOptions?.initialSort?(s=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(e,this._columnDefinitions,this.gridOptions),this.sharedService.hierarchicalDataset=s.hierarchical,a=s.flat):(this.sharedService.hierarchicalDataset=this.treeDataService.convertFlatParentChildToTreeDataset(e,this.gridOptions),a=e||[])),e.length>0&&(r||e.length!==o)&&this.filterService.refreshTreeDataFilters(a),a}swapInternalEditorToSlickGridFactoryEditor(e){return e.some(r=>`${r.id}`.includes("."))&&console.error('[Angular-Slickgrid] Make sure that none of your Column Definition "id" property includes a dot in its name because that will cause some problems with the Editors. For example if your column definition "field" property is "user.firstName" then use "firstName" as the column "id".'),e.map(r=>(r&&r.editor&&r.editor.collectionAsync&&this.loadEditorCollectionAsync(r),{...r,editor:r.editor&&r.editor.model,internalColumnEditor:{...r.editor}}))}translateColumnHeaderTitleKeys(){this.extensionUtility.translateItems(this.sharedService.allColumns,"nameKey","name")}translateColumnGroupKeys(){this.extensionUtility.translateItems(this.sharedService.allColumns,"columnGroupKey","columnGroup")}updateEditorCollection(e,r){if(e.editor.collection=r,e.editor.disabled=!1,Array.isArray(this.columnDefinitions)){const s=this.columnDefinitions.find(a=>a.id===e.id);s&&(s.internalColumnEditor=e.editor)}const o=this.slickGrid.getCellEditor();o?.disable&&o?.renderDomElement&&(o.destroy(),o.disable(!1),o.renderDomElement(r))}}return i.\u0275fac=function(e){return new(e||i)(Xe(Uf),Xe(El),Xe(Od),Xe(Ex),Xe(Fo),Xe(Bf,8),Xe(Sx,8),Xe("config"),Xe("externalService"))},i.\u0275cmp=Nt({type:i,selectors:[["angular-slickgrid"]],inputs:{customDataView:"customDataView",gridId:"gridId",gridOptions:"gridOptions",paginationOptions:"paginationOptions",columnDefinitions:"columnDefinitions",dataset:"dataset",datasetHierarchical:"datasetHierarchical"},features:[kn([Uf,El,Sx])],decls:2,vars:2,consts:[[1,"gridPane",3,"id"],[1,"slickgrid-container",2,"width","100%"]],template:function(e,r){1&e&&(br(0,"div",0),Cl(1,"div",1),cr()),2&e&&(eh("id","slickGridContainer-",r.gridId,""),Lo(1),Rs("id",r.gridId))},encapsulation:2}),i})(),Q2=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[{provide:"config",useValue:e},{provide:"externalService",useValue:null},Uf,Y2,Ex]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i}),i.\u0275inj=ft({imports:[[bE,N2]]}),i})(),Z2=(()=>{class i{constructor(e){this.giftmapService=e,this.columnDefinitions=[],this.dataset=[],this.blackGroupInfo={name:"\u9ed2\u9df2",hide:!1},this.blueGroupInfo={name:"\u9752\u7345\u5b50",hide:!1},this.goldGroupInfo={name:"\u91d1\u9e7f",hide:!1},this.churchGroupInfo={name:"\u6559\u4f1a",hide:!1},this.dlcGroupInfo={name:"DLC",hide:!1}}ngOnInit(){this.giftmapService.load(),this.columnDefinitions=[{id:"delete",field:"id",excludeFromHeaderMenu:!0,formatter:M2.deleteIcon,minWidth:30,maxWidth:30,onCellClick:(o,s)=>{this.angularGrid.gridService.deleteItemById(s.dataContext.id)}},{id:"name",name:"\u30e6\u30cb\u30c3\u30c8",field:"name",sortable:!0}],this.giftmapService.items.forEach(o=>{this.columnDefinitions.push({id:o.id,name:o.name,field:o.id,sortable:!0})});const r=this.columnDefinitions.filter(o=>!this.giftmapService.items.some(s=>s.id==o.id&&s.hide)).map(o=>({columnId:o.id.toString()}));this.gridOptions={enableAutoResize:!0,enableSorting:!0,asyncEditorLoading:!1,autoResize:{container:"#demo-container",rightPadding:10},editable:!0,enableColumnPicker:!0,enableCellNavigation:!0,enableRowSelection:!0,presets:{sorters:[{columnId:"id",direction:"ASC"}],columns:r}},this.units?.forEach(o=>this.dataset.push(this.createUnitData(o)))}angularGridReady(e){this.angularGrid=e,this.dataView=e.dataView,this.grid=e.slickGrid,this.gridService=e.gridService}toggleBlackHide(){this.toggleGroupHide(this.blackGroupInfo)}toggleBlueHide(){this.toggleGroupHide(this.blueGroupInfo)}toggleGoldHide(){this.toggleGroupHide(this.goldGroupInfo)}toggleChurchHide(){this.toggleGroupHide(this.churchGroupInfo)}toggleDlcHide(){this.toggleGroupHide(this.dlcGroupInfo)}toggleGroupHide(e){e.hide?this.hideGroup(e.name):this.showGroup(e.name)}showGroup(e){const r=this.units?.filter(o=>o.group==e).map(o=>this.createUnitData(o));this.angularGrid.gridService.addItems(r),this.angularGrid.sortService.clearSorting()}hideGroup(e){const o=this.dataView.getItems().filter(s=>s.group==e).map(s=>s.id);this.angularGrid.gridService.deleteItemByIds(o)}createUnitData(e){const r=this.giftmapService.searchUnitItem(e.id);return Object.assign(r,e)}}return i.\u0275fac=function(e){return new(e||i)(Xe(k2))},i.\u0275cmp=Nt({type:i,selectors:[["app-gift"]],inputs:{units:"units"},decls:25,vars:13,consts:[["id","demo-container",1,"container-fluid"],["type","checkbox","id","btn-check-black","autocomplete","off",1,"btn-check",3,"ngModel","ngModelChange","change"],["for","btn-check-black",1,"btn","btn-outline-primary"],["type","checkbox","id","btn-check-blue","autocomplete","off",1,"btn-check",3,"ngModel","ngModelChange","change"],["for","btn-check-blue",1,"btn","btn-outline-primary"],["type","checkbox","id","btn-check-gold","autocomplete","off",1,"btn-check",3,"ngModel","ngModelChange","change"],["for","btn-check-gold",1,"btn","btn-outline-primary"],["type","checkbox","id","btn-check-association","autocomplete","off",1,"btn-check",3,"ngModel","ngModelChange","change"],["for","btn-check-association",1,"btn","btn-outline-primary"],["type","checkbox","id","btn-check-dlc","autocomplete","off",1,"btn-check",3,"ngModel","ngModelChange","change"],["for","btn-check-dlc",1,"btn","btn-outline-primary"],["gridId","grid11",3,"columnDefinitions","gridOptions","dataset","onAngularGridCreated"]],template:function(e,r){1&e&&(br(0,"p"),Zs(1,"\u8d08\u308a\u7269\u76f8\u6027\u8868"),cr(),br(2,"div",0)(3,"div")(4,"span")(5,"label"),Zs(6,"Hide: "),cr(),br(7,"input",1),Er("ngModelChange",function(s){return r.blackGroupInfo.hide=s})("change",function(){return r.toggleBlackHide()}),cr(),br(8,"label",2),Zs(9),cr(),br(10,"input",3),Er("ngModelChange",function(s){return r.blueGroupInfo.hide=s})("change",function(){return r.toggleBlueHide()}),cr(),br(11,"label",4),Zs(12),cr(),br(13,"input",5),Er("ngModelChange",function(s){return r.goldGroupInfo.hide=s})("change",function(){return r.toggleGoldHide()}),cr(),br(14,"label",6),Zs(15),cr(),br(16,"input",7),Er("ngModelChange",function(s){return r.churchGroupInfo.hide=s})("change",function(){return r.toggleChurchHide()}),cr(),br(17,"label",8),Zs(18),cr(),br(19,"input",9),Er("ngModelChange",function(s){return r.dlcGroupInfo.hide=s})("change",function(){return r.toggleDlcHide()}),cr(),br(20,"label",10),Zs(21),cr()(),Cl(22,"hr"),cr(),br(23,"div")(24,"angular-slickgrid",11),Er("onAngularGridCreated",function(s){return r.angularGridReady(s.detail)}),cr()()()),2&e&&(Lo(7),ba("ngModel",r.blackGroupInfo.hide),Lo(2),yl(r.blackGroupInfo.name),Lo(1),ba("ngModel",r.blueGroupInfo.hide),Lo(2),yl(r.blueGroupInfo.name),Lo(1),ba("ngModel",r.goldGroupInfo.hide),Lo(2),yl(r.goldGroupInfo.name),Lo(1),ba("ngModel",r.churchGroupInfo.hide),Lo(2),yl(r.churchGroupInfo.name),Lo(1),ba("ngModel",r.dlcGroupInfo.hide),Lo(2),yl(r.dlcGroupInfo.name),Lo(3),ba("columnDefinitions",r.columnDefinitions)("gridOptions",r.gridOptions)("dataset",r.dataset))},dependencies:[Wm,yS,ov,X2]}),i})(),J2=(()=>{class i{constructor(e){this.unitService=e,this.unitList=[]}ngOnInit(){this.unitService.load(),this.unitList=this.unitService.getAllUnit()}}return i.\u0275fac=function(e){return new(e||i)(Xe(q$))},i.\u0275cmp=Nt({type:i,selectors:[["app-menu"]],decls:3,vars:1,consts:[[3,"units"]],template:function(e,r){1&e&&(br(0,"p"),Zs(1,"menu"),cr(),Cl(2,"app-gift",0)),2&e&&(Lo(2),ba("units",r.unitList))},dependencies:[Z2]}),i})(),ez=(()=>{class i{constructor(){this.title="feth"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Nt({type:i,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&(br(0,"h1"),Zs(1,"FE"),cr(),Cl(2,"app-menu"))},dependencies:[J2]}),i})(),tz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=W({type:i,bootstrap:[ez]}),i.\u0275inj=ft({imports:[sL,wV,Y$,Q2.forRoot()]}),i})();(function TF(){Gb=!1})(),oL().bootstrapModule(tz).catch(i=>console.error(i))},2735:function(v){v.exports=function(){"use strict";function w(S){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(S)}function A(S,ce){return(A=Object.setPrototypeOf||function(me,Ie){return me.__proto__=Ie,me})(S,ce)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(S,ce,Ce){return(F=I()?Reflect.construct:function(Ie,ze,Qe){var vt=[null];vt.push.apply(vt,ze);var Ft=new(Function.bind.apply(Ie,vt));return Qe&&A(Ft,Qe.prototype),Ft}).apply(null,arguments)}function L(S){return function b(S){if(Array.isArray(S))return y(S)}(S)||function c(S){if(typeof Symbol<"u"&&null!=S[Symbol.iterator]||null!=S["@@iterator"])return Array.from(S)}(S)||function _(S,ce){if(S){if("string"==typeof S)return y(S,ce);var Ce=Object.prototype.toString.call(S).slice(8,-1);if("Object"===Ce&&S.constructor&&(Ce=S.constructor.name),"Map"===Ce||"Set"===Ce)return Array.from(S);if("Arguments"===Ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return y(S,ce)}}(S)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(S,ce){(null==ce||ce>S.length)&&(ce=S.length);for(var Ce=0,me=new Array(ce);Ce<ce;Ce++)me[Ce]=S[Ce];return me}var x=Object.hasOwnProperty,k=Object.setPrototypeOf,V=Object.isFrozen,K=Object.getPrototypeOf,Y=Object.getOwnPropertyDescriptor,he=Object.freeze,se=Object.seal,Se=Object.create,st=typeof Reflect<"u"&&Reflect,pe=st.apply,Me=st.construct;pe||(pe=function(ce,Ce,me){return ce.apply(Ce,me)}),he||(he=function(ce){return ce}),se||(se=function(ce){return ce}),Me||(Me=function(ce,Ce){return F(ce,L(Ce))});var at=ut(Array.prototype.forEach),Re=ut(Array.prototype.pop),ht=ut(Array.prototype.push),R=ut(String.prototype.toLowerCase),Mt=ut(String.prototype.match),Yt=ut(String.prototype.replace),ei=ut(String.prototype.indexOf),pn=ut(String.prototype.trim),ti=ut(RegExp.prototype.test),wi=function ii(S){return function(){for(var ce=arguments.length,Ce=new Array(ce),me=0;me<ce;me++)Ce[me]=arguments[me];return Me(S,Ce)}}(TypeError);function ut(S){return function(ce){for(var Ce=arguments.length,me=new Array(Ce>1?Ce-1:0),Ie=1;Ie<Ce;Ie++)me[Ie-1]=arguments[Ie];return pe(S,ce,me)}}function Et(S,ce,Ce){Ce=Ce||R,k&&k(S,null);for(var me=ce.length;me--;){var Ie=ce[me];if("string"==typeof Ie){var ze=Ce(Ie);ze!==Ie&&(V(ce)||(ce[me]=ze),Ie=ze)}S[Ie]=!0}return S}function ct(S){var Ce,ce=Se(null);for(Ce in S)pe(x,S,[Ce])&&(ce[Ce]=S[Ce]);return ce}function Ri(S,ce){for(;null!==S;){var Ce=Y(S,ce);if(Ce){if(Ce.get)return ut(Ce.get);if("function"==typeof Ce.value)return ut(Ce.value)}S=K(S)}return function me(Ie){return console.warn("fallback value for",Ie),null}}var gt=he(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_i=he(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tn=he(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Yi=he(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),It=he(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Qt=he(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),gn=he(["#text"]),an=he(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ai=he(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mi=he(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pi=he(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lt=se(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wi=se(/<%[\w\W]*|[\w\W]*%>/gm),Oi=se(/^data-[\-\w.\u00B7-\uFFFF]/),fo=se(/^aria-[\-\w]+$/),Ae=se(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ln=se(/^(?:\w+script|data):/i),hi=se(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),St=se(/^html$/i),qi=function(){return typeof window>"u"?null:window},Ar=function(ce,Ce){if("object"!==w(ce)||"function"!=typeof ce.createPolicy)return null;var me=null,Ie="data-tt-policy-suffix";Ce.currentScript&&Ce.currentScript.hasAttribute(Ie)&&(me=Ce.currentScript.getAttribute(Ie));var ze="dompurify"+(me?"#"+me:"");try{return ce.createPolicy(ze,{createHTML:function(vt){return vt},createScriptURL:function(vt){return vt}})}catch{return console.warn("TrustedTypes policy "+ze+" could not be created."),null}};return function Or(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi(),ce=function(oe){return Or(oe)};if(ce.version="2.4.0",ce.removed=[],!S||!S.document||9!==S.document.nodeType)return ce.isSupported=!1,ce;var Ce=S.document,me=S.document,Ie=S.DocumentFragment,ze=S.HTMLTemplateElement,Qe=S.Node,vt=S.Element,_t=S.NodeFilter,Ft=S.NamedNodeMap,Zt=void 0===Ft?S.NamedNodeMap||S.MozNamedAttrMap:Ft,yt=S.HTMLFormElement,ki=S.DOMParser,j=S.trustedTypes,Te=vt.prototype,Ve=Ri(Te,"cloneNode"),ke=Ri(Te,"nextSibling"),Ke=Ri(Te,"childNodes"),dt=Ri(Te,"parentNode");if("function"==typeof ze){var Pt=me.createElement("template");Pt.content&&Pt.content.ownerDocument&&(me=Pt.content.ownerDocument)}var mt=Ar(j,Ce),Tt=mt?mt.createHTML(""):"",Ki=me.implementation,ln=me.createNodeIterator,Li=me.createDocumentFragment,Hr=me.getElementsByTagName,$r=Ce.importNode,mr={};try{mr=ct(me).documentMode?me.documentMode:{}}catch{}var Un={};ce.isSupported="function"==typeof dt&&Ki&&typeof Ki.createHTMLDocument<"u"&&9!==mr;var bi,Je,Vn=Lt,po=Wi,ls=Oi,Ds=fo,jo=Ln,Hn=hi,Oo=Ae,Zi=null,er=Et({},[].concat(L(gt),L(_i),L(tn),L(It),L(gn))),on=null,mn=Et({},[].concat(L(an),L(Ai),L(Mi),L(Pi))),Ji=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),zn=null,us=null,Br=!0,Qr=!0,Io=!1,tr=!1,Yn=!1,Gi=!1,Ir=!1,Zr=!1,ds=!1,Rr=!1,Mr=!0,Ro=!1,vr="user-content-",Tn=!0,_r=!1,si={},Mo=null,go=Et({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Jr=null,Ui=Et({},["audio","video","img","source","image","track"]),ue=null,re=Et({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),we="http://www.w3.org/1998/Math/MathML",We="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml",Ye=Fe,Dt=!1,Ge=["application/xhtml+xml","text/html"],ji="text/html",pi=null,Yo=me.createElement("form"),Ts=function(oe){return oe instanceof RegExp||oe instanceof Function},qo=function(oe){pi&&pi===oe||((!oe||"object"!==w(oe))&&(oe={}),oe=ct(oe),bi=bi=-1===Ge.indexOf(oe.PARSER_MEDIA_TYPE)?ji:oe.PARSER_MEDIA_TYPE,Je="application/xhtml+xml"===bi?function(rt){return rt}:R,Zi="ALLOWED_TAGS"in oe?Et({},oe.ALLOWED_TAGS,Je):er,on="ALLOWED_ATTR"in oe?Et({},oe.ALLOWED_ATTR,Je):mn,ue="ADD_URI_SAFE_ATTR"in oe?Et(ct(re),oe.ADD_URI_SAFE_ATTR,Je):re,Jr="ADD_DATA_URI_TAGS"in oe?Et(ct(Ui),oe.ADD_DATA_URI_TAGS,Je):Ui,Mo="FORBID_CONTENTS"in oe?Et({},oe.FORBID_CONTENTS,Je):go,zn="FORBID_TAGS"in oe?Et({},oe.FORBID_TAGS,Je):{},us="FORBID_ATTR"in oe?Et({},oe.FORBID_ATTR,Je):{},si="USE_PROFILES"in oe&&oe.USE_PROFILES,Br=!1!==oe.ALLOW_ARIA_ATTR,Qr=!1!==oe.ALLOW_DATA_ATTR,Io=oe.ALLOW_UNKNOWN_PROTOCOLS||!1,tr=oe.SAFE_FOR_TEMPLATES||!1,Yn=oe.WHOLE_DOCUMENT||!1,Zr=oe.RETURN_DOM||!1,ds=oe.RETURN_DOM_FRAGMENT||!1,Rr=oe.RETURN_TRUSTED_TYPE||!1,Ir=oe.FORCE_BODY||!1,Mr=!1!==oe.SANITIZE_DOM,Ro=oe.SANITIZE_NAMED_PROPS||!1,Tn=!1!==oe.KEEP_CONTENT,_r=oe.IN_PLACE||!1,Oo=oe.ALLOWED_URI_REGEXP||Oo,Ye=oe.NAMESPACE||Fe,oe.CUSTOM_ELEMENT_HANDLING&&Ts(oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ji.tagNameCheck=oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&Ts(oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ji.attributeNameCheck=oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ji.allowCustomizedBuiltInElements=oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),tr&&(Qr=!1),ds&&(Zr=!0),si&&(Zi=Et({},L(gn)),on=[],!0===si.html&&(Et(Zi,gt),Et(on,an)),!0===si.svg&&(Et(Zi,_i),Et(on,Ai),Et(on,Pi)),!0===si.svgFilters&&(Et(Zi,tn),Et(on,Ai),Et(on,Pi)),!0===si.mathMl&&(Et(Zi,It),Et(on,Mi),Et(on,Pi))),oe.ADD_TAGS&&(Zi===er&&(Zi=ct(Zi)),Et(Zi,oe.ADD_TAGS,Je)),oe.ADD_ATTR&&(on===mn&&(on=ct(on)),Et(on,oe.ADD_ATTR,Je)),oe.ADD_URI_SAFE_ATTR&&Et(ue,oe.ADD_URI_SAFE_ATTR,Je),oe.FORBID_CONTENTS&&(Mo===go&&(Mo=ct(Mo)),Et(Mo,oe.FORBID_CONTENTS,Je)),Tn&&(Zi["#text"]=!0),Yn&&Et(Zi,["html","head","body"]),Zi.table&&(Et(Zi,["tbody"]),delete zn.tbody),he&&he(oe),pi=oe)},Ur=Et({},["mi","mo","mn","ms","mtext"]),qn=Et({},["foreignobject","desc","title","annotation-xml"]),Ha=Et({},["title","style","font","a","script"]),cs=Et({},_i);Et(cs,tn),Et(cs,Yi);var xs=Et({},It);Et(xs,Qt);var zr=function(oe){var rt=dt(oe);(!rt||!rt.tagName)&&(rt={namespaceURI:Fe,tagName:"template"});var ft=R(oe.tagName),Ei=R(rt.tagName);return oe.namespaceURI===We?rt.namespaceURI===Fe?"svg"===ft:rt.namespaceURI===we?"svg"===ft&&("annotation-xml"===Ei||Ur[Ei]):Boolean(cs[ft]):oe.namespaceURI===we?rt.namespaceURI===Fe?"math"===ft:rt.namespaceURI===We?"math"===ft&&qn[Ei]:Boolean(xs[ft]):oe.namespaceURI===Fe&&!(rt.namespaceURI===We&&!qn[Ei]||rt.namespaceURI===we&&!Ur[Ei])&&!xs[ft]&&(Ha[ft]||!cs[ft])},mo=function(oe){ht(ce.removed,{element:oe});try{oe.parentNode.removeChild(oe)}catch{try{oe.outerHTML=Tt}catch{oe.remove()}}},Ws=function(oe,rt){try{ht(ce.removed,{attribute:rt.getAttributeNode(oe),from:rt})}catch{ht(ce.removed,{attribute:null,from:rt})}if(rt.removeAttribute(oe),"is"===oe&&!on[oe])if(Zr||ds)try{mo(rt)}catch{}else try{rt.setAttribute(oe,"")}catch{}},dl=function(oe){var rt,ft;if(Ir)oe="<remove></remove>"+oe;else{var Ei=Mt(oe,/^[\r\n\t ]+/);ft=Ei&&Ei[0]}"application/xhtml+xml"===bi&&(oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+oe+"</body></html>");var Kn=mt?mt.createHTML(oe):oe;if(Ye===Fe)try{rt=(new ki).parseFromString(Kn,bi)}catch{}if(!rt||!rt.documentElement){rt=Ki.createDocument(Ye,"template",null);try{rt.documentElement.innerHTML=Dt?"":Kn}catch{}}var Pn=rt.body||rt.documentElement;return oe&&ft&&Pn.insertBefore(me.createTextNode(ft),Pn.childNodes[0]||null),Ye===Fe?Hr.call(rt,Yn?"html":"body")[0]:Yn?rt.documentElement:Pn},Wr=function(oe){return ln.call(oe.ownerDocument||oe,oe,_t.SHOW_ELEMENT|_t.SHOW_COMMENT|_t.SHOW_TEXT,null,!1)},Ko=function(oe){return oe instanceof yt&&("string"!=typeof oe.nodeName||"string"!=typeof oe.textContent||"function"!=typeof oe.removeChild||!(oe.attributes instanceof Zt)||"function"!=typeof oe.removeAttribute||"function"!=typeof oe.setAttribute||"string"!=typeof oe.namespaceURI||"function"!=typeof oe.insertBefore)},As=function(oe){return"object"===w(Qe)?oe instanceof Qe:oe&&"object"===w(oe)&&"number"==typeof oe.nodeType&&"string"==typeof oe.nodeName},eo=function(oe,rt,ft){!Un[oe]||at(Un[oe],function(Ei){Ei.call(ce,rt,ft,pi)})},$a=function(oe){var rt;if(eo("beforeSanitizeElements",oe,null),Ko(oe)||ti(/[\u0080-\uFFFF]/,oe.nodeName))return mo(oe),!0;var ft=Je(oe.nodeName);if(eo("uponSanitizeElement",oe,{tagName:ft,allowedTags:Zi}),oe.hasChildNodes()&&!As(oe.firstElementChild)&&(!As(oe.content)||!As(oe.content.firstElementChild))&&ti(/<[/\w]/g,oe.innerHTML)&&ti(/<[/\w]/g,oe.textContent)||"select"===ft&&ti(/<template/i,oe.innerHTML))return mo(oe),!0;if(!Zi[ft]||zn[ft]){if(!zn[ft]&&Vi(ft)&&(Ji.tagNameCheck instanceof RegExp&&ti(Ji.tagNameCheck,ft)||Ji.tagNameCheck instanceof Function&&Ji.tagNameCheck(ft)))return!1;if(Tn&&!Mo[ft]){var Ei=dt(oe)||oe.parentNode,Kn=Ke(oe)||oe.childNodes;if(Kn&&Ei)for(var un=Kn.length-1;un>=0;--un)Ei.insertBefore(Ve(Kn[un],!0),ke(oe))}return mo(oe),!0}return oe instanceof vt&&!zr(oe)||("noscript"===ft||"noembed"===ft)&&ti(/<\/no(script|embed)/i,oe.innerHTML)?(mo(oe),!0):(tr&&3===oe.nodeType&&(rt=Yt(rt=oe.textContent,Vn," "),rt=Yt(rt,po," "),oe.textContent!==rt&&(ht(ce.removed,{element:oe.cloneNode()}),oe.textContent=rt)),eo("afterSanitizeElements",oe,null),!1)},ir=function(oe,rt,ft){if(Mr&&("id"===rt||"name"===rt)&&(ft in me||ft in Yo))return!1;if((!Qr||us[rt]||!ti(ls,rt))&&(!Br||!ti(Ds,rt)))if(!on[rt]||us[rt]){if(!(Vi(oe)&&(Ji.tagNameCheck instanceof RegExp&&ti(Ji.tagNameCheck,oe)||Ji.tagNameCheck instanceof Function&&Ji.tagNameCheck(oe))&&(Ji.attributeNameCheck instanceof RegExp&&ti(Ji.attributeNameCheck,rt)||Ji.attributeNameCheck instanceof Function&&Ji.attributeNameCheck(rt))||"is"===rt&&Ji.allowCustomizedBuiltInElements&&(Ji.tagNameCheck instanceof RegExp&&ti(Ji.tagNameCheck,ft)||Ji.tagNameCheck instanceof Function&&Ji.tagNameCheck(ft))))return!1}else if(!ue[rt]&&!ti(Oo,Yt(ft,Hn,""))&&("src"!==rt&&"xlink:href"!==rt&&"href"!==rt||"script"===oe||0!==ei(ft,"data:")||!Jr[oe])&&(!Io||ti(jo,Yt(ft,Hn,"")))&&ft)return!1;return!0},Vi=function(oe){return oe.indexOf("-")>0},hs=function(oe){var rt,ft,Ei,Kn;eo("beforeSanitizeAttributes",oe,null);var Pn=oe.attributes;if(Pn){var un={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:on};for(Kn=Pn.length;Kn--;){var nn=(rt=Pn[Kn]).name,Pr=rt.namespaceURI;if(ft="value"===nn?rt.value:pn(rt.value),Ei=Je(nn),un.attrName=Ei,un.attrValue=ft,un.keepAttr=!0,un.forceKeepAttr=void 0,eo("uponSanitizeAttribute",oe,un),ft=un.attrValue,!un.forceKeepAttr&&(Ws(nn,oe),un.keepAttr)){if(ti(/\/>/i,ft)){Ws(nn,oe);continue}tr&&(ft=Yt(ft,Vn," "),ft=Yt(ft,po," "));var Gr=Je(oe.nodeName);if(ir(Gr,Ei,ft)){if(Ro&&("id"===Ei||"name"===Ei)&&(Ws(nn,oe),ft=vr+ft),mt&&"object"===w(j)&&"function"==typeof j.getAttributeType&&!Pr)switch(j.getAttributeType(Gr,Ei)){case"TrustedHTML":ft=mt.createHTML(ft);break;case"TrustedScriptURL":ft=mt.createScriptURL(ft)}try{Pr?oe.setAttributeNS(Pr,nn,ft):oe.setAttribute(nn,ft),Re(ce.removed)}catch{}}}}eo("afterSanitizeAttributes",oe,null)}},Ba=function Ht(oe){var rt,ft=Wr(oe);for(eo("beforeSanitizeShadowDOM",oe,null);rt=ft.nextNode();)eo("uponSanitizeShadowNode",rt,null),!$a(rt)&&(rt.content instanceof Ie&&Ht(rt.content),hs(rt));eo("afterSanitizeShadowDOM",oe,null)};return ce.sanitize=function(Ht){var rt,ft,Ei,Kn,Pn,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((Dt=!Ht)&&(Ht="\x3c!--\x3e"),"string"!=typeof Ht&&!As(Ht)){if("function"!=typeof Ht.toString)throw wi("toString is not a function");if("string"!=typeof(Ht=Ht.toString()))throw wi("dirty is not a string, aborting")}if(!ce.isSupported){if("object"===w(S.toStaticHTML)||"function"==typeof S.toStaticHTML){if("string"==typeof Ht)return S.toStaticHTML(Ht);if(As(Ht))return S.toStaticHTML(Ht.outerHTML)}return Ht}if(Gi||qo(oe),ce.removed=[],"string"==typeof Ht&&(_r=!1),_r){if(Ht.nodeName){var un=Je(Ht.nodeName);if(!Zi[un]||zn[un])throw wi("root node is forbidden and cannot be sanitized in-place")}}else if(Ht instanceof Qe)1===(ft=(rt=dl("\x3c!----\x3e")).ownerDocument.importNode(Ht,!0)).nodeType&&"BODY"===ft.nodeName||"HTML"===ft.nodeName?rt=ft:rt.appendChild(ft);else{if(!Zr&&!tr&&!Yn&&-1===Ht.indexOf("<"))return mt&&Rr?mt.createHTML(Ht):Ht;if(!(rt=dl(Ht)))return Zr?null:Rr?Tt:""}rt&&Ir&&mo(rt.firstChild);for(var fs=Wr(_r?Ht:rt);Ei=fs.nextNode();)3===Ei.nodeType&&Ei===Kn||$a(Ei)||(Ei.content instanceof Ie&&Ba(Ei.content),hs(Ei),Kn=Ei);if(Kn=null,_r)return Ht;if(Zr){if(ds)for(Pn=Li.call(rt.ownerDocument);rt.firstChild;)Pn.appendChild(rt.firstChild);else Pn=rt;return on.shadowroot&&(Pn=$r.call(Ce,Pn,!0)),Pn}var nn=Yn?rt.outerHTML:rt.innerHTML;return Yn&&Zi["!doctype"]&&rt.ownerDocument&&rt.ownerDocument.doctype&&rt.ownerDocument.doctype.name&&ti(St,rt.ownerDocument.doctype.name)&&(nn="<!DOCTYPE "+rt.ownerDocument.doctype.name+">\n"+nn),tr&&(nn=Yt(nn,Vn," "),nn=Yt(nn,po," ")),mt&&Rr?mt.createHTML(nn):nn},ce.setConfig=function(Ht){qo(Ht),Gi=!0},ce.clearConfig=function(){pi=null,Gi=!1},ce.isValidAttribute=function(Ht,oe,rt){pi||qo({});var ft=Je(Ht),Ei=Je(oe);return ir(ft,Ei,rt)},ce.addHook=function(Ht,oe){"function"==typeof oe&&(Un[Ht]=Un[Ht]||[],ht(Un[Ht],oe))},ce.removeHook=function(Ht){if(Un[Ht])return Re(Un[Ht])},ce.removeHooks=function(Ht){Un[Ht]&&(Un[Ht]=[])},ce.removeAllHooks=function(){Un={}},ce}()}()},8323:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(v){for(var w=[],A=1;A<arguments.length;A++)w[A-1]=arguments[A];if(!v)throw TypeError("Cannot convert undefined or null to object");for(var I=function(c){c&&Object.keys(c).forEach(function(_){return v[_]=c[_]})},F=0,L=w;F<L.length;F++){var b=L[F];I(b)}return v})},9643:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.extend(b.expr.pseudos,{data:b.expr.createPseudo?b.expr.createPseudo(function(c){return function(_){return!!b.data(_,c)}}):function(c,_,y){return!!b.data(c,y[3])}})},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},8095:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},5411:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},9534:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.ui.plugin={add:function(c,_,y){var T,x=b.ui[c].prototype;for(T in y)x.plugins[T]=x.plugins[T]||[],x.plugins[T].push([_,y[T]])},call:function(c,_,y,T){var x,k=c.plugins[_];if(k&&(T||c.element[0].parentNode&&11!==c.element[0].parentNode.nodeType))for(x=0;x<k.length;x++)c.options[k[x][0]]&&k[x][1].apply(c.element,y)}}},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},4433:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return function(){var c,_=Math.max,y=Math.abs,T=/left|center|right/,x=/top|center|bottom/,k=/[\+\-]\d+(\.[\d]+)?%?/,V=/^\w+/,K=/%$/,Y=b.fn.position;function he(pe,Me,at){return[parseFloat(pe[0])*(K.test(pe[0])?Me/100:1),parseFloat(pe[1])*(K.test(pe[1])?at/100:1)]}function se(pe,Me){return parseInt(b.css(pe,Me),10)||0}function Se(pe){return null!=pe&&pe===pe.window}function st(pe){var Me=pe[0];return 9===Me.nodeType?{width:pe.width(),height:pe.height(),offset:{top:0,left:0}}:Se(Me)?{width:pe.width(),height:pe.height(),offset:{top:pe.scrollTop(),left:pe.scrollLeft()}}:Me.preventDefault?{width:0,height:0,offset:{top:Me.pageY,left:Me.pageX}}:{width:pe.outerWidth(),height:pe.outerHeight(),offset:pe.offset()}}b.position={scrollbarWidth:function(){if(void 0!==c)return c;var pe,Me,at=b("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),Re=at.children()[0];return b("body").append(at),pe=Re.offsetWidth,at.css("overflow","scroll"),pe===(Me=Re.offsetWidth)&&(Me=at[0].clientWidth),at.remove(),c=pe-Me},getScrollInfo:function(pe){var Me=pe.isWindow||pe.isDocument?"":pe.element.css("overflow-x"),at=pe.isWindow||pe.isDocument?"":pe.element.css("overflow-y"),Re="scroll"===Me||"auto"===Me&&pe.width<pe.element[0].scrollWidth;return{width:"scroll"===at||"auto"===at&&pe.height<pe.element[0].scrollHeight?b.position.scrollbarWidth():0,height:Re?b.position.scrollbarWidth():0}},getWithinInfo:function(pe){var Me=b(pe||window),at=Se(Me[0]),Re=!!Me[0]&&9===Me[0].nodeType;return{element:Me,isWindow:at,isDocument:Re,offset:at||Re?{left:0,top:0}:b(pe).offset(),scrollLeft:Me.scrollLeft(),scrollTop:Me.scrollTop(),width:Me.outerWidth(),height:Me.outerHeight()}}},b.fn.position=function(pe){if(!pe||!pe.of)return Y.apply(this,arguments);var Me,at,Re,ht,R,Mt,Yt="string"==typeof(pe=b.extend({},pe)).of?b(document).find(pe.of):b(pe.of),ei=b.position.getWithinInfo(pe.within),pn=b.position.getScrollInfo(ei),ti=(pe.collision||"flip").split(" "),wi={};return Mt=st(Yt),Yt[0].preventDefault&&(pe.at="left top"),at=Mt.width,Re=Mt.height,R=b.extend({},ht=Mt.offset),b.each(["my","at"],function(){var ii,Et,ut=(pe[this]||"").split(" ");1===ut.length&&(ut=T.test(ut[0])?ut.concat(["center"]):x.test(ut[0])?["center"].concat(ut):["center","center"]),ut[0]=T.test(ut[0])?ut[0]:"center",ut[1]=x.test(ut[1])?ut[1]:"center",ii=k.exec(ut[0]),Et=k.exec(ut[1]),wi[this]=[ii?ii[0]:0,Et?Et[0]:0],pe[this]=[V.exec(ut[0])[0],V.exec(ut[1])[0]]}),1===ti.length&&(ti[1]=ti[0]),"right"===pe.at[0]?R.left+=at:"center"===pe.at[0]&&(R.left+=at/2),"bottom"===pe.at[1]?R.top+=Re:"center"===pe.at[1]&&(R.top+=Re/2),Me=he(wi.at,at,Re),R.left+=Me[0],R.top+=Me[1],this.each(function(){var ut,ii,Et=b(this),ct=Et.outerWidth(),Ri=Et.outerHeight(),gt=se(this,"marginLeft"),_i=se(this,"marginTop"),tn=ct+gt+se(this,"marginRight")+pn.width,Yi=Ri+_i+se(this,"marginBottom")+pn.height,It=b.extend({},R),Qt=he(wi.my,Et.outerWidth(),Et.outerHeight());"right"===pe.my[0]?It.left-=ct:"center"===pe.my[0]&&(It.left-=ct/2),"bottom"===pe.my[1]?It.top-=Ri:"center"===pe.my[1]&&(It.top-=Ri/2),It.left+=Qt[0],It.top+=Qt[1],ut={marginLeft:gt,marginTop:_i},b.each(["left","top"],function(gn,an){b.ui.position[ti[gn]]&&b.ui.position[ti[gn]][an](It,{targetWidth:at,targetHeight:Re,elemWidth:ct,elemHeight:Ri,collisionPosition:ut,collisionWidth:tn,collisionHeight:Yi,offset:[Me[0]+Qt[0],Me[1]+Qt[1]],my:pe.my,at:pe.at,within:ei,elem:Et})}),pe.using&&(ii=function(gn){var an=ht.left-It.left,Ai=an+at-ct,Mi=ht.top-It.top,Pi=Mi+Re-Ri,Lt={target:{element:Yt,left:ht.left,top:ht.top,width:at,height:Re},element:{element:Et,left:It.left,top:It.top,width:ct,height:Ri},horizontal:Ai<0?"left":an>0?"right":"center",vertical:Pi<0?"top":Mi>0?"bottom":"middle"};at<ct&&y(an+Ai)<at&&(Lt.horizontal="center"),Re<Ri&&y(Mi+Pi)<Re&&(Lt.vertical="middle"),Lt.important=_(y(an),y(Ai))>_(y(Mi),y(Pi))?"horizontal":"vertical",pe.using.call(this,gn,Lt)}),Et.offset(b.extend(It,{using:ii}))})},b.ui.position={fit:{left:function(pe,Me){var at=Me.within,Re=at.isWindow?at.scrollLeft:at.offset.left,ht=at.width,R=pe.left-Me.collisionPosition.marginLeft,Mt=Re-R,Yt=R+Me.collisionWidth-ht-Re;Me.collisionWidth>ht?Mt>0&&Yt<=0?pe.left+=Mt-(pe.left+Mt+Me.collisionWidth-ht-Re):pe.left=Yt>0&&Mt<=0?Re:Mt>Yt?Re+ht-Me.collisionWidth:Re:Mt>0?pe.left+=Mt:Yt>0?pe.left-=Yt:pe.left=_(pe.left-R,pe.left)},top:function(pe,Me){var at=Me.within,Re=at.isWindow?at.scrollTop:at.offset.top,ht=Me.within.height,R=pe.top-Me.collisionPosition.marginTop,Mt=Re-R,Yt=R+Me.collisionHeight-ht-Re;Me.collisionHeight>ht?Mt>0&&Yt<=0?pe.top+=Mt-(pe.top+Mt+Me.collisionHeight-ht-Re):pe.top=Yt>0&&Mt<=0?Re:Mt>Yt?Re+ht-Me.collisionHeight:Re:Mt>0?pe.top+=Mt:Yt>0?pe.top-=Yt:pe.top=_(pe.top-R,pe.top)}},flip:{left:function(pe,Me){var ut,ii,at=Me.within,ht=at.width,R=at.isWindow?at.scrollLeft:at.offset.left,Mt=pe.left-Me.collisionPosition.marginLeft,Yt=Mt-R,ei=Mt+Me.collisionWidth-ht-R,pn="left"===Me.my[0]?-Me.elemWidth:"right"===Me.my[0]?Me.elemWidth:0,ti="left"===Me.at[0]?Me.targetWidth:"right"===Me.at[0]?-Me.targetWidth:0,wi=-2*Me.offset[0];Yt<0?((ut=pe.left+pn+ti+wi+Me.collisionWidth-ht-(at.offset.left+at.scrollLeft))<0||ut<y(Yt))&&(pe.left+=pn+ti+wi):ei>0&&((ii=pe.left-Me.collisionPosition.marginLeft+pn+ti+wi-R)>0||y(ii)<ei)&&(pe.left+=pn+ti+wi)},top:function(pe,Me){var ii,Et,at=Me.within,ht=at.height,R=at.isWindow?at.scrollTop:at.offset.top,Mt=pe.top-Me.collisionPosition.marginTop,Yt=Mt-R,ei=Mt+Me.collisionHeight-ht-R,ti="top"===Me.my[1]?-Me.elemHeight:"bottom"===Me.my[1]?Me.elemHeight:0,wi="top"===Me.at[1]?Me.targetHeight:"bottom"===Me.at[1]?-Me.targetHeight:0,ut=-2*Me.offset[1];Yt<0?((Et=pe.top+ti+wi+ut+Me.collisionHeight-ht-(at.offset.top+at.scrollTop))<0||Et<y(Yt))&&(pe.top+=ti+wi+ut):ei>0&&((ii=pe.top-Me.collisionPosition.marginTop+ti+wi+ut-R)>0||y(ii)<ei)&&(pe.top+=ti+wi+ut)}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments),b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments),b.ui.position.fit.top.apply(this,arguments)}}}}(),b.ui.position},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},8275:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.ui.safeActiveElement=function(c){var _;try{_=c.activeElement}catch{_=c.body}return _||(_=c.body),_.nodeName||(_=c.body),_}},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},2942:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.ui.safeBlur=function(c){c&&"body"!==c.nodeName.toLowerCase()&&b(c).trigger("blur")}},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},4097:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.fn.scrollParent=function(c){var _=this.css("position"),y="absolute"===_,T=c?/(auto|scroll|hidden)/:/(auto|scroll)/,x=this.parents().filter(function(){var k=b(this);return(!y||"static"!==k.css("position"))&&T.test(k.css("overflow")+k.css("overflow-y")+k.css("overflow-x"))}).eq(0);return"fixed"!==_&&x.length?x:b(this[0].ownerDocument||document)}},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},149:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){return b.fn.extend({uniqueId:(c=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&b(this).removeAttr("id")})}});var c},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},9449:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259)],I=function(b){return b.ui=b.ui||{},b.ui.version="1.13.2"},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},949:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(9449)],I=function(b){var T,c=0,_=Array.prototype.hasOwnProperty,y=Array.prototype.slice;return b.cleanData=(T=b.cleanData,function(x){var k,V,K;for(K=0;null!=(V=x[K]);K++)(k=b._data(V,"events"))&&k.remove&&b(V).triggerHandler("remove");T(x)}),b.widget=function(T,x,k){var V,K,Y,he={},se=T.split(".")[0],Se=se+"-"+(T=T.split(".")[1]);return k||(k=x,x=b.Widget),Array.isArray(k)&&(k=b.extend.apply(null,[{}].concat(k))),b.expr.pseudos[Se.toLowerCase()]=function(st){return!!b.data(st,Se)},b[se]=b[se]||{},V=b[se][T],K=b[se][T]=function(st,pe){if(!this||!this._createWidget)return new K(st,pe);arguments.length&&this._createWidget(st,pe)},b.extend(K,V,{version:k.version,_proto:b.extend({},k),_childConstructors:[]}),(Y=new x).options=b.widget.extend({},Y.options),b.each(k,function(st,pe){he[st]="function"==typeof pe?function(){function Me(){return x.prototype[st].apply(this,arguments)}function at(Re){return x.prototype[st].apply(this,Re)}return function(){var R,Re=this._super,ht=this._superApply;return this._super=Me,this._superApply=at,R=pe.apply(this,arguments),this._super=Re,this._superApply=ht,R}}():pe}),K.prototype=b.widget.extend(Y,{widgetEventPrefix:V&&Y.widgetEventPrefix||T},he,{constructor:K,namespace:se,widgetName:T,widgetFullName:Se}),V?(b.each(V._childConstructors,function(st,pe){var Me=pe.prototype;b.widget(Me.namespace+"."+Me.widgetName,K,pe._proto)}),delete V._childConstructors):x._childConstructors.push(K),b.widget.bridge(T,K),K},b.widget.extend=function(T){for(var K,Y,x=y.call(arguments,1),k=0,V=x.length;k<V;k++)for(K in x[k])Y=x[k][K],_.call(x[k],K)&&void 0!==Y&&(T[K]=b.isPlainObject(Y)?b.isPlainObject(T[K])?b.widget.extend({},T[K],Y):b.widget.extend({},Y):Y);return T},b.widget.bridge=function(T,x){var k=x.prototype.widgetFullName||T;b.fn[T]=function(V){var K="string"==typeof V,Y=y.call(arguments,1),he=this;return K?this.length||"instance"!==V?this.each(function(){var se,Se=b.data(this,k);return"instance"===V?(he=Se,!1):Se?"function"!=typeof Se[V]||"_"===V.charAt(0)?b.error("no such method '"+V+"' for "+T+" widget instance"):(se=Se[V].apply(Se,Y))!==Se&&void 0!==se?(he=se&&se.jquery?he.pushStack(se.get()):se,!1):void 0:b.error("cannot call methods on "+T+" prior to initialization; attempted to call method '"+V+"'")}):he=void 0:(Y.length&&(V=b.widget.extend.apply(null,[V].concat(Y))),this.each(function(){var se=b.data(this,k);se?(se.option(V||{}),se._init&&se._init()):b.data(this,k,new x(V,this))})),he}},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(T,x){x=b(x||this.defaultElement||this)[0],this.element=b(x),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=b(),this.hoverable=b(),this.focusable=b(),this.classesElementLookup={},x!==this&&(b.data(x,this.widgetFullName,this),this._on(!0,this.element,{remove:function(k){k.target===x&&this.destroy()}}),this.document=b(x.style?x.ownerDocument:x.document||x),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this.options=b.widget.extend({},this.options,this._getCreateOptions(),T),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){var T=this;this._destroy(),b.each(this.classesElementLookup,function(x,k){T._removeClass(k,x)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(T,x){var V,K,Y,k=T;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof T)if(k={},V=T.split("."),T=V.shift(),V.length){for(K=k[T]=b.widget.extend({},this.options[T]),Y=0;Y<V.length-1;Y++)K[V[Y]]=K[V[Y]]||{},K=K[V[Y]];if(T=V.pop(),1===arguments.length)return void 0===K[T]?null:K[T];K[T]=x}else{if(1===arguments.length)return void 0===this.options[T]?null:this.options[T];k[T]=x}return this._setOptions(k),this},_setOptions:function(T){var x;for(x in T)this._setOption(x,T[x]);return this},_setOption:function(T,x){return"classes"===T&&this._setOptionClasses(x),this.options[T]=x,"disabled"===T&&this._setOptionDisabled(x),this},_setOptionClasses:function(T){var x,k,V;for(x in T)V=this.classesElementLookup[x],T[x]!==this.options.classes[x]&&V&&V.length&&(k=b(V.get()),this._removeClass(V,x),k.addClass(this._classes({element:k,keys:x,classes:T,add:!0})))},_setOptionDisabled:function(T){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!T),T&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(T){var x=[],k=this;function V(){var Y=[];T.element.each(function(he,se){b.map(k.classesElementLookup,function(st){return st}).some(function(st){return st.is(se)})||Y.push(se)}),k._on(b(Y),{remove:"_untrackClassesElement"})}function K(Y,he){var se,Se;for(Se=0;Se<Y.length;Se++)se=k.classesElementLookup[Y[Se]]||b(),T.add?(V(),se=b(b.uniqueSort(se.get().concat(T.element.get())))):se=b(se.not(T.element).get()),k.classesElementLookup[Y[Se]]=se,x.push(Y[Se]),he&&T.classes[Y[Se]]&&x.push(T.classes[Y[Se]])}return(T=b.extend({element:this.element,classes:this.options.classes||{}},T)).keys&&K(T.keys.match(/\S+/g)||[],!0),T.extra&&K(T.extra.match(/\S+/g)||[]),x.join(" ")},_untrackClassesElement:function(T){var x=this;b.each(x.classesElementLookup,function(k,V){-1!==b.inArray(T.target,V)&&(x.classesElementLookup[k]=b(V.not(T.target).get()))}),this._off(b(T.target))},_removeClass:function(T,x,k){return this._toggleClass(T,x,k,!1)},_addClass:function(T,x,k){return this._toggleClass(T,x,k,!0)},_toggleClass:function(T,x,k,V){var K="string"==typeof T||null===T,Y={extra:K?x:k,keys:K?T:x,element:K?this.element:T,add:V="boolean"==typeof V?V:k};return Y.element.toggleClass(this._classes(Y),V),this},_on:function(T,x,k){var V,K=this;"boolean"!=typeof T&&(k=x,x=T,T=!1),k?(x=V=b(x),this.bindings=this.bindings.add(x)):(k=x,x=this.element,V=this.widget()),b.each(k,function(Y,he){function se(){if(T||!0!==K.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"==typeof he?K[he]:he).apply(K,arguments)}"string"!=typeof he&&(se.guid=he.guid=he.guid||se.guid||b.guid++);var Se=Y.match(/^([\w:-]*)\s*(.*)$/),st=Se[1]+K.eventNamespace,pe=Se[2];pe?V.on(st,pe,se):x.on(st,se)})},_off:function(T,x){x=(x||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,T.off(x),this.bindings=b(this.bindings.not(T).get()),this.focusable=b(this.focusable.not(T).get()),this.hoverable=b(this.hoverable.not(T).get())},_delay:function(T,x){var V=this;return setTimeout(function k(){return("string"==typeof T?V[T]:T).apply(V,arguments)},x||0)},_hoverable:function(T){this.hoverable=this.hoverable.add(T),this._on(T,{mouseenter:function(x){this._addClass(b(x.currentTarget),null,"ui-state-hover")},mouseleave:function(x){this._removeClass(b(x.currentTarget),null,"ui-state-hover")}})},_focusable:function(T){this.focusable=this.focusable.add(T),this._on(T,{focusin:function(x){this._addClass(b(x.currentTarget),null,"ui-state-focus")},focusout:function(x){this._removeClass(b(x.currentTarget),null,"ui-state-focus")}})},_trigger:function(T,x,k){var V,K,Y=this.options[T];if(k=k||{},(x=b.Event(x)).type=(T===this.widgetEventPrefix?T:this.widgetEventPrefix+T).toLowerCase(),x.target=this.element[0],K=x.originalEvent)for(V in K)V in x||(x[V]=K[V]);return this.element.trigger(x,k),!("function"==typeof Y&&!1===Y.apply(this.element[0],[x].concat(k))||x.isDefaultPrevented())}},b.each({show:"fadeIn",hide:"fadeOut"},function(T,x){b.Widget.prototype["_"+T]=function(k,V,K){"string"==typeof V&&(V={effect:V});var Y,he=V?!0===V||"number"==typeof V?x:V.effect||x:T;"number"==typeof(V=V||{})?V={duration:V}:!0===V&&(V={}),Y=!b.isEmptyObject(V),V.complete=K,V.delay&&k.delay(V.delay),Y&&b.effects&&b.effects.effect[he]?k[T](V):he!==T&&k[he]?k[he](V.duration,V.easing,K):k.queue(function(se){b(this)[T](),K&&K.call(k[0]),se()})}}),b.widget},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},5987:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(2823),A(5411),A(4433),A(8275),A(9449),A(949)],I=function(b){return b.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var c,_,y,T=this.element[0].nodeName.toLowerCase(),x="textarea"===T,k="input"===T;this.isMultiLine=x||!k&&this._isContentEditable(this.element),this.valueMethod=this.element[x||k?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(V){if(this.element.prop("readOnly"))return c=!0,y=!0,void(_=!0);c=!1,y=!1,_=!1;var K=b.ui.keyCode;switch(V.keyCode){case K.PAGE_UP:c=!0,this._move("previousPage",V);break;case K.PAGE_DOWN:c=!0,this._move("nextPage",V);break;case K.UP:c=!0,this._keyEvent("previous",V);break;case K.DOWN:c=!0,this._keyEvent("next",V);break;case K.ENTER:this.menu.active&&(c=!0,V.preventDefault(),this.menu.select(V));break;case K.TAB:this.menu.active&&this.menu.select(V);break;case K.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(V),V.preventDefault());break;default:_=!0,this._searchTimeout(V)}},keypress:function(V){if(c)return c=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&V.preventDefault());if(!_){var K=b.ui.keyCode;switch(V.keyCode){case K.PAGE_UP:this._move("previousPage",V);break;case K.PAGE_DOWN:this._move("nextPage",V);break;case K.UP:this._keyEvent("previous",V);break;case K.DOWN:this._keyEvent("next",V)}}},input:function(V){if(y)return y=!1,void V.preventDefault();this._searchTimeout(V)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(V){clearTimeout(this.searching),this.close(V),this._change(V)}}),this._initSource(),this.menu=b("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(V){V.preventDefault()},menufocus:function(V,K){var Y,he;if(this.isNewMenu&&(this.isNewMenu=!1,V.originalEvent&&/^mouse/.test(V.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){b(V.target).trigger(V.originalEvent)});he=K.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",V,{item:he})&&V.originalEvent&&/^key/.test(V.originalEvent.type)&&this._value(he.value),(Y=K.item.attr("aria-label")||he.value)&&String.prototype.trim.call(Y).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(b("<div>").text(Y))},100))},menuselect:function(V,K){var Y=K.item.data("ui-autocomplete-item"),he=this.previous;this.element[0]!==b.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=he,this._delay(function(){this.previous=he,this.selectedItem=Y})),!1!==this._trigger("select",V,{item:Y})&&this._value(Y.value),this.term=this._value(),this.close(V),this.selectedItem=Y}}),this.liveRegion=b("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(c,_){this._super(c,_),"source"===c&&this._initSource(),"appendTo"===c&&this.menu.element.appendTo(this._appendTo()),"disabled"===c&&_&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(c){var _=this.menu.element[0];return c.target===this.element[0]||c.target===_||b.contains(_,c.target)},_closeOnClickOutside:function(c){this._isEventTargetInWidget(c)||this.close()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?b(c):this.document.find(c).eq(0)),(!c||!c[0])&&(c=this.element.closest(".ui-front, dialog")),c.length||(c=this.document[0].body),c},_initSource:function(){var c,_,y=this;Array.isArray(this.options.source)?(c=this.options.source,this.source=function(T,x){x(b.ui.autocomplete.filter(c,T.term))}):"string"==typeof this.options.source?(_=this.options.source,this.source=function(T,x){y.xhr&&y.xhr.abort(),y.xhr=b.ajax({url:_,data:T,dataType:"json",success:function(k){x(k)},error:function(){x([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){var _=this.term===this._value(),y=this.menu.element.is(":visible");(!_||_&&!y&&!(c.altKey||c.ctrlKey||c.metaKey||c.shiftKey))&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,_){return c=c??this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(_):!1!==this._trigger("search",_)?this._search(c):void 0},_search:function(c){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return function(_){c===this.requestIndex&&this.__response(_),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:b.map(c,function(_){return"string"==typeof _?{label:_,value:_}:b.extend({},_,{label:_.label||_.value,value:_.value||_.label})})},_suggest:function(c){var _=this.menu.element.empty();this._renderMenu(_,c),this.isNewMenu=!0,this.menu.refresh(),_.show(),this._resizeMenu(),_.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,_){var y=this;b.each(_,function(T,x){y._renderItemData(c,x)})},_renderItemData:function(c,_){return this._renderItem(c,_).data("ui-autocomplete-item",_)},_renderItem:function(c,_){return b("<li>").append(b("<div>").text(_.label)).appendTo(c)},_move:function(c,_){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[c](_);this.search(null,_)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,_){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(c,_),_.preventDefault())},_isContentEditable:function(c){if(!c.length)return!1;var _=c.prop("contentEditable");return"inherit"===_?this._isContentEditable(c.parent()):"true"===_}}),b.extend(b.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,_){var y=new RegExp(b.ui.autocomplete.escapeRegex(_),"i");return b.grep(c,function(T){return y.test(T.label||T.value||T)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var _;this._superApply(arguments),!this.options.disabled&&!this.cancelSearch&&(_=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(b("<div>").text(_))},100))}}),b.ui.autocomplete},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},544:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(1178),A(9643),A(9534),A(8275),A(2942),A(4097),A(9449),A(949)],I=function(b){return b.widget("ui.draggable",b.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(c,_){this._super(c,_),"handle"===c&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(c){var _=this.options;return!(this.helper||_.disabled||b(c.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(c),!this.handle)||(this._blurActiveElement(c),this._blockFrames(!0===_.iframeFix?"iframe":_.iframeFix),0))},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var _=b(this);return b("<div>").css("position","absolute").appendTo(_.parent()).outerWidth(_.outerWidth()).outerHeight(_.outerHeight()).offset(_.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var _=b.ui.safeActiveElement(this.document[0]);b(c.target).closest(_).length||b.ui.safeBlur(_)},_mouseStart:function(c){var _=this.options;return this.helper=this._createHelper(c),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===b(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,this.originalPageY=c.pageY,_.cursorAt&&this._adjustOffsetFromHelper(_.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!_.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,c),!0)},_refreshOffsets:function(c){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:c.pageX-this.offset.left,top:c.pageY-this.offset.top}},_mouseDrag:function(c,_){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!_){var y=this._uiHash();if(!1===this._trigger("drag",c,y))return this._mouseUp(new b.Event("mouseup",c)),!1;this.position=y.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var _=this,y=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(y=b.ui.ddmanager.drop(this,c)),this.dropped&&(y=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!y||"valid"===this.options.revert&&y||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,y)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==_._trigger("stop",c)&&_._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1},_mouseUp:function(c){return this._unblockFrames(),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c),this.handleElement.is(c.target)&&this.element.trigger("focus"),b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new b.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(c){return!this.options.handle||!!b(c.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(c){var _=this.options,y="function"==typeof _.helper,T=y?b(_.helper.apply(this.element[0],[c])):"clone"===_.helper?this.element.clone().removeAttr("id"):this.element;return T.parents("body").length||T.appendTo("parent"===_.appendTo?this.element[0].parentNode:_.appendTo),y&&T[0]===this.element[0]&&this._setPositionRelative(),T[0]!==this.element[0]&&!/(fixed|absolute)/.test(T.css("position"))&&T.css("position","absolute"),T},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" ")),Array.isArray(c)&&(c={left:+c[0],top:+c[1]||0}),"left"in c&&(this.offset.click.left=c.left+this.margins.left),"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left),"top"in c&&(this.offset.click.top=c.top+this.margins.top),"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_isRootNode:function(c){return/(html|body)/i.test(c.tagName)||c===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var c=this.element.position(),_=this._isRootNode(this.scrollParent[0]);return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+(_?0:this.scrollParent.scrollTop()),left:c.left-(parseInt(this.helper.css("left"),10)||0)+(_?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,_,y,T=this.options,x=this.document[0];this.relativeContainer=null,T.containment?"window"!==T.containment?"document"!==T.containment?T.containment.constructor!==Array?("parent"===T.containment&&(T.containment=this.helper[0].parentNode),(y=(_=b(T.containment))[0])&&(c=/(scroll|auto)/.test(_.css("overflow")),this.containment=[(parseInt(_.css("borderLeftWidth"),10)||0)+(parseInt(_.css("paddingLeft"),10)||0),(parseInt(_.css("borderTopWidth"),10)||0)+(parseInt(_.css("paddingTop"),10)||0),(c?Math.max(y.scrollWidth,y.offsetWidth):y.offsetWidth)-(parseInt(_.css("borderRightWidth"),10)||0)-(parseInt(_.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(y.scrollHeight,y.offsetHeight):y.offsetHeight)-(parseInt(_.css("borderBottomWidth"),10)||0)-(parseInt(_.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=_)):this.containment=T.containment:this.containment=[0,0,b(x).width()-this.helperProportions.width-this.margins.left,(b(x).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(c,_){_||(_=this.position);var y="absolute"===c?1:-1,T=this._isRootNode(this.scrollParent[0]);return{top:_.top+this.offset.relative.top*y+this.offset.parent.top*y-("fixed"===this.cssPosition?-this.offset.scroll.top:T?0:this.offset.scroll.top)*y,left:_.left+this.offset.relative.left*y+this.offset.parent.left*y-("fixed"===this.cssPosition?-this.offset.scroll.left:T?0:this.offset.scroll.left)*y}},_generatePosition:function(c,_){var y,T,x,k,V=this.options,K=this._isRootNode(this.scrollParent[0]),Y=c.pageX,he=c.pageY;return(!K||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),_&&(this.containment&&(this.relativeContainer?(T=this.relativeContainer.offset(),y=[this.containment[0]+T.left,this.containment[1]+T.top,this.containment[2]+T.left,this.containment[3]+T.top]):y=this.containment,c.pageX-this.offset.click.left<y[0]&&(Y=y[0]+this.offset.click.left),c.pageY-this.offset.click.top<y[1]&&(he=y[1]+this.offset.click.top),c.pageX-this.offset.click.left>y[2]&&(Y=y[2]+this.offset.click.left),c.pageY-this.offset.click.top>y[3]&&(he=y[3]+this.offset.click.top)),V.grid&&(x=V.grid[1]?this.originalPageY+Math.round((he-this.originalPageY)/V.grid[1])*V.grid[1]:this.originalPageY,he=y?x-this.offset.click.top>=y[1]||x-this.offset.click.top>y[3]?x:x-this.offset.click.top>=y[1]?x-V.grid[1]:x+V.grid[1]:x,k=V.grid[0]?this.originalPageX+Math.round((Y-this.originalPageX)/V.grid[0])*V.grid[0]:this.originalPageX,Y=y?k-this.offset.click.left>=y[0]||k-this.offset.click.left>y[2]?k:k-this.offset.click.left>=y[0]?k-V.grid[0]:k+V.grid[0]:k),"y"===V.axis&&(Y=this.originalPageX),"x"===V.axis&&(he=this.originalPageY)),{top:he-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:K?0:this.offset.scroll.top),left:Y-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:K?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(c,_,y){return y=y||this._uiHash(),b.ui.plugin.call(this,c,[_,y,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),y.offset=this.positionAbs),b.Widget.prototype._trigger.call(this,c,_,y)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(c,_,y){var T=b.extend({},_,{item:y.element});y.sortables=[],b(y.options.connectToSortable).each(function(){var x=b(this).sortable("instance");x&&!x.options.disabled&&(y.sortables.push(x),x.refreshPositions(),x._trigger("activate",c,T))})},stop:function(c,_,y){var T=b.extend({},_,{item:y.element});y.cancelHelperRemoval=!1,b.each(y.sortables,function(){var x=this;x.isOver?(x.isOver=0,y.cancelHelperRemoval=!0,x.cancelHelperRemoval=!1,x._storedCSS={position:x.placeholder.css("position"),top:x.placeholder.css("top"),left:x.placeholder.css("left")},x._mouseStop(c),x.options.helper=x.options._helper):(x.cancelHelperRemoval=!0,x._trigger("deactivate",c,T))})},drag:function(c,_,y){b.each(y.sortables,function(){var T=!1,x=this;x.positionAbs=y.positionAbs,x.helperProportions=y.helperProportions,x.offset.click=y.offset.click,x._intersectsWith(x.containerCache)&&(T=!0,b.each(y.sortables,function(){return this.positionAbs=y.positionAbs,this.helperProportions=y.helperProportions,this.offset.click=y.offset.click,this!==x&&this._intersectsWith(this.containerCache)&&b.contains(x.element[0],this.element[0])&&(T=!1),T})),T?(x.isOver||(x.isOver=1,y._parent=_.helper.parent(),x.currentItem=_.helper.appendTo(x.element).data("ui-sortable-item",!0),x.options._helper=x.options.helper,x.options.helper=function(){return _.helper[0]},c.target=x.currentItem[0],x._mouseCapture(c,!0),x._mouseStart(c,!0,!0),x.offset.click.top=y.offset.click.top,x.offset.click.left=y.offset.click.left,x.offset.parent.left-=y.offset.parent.left-x.offset.parent.left,x.offset.parent.top-=y.offset.parent.top-x.offset.parent.top,y._trigger("toSortable",c),y.dropped=x.element,b.each(y.sortables,function(){this.refreshPositions()}),y.currentItem=y.element,x.fromOutside=y),x.currentItem&&(x._mouseDrag(c),_.position=x.position)):x.isOver&&(x.isOver=0,x.cancelHelperRemoval=!0,x.options._revert=x.options.revert,x.options.revert=!1,x._trigger("out",c,x._uiHash(x)),x._mouseStop(c,!0),x.options.revert=x.options._revert,x.options.helper=x.options._helper,x.placeholder&&x.placeholder.remove(),_.helper.appendTo(y._parent),y._refreshOffsets(c),_.position=y._generatePosition(c,!0),y._trigger("fromSortable",c),y.dropped=!1,b.each(y.sortables,function(){this.refreshPositions()}))})}}),b.ui.plugin.add("draggable","cursor",{start:function(c,_,y){var T=b("body"),x=y.options;T.css("cursor")&&(x._cursor=T.css("cursor")),T.css("cursor",x.cursor)},stop:function(c,_,y){var T=y.options;T._cursor&&b("body").css("cursor",T._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(c,_,y){var T=b(_.helper),x=y.options;T.css("opacity")&&(x._opacity=T.css("opacity")),T.css("opacity",x.opacity)},stop:function(c,_,y){var T=y.options;T._opacity&&b(_.helper).css("opacity",T._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(c,_,y){y.scrollParentNotHidden||(y.scrollParentNotHidden=y.helper.scrollParent(!1)),y.scrollParentNotHidden[0]!==y.document[0]&&"HTML"!==y.scrollParentNotHidden[0].tagName&&(y.overflowOffset=y.scrollParentNotHidden.offset())},drag:function(c,_,y){var T=y.options,x=!1,k=y.scrollParentNotHidden[0],V=y.document[0];k!==V&&"HTML"!==k.tagName?((!T.axis||"x"!==T.axis)&&(y.overflowOffset.top+k.offsetHeight-c.pageY<T.scrollSensitivity?k.scrollTop=x=k.scrollTop+T.scrollSpeed:c.pageY-y.overflowOffset.top<T.scrollSensitivity&&(k.scrollTop=x=k.scrollTop-T.scrollSpeed)),(!T.axis||"y"!==T.axis)&&(y.overflowOffset.left+k.offsetWidth-c.pageX<T.scrollSensitivity?k.scrollLeft=x=k.scrollLeft+T.scrollSpeed:c.pageX-y.overflowOffset.left<T.scrollSensitivity&&(k.scrollLeft=x=k.scrollLeft-T.scrollSpeed))):((!T.axis||"x"!==T.axis)&&(c.pageY-b(V).scrollTop()<T.scrollSensitivity?x=b(V).scrollTop(b(V).scrollTop()-T.scrollSpeed):b(window).height()-(c.pageY-b(V).scrollTop())<T.scrollSensitivity&&(x=b(V).scrollTop(b(V).scrollTop()+T.scrollSpeed))),(!T.axis||"y"!==T.axis)&&(c.pageX-b(V).scrollLeft()<T.scrollSensitivity?x=b(V).scrollLeft(b(V).scrollLeft()-T.scrollSpeed):b(window).width()-(c.pageX-b(V).scrollLeft())<T.scrollSensitivity&&(x=b(V).scrollLeft(b(V).scrollLeft()+T.scrollSpeed)))),!1!==x&&b.ui.ddmanager&&!T.dropBehaviour&&b.ui.ddmanager.prepareOffsets(y,c)}}),b.ui.plugin.add("draggable","snap",{start:function(c,_,y){var T=y.options;y.snapElements=[],b(T.snap.constructor!==String?T.snap.items||":data(ui-draggable)":T.snap).each(function(){var x=b(this),k=x.offset();this!==y.element[0]&&y.snapElements.push({item:this,width:x.outerWidth(),height:x.outerHeight(),top:k.top,left:k.left})})},drag:function(c,_,y){var T,x,k,V,K,Y,he,se,Se,st,pe=y.options,Me=pe.snapTolerance,at=_.offset.left,Re=at+y.helperProportions.width,ht=_.offset.top,R=ht+y.helperProportions.height;for(Se=y.snapElements.length-1;Se>=0;Se--)Y=(K=y.snapElements[Se].left-y.margins.left)+y.snapElements[Se].width,se=(he=y.snapElements[Se].top-y.margins.top)+y.snapElements[Se].height,Re<K-Me||at>Y+Me||R<he-Me||ht>se+Me||!b.contains(y.snapElements[Se].item.ownerDocument,y.snapElements[Se].item)?(y.snapElements[Se].snapping&&y.options.snap.release&&y.options.snap.release.call(y.element,c,b.extend(y._uiHash(),{snapItem:y.snapElements[Se].item})),y.snapElements[Se].snapping=!1):("inner"!==pe.snapMode&&(T=Math.abs(he-R)<=Me,x=Math.abs(se-ht)<=Me,k=Math.abs(K-Re)<=Me,V=Math.abs(Y-at)<=Me,T&&(_.position.top=y._convertPositionTo("relative",{top:he-y.helperProportions.height,left:0}).top),x&&(_.position.top=y._convertPositionTo("relative",{top:se,left:0}).top),k&&(_.position.left=y._convertPositionTo("relative",{top:0,left:K-y.helperProportions.width}).left),V&&(_.position.left=y._convertPositionTo("relative",{top:0,left:Y}).left)),st=T||x||k||V,"outer"!==pe.snapMode&&(T=Math.abs(he-ht)<=Me,x=Math.abs(se-R)<=Me,k=Math.abs(K-at)<=Me,V=Math.abs(Y-Re)<=Me,T&&(_.position.top=y._convertPositionTo("relative",{top:he,left:0}).top),x&&(_.position.top=y._convertPositionTo("relative",{top:se-y.helperProportions.height,left:0}).top),k&&(_.position.left=y._convertPositionTo("relative",{top:0,left:K}).left),V&&(_.position.left=y._convertPositionTo("relative",{top:0,left:Y-y.helperProportions.width}).left)),!y.snapElements[Se].snapping&&(T||x||k||V||st)&&y.options.snap.snap&&y.options.snap.snap.call(y.element,c,b.extend(y._uiHash(),{snapItem:y.snapElements[Se].item})),y.snapElements[Se].snapping=T||x||k||V||st)}}),b.ui.plugin.add("draggable","stack",{start:function(c,_,y){var T,k=b.makeArray(b(y.options.stack)).sort(function(V,K){return(parseInt(b(V).css("zIndex"),10)||0)-(parseInt(b(K).css("zIndex"),10)||0)});!k.length||(T=parseInt(b(k[0]).css("zIndex"),10)||0,b(k).each(function(V){b(this).css("zIndex",T+V)}),this.css("zIndex",T+k.length))}}),b.ui.plugin.add("draggable","zIndex",{start:function(c,_,y){var T=b(_.helper),x=y.options;T.css("zIndex")&&(x._zIndex=T.css("zIndex")),T.css("zIndex",x.zIndex)},stop:function(c,_,y){var T=y.options;T._zIndex&&b(_.helper).css("zIndex",T._zIndex)}}),b.ui.draggable},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},9119:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(544),A(1178),A(9449),A(949)],I=function(b){return b.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,_=this.options,y=_.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof y?y:function(T){return T.is(y)},this.proportions=function(){if(!arguments.length)return c||(c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});c=arguments[0]},this._addToManager(_.scope),_.addClasses&&this._addClass("ui-droppable")},_addToManager:function(c){b.ui.ddmanager.droppables[c]=b.ui.ddmanager.droppables[c]||[],b.ui.ddmanager.droppables[c].push(this)},_splice:function(c){for(var _=0;_<c.length;_++)c[_]===this&&c.splice(_,1)},_destroy:function(){this._splice(b.ui.ddmanager.droppables[this.options.scope])},_setOption:function(c,_){"accept"===c?this.accept="function"==typeof _?_:function(T){return T.is(_)}:"scope"===c&&(this._splice(b.ui.ddmanager.droppables[this.options.scope]),this._addToManager(_)),this._super(c,_)},_activate:function(c){var _=b.ui.ddmanager.current;this._addActiveClass(),_&&this._trigger("activate",c,this.ui(_))},_deactivate:function(c){var _=b.ui.ddmanager.current;this._removeActiveClass(),_&&this._trigger("deactivate",c,this.ui(_))},_over:function(c){var _=b.ui.ddmanager.current;!_||(_.currentItem||_.element)[0]===this.element[0]||this.accept.call(this.element[0],_.currentItem||_.element)&&(this._addHoverClass(),this._trigger("over",c,this.ui(_)))},_out:function(c){var _=b.ui.ddmanager.current;!_||(_.currentItem||_.element)[0]===this.element[0]||this.accept.call(this.element[0],_.currentItem||_.element)&&(this._removeHoverClass(),this._trigger("out",c,this.ui(_)))},_drop:function(c,_){var y=_||b.ui.ddmanager.current,T=!1;return!(!y||(y.currentItem||y.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var x=b(this).droppable("instance");if(x.options.greedy&&!x.options.disabled&&x.options.scope===y.options.scope&&x.accept.call(x.element[0],y.currentItem||y.element)&&b.ui.intersect(y,b.extend(x,{offset:x.element.offset()}),x.options.tolerance,c))return T=!0,!1}),T))&&!!this.accept.call(this.element[0],y.currentItem||y.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",c,this.ui(y)),this.element)},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),b.ui.intersect=function(){function c(_,y,T){return _>=y&&_<y+T}return function(_,y,T,x){if(!y.offset)return!1;var k=(_.positionAbs||_.position.absolute).left+_.margins.left,V=(_.positionAbs||_.position.absolute).top+_.margins.top,K=k+_.helperProportions.width,Y=V+_.helperProportions.height,he=y.offset.left,se=y.offset.top,Se=he+y.proportions().width,st=se+y.proportions().height;switch(T){case"fit":return he<=k&&K<=Se&&se<=V&&Y<=st;case"intersect":return he<k+_.helperProportions.width/2&&K-_.helperProportions.width/2<Se&&se<V+_.helperProportions.height/2&&Y-_.helperProportions.height/2<st;case"pointer":return c(x.pageY,se,y.proportions().height)&&c(x.pageX,he,y.proportions().width);case"touch":return(V>=se&&V<=st||Y>=se&&Y<=st||V<se&&Y>st)&&(k>=he&&k<=Se||K>=he&&K<=Se||k<he&&K>Se);default:return!1}}}(),b.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(c,_){var y,T,x=b.ui.ddmanager.droppables[c.options.scope]||[],k=_?_.type:null,V=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();e:for(y=0;y<x.length;y++)if(!(x[y].options.disabled||c&&!x[y].accept.call(x[y].element[0],c.currentItem||c.element))){for(T=0;T<V.length;T++)if(V[T]===x[y].element[0]){x[y].proportions().height=0;continue e}x[y].visible="none"!==x[y].element.css("display"),x[y].visible&&("mousedown"===k&&x[y]._activate.call(x[y],_),x[y].offset=x[y].element.offset(),x[y].proportions({width:x[y].element[0].offsetWidth,height:x[y].element[0].offsetHeight}))}},drop:function(c,_){var y=!1;return b.each((b.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance,_)&&(y=this._drop.call(this,_)||y),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,_)))}),y},dragStart:function(c,_){c.element.parentsUntil("body").on("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,_)})},drag:function(c,_){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,_),b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var y,T,x,k=b.ui.intersect(c,this,this.options.tolerance,_),V=!k&&this.isover?"isout":k&&!this.isover?"isover":null;!V||(this.options.greedy&&(T=this.options.scope,(x=this.element.parents(":data(ui-droppable)").filter(function(){return b(this).droppable("instance").options.scope===T})).length&&((y=b(x[0]).droppable("instance")).greedyChild="isover"===V)),y&&"isover"===V&&(y.isover=!1,y.isout=!0,y._out.call(y,_)),this[V]=!0,this["isout"===V?"isover":"isout"]=!1,this["isover"===V?"_over":"_out"].call(this,_),y&&"isout"===V&&(y.isout=!1,y.isover=!0,y._over.call(y,_)))}})},dragStop:function(c,_){c.element.parentsUntil("body").off("scroll.droppable"),c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,_)}},!1!==b.uiBackCompat&&b.widget("ui.droppable",b.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),b.ui.droppable},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},2823:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(5411),A(4433),A(8275),A(149),A(9449),A(949)],I=function(b){return b.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(c){c.preventDefault(),this._activateItem(c)},"click .ui-menu-item":function(c){var _=b(c.target),y=b(b.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&_.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),_.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&y.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,_){var y=this.active||this._menuItems().first();_||this.focus(c,y)},blur:function(c){this._delay(function(){!b.contains(this.element[0],b.ui.safeActiveElement(this.document[0]))&&this.collapseAll(c)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(c){this._closeOnDocumentClick(c)&&this.collapseAll(c,!0),this.mouseHandled=!1}})},_activateItem:function(c){if(!this.previousFilter&&(c.clientX!==this.lastMousePosition.x||c.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:c.clientX,y:c.clientY};var _=b(c.target).closest(".ui-menu-item"),y=b(c.currentTarget);_[0]===y[0]&&(y.is(".ui-state-active")||(this._removeClass(y.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(c,y)))}},_destroy:function(){var _=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),_.children().each(function(){var y=b(this);y.data("ui-menu-submenu-caret")&&y.remove()})},_keydown:function(c){var _,y,T,x,k=!0;switch(c.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(c);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case b.ui.keyCode.HOME:this._move("first","first",c);break;case b.ui.keyCode.END:this._move("last","last",c);break;case b.ui.keyCode.UP:this.previous(c);break;case b.ui.keyCode.DOWN:this.next(c);break;case b.ui.keyCode.LEFT:this.collapse(c);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(c);break;case b.ui.keyCode.ESCAPE:this.collapse(c);break;default:k=!1,y=this.previousFilter||"",x=!1,T=c.keyCode>=96&&c.keyCode<=105?(c.keyCode-96).toString():String.fromCharCode(c.keyCode),clearTimeout(this.filterTimer),T===y?x=!0:T=y+T,_=this._filterMenuItems(T),(_=x&&-1!==_.index(this.active.next())?this.active.nextAll(".ui-menu-item"):_).length||(T=String.fromCharCode(c.keyCode),_=this._filterMenuItems(T)),_.length?(this.focus(c,_),this.previousFilter=T,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}k&&c.preventDefault()},_activate:function(c){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var _,y,T,x,k=this,V=this.options.icons.submenu,K=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),y=K.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var Y=b(this),he=Y.prev(),se=b("<span>").data("ui-menu-submenu-caret",!0);k._addClass(se,"ui-menu-icon","ui-icon "+V),he.attr("aria-haspopup","true").prepend(se),Y.attr("aria-labelledby",he.attr("id"))}),this._addClass(y,"ui-menu","ui-widget ui-widget-content ui-front"),(_=K.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var Y=b(this);k._isDivider(Y)&&k._addClass(Y,"ui-menu-divider","ui-widget-content")}),x=(T=_.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(T,"ui-menu-item")._addClass(x,"ui-menu-item-wrapper"),_.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,_){if("icons"===c){var y=this.element.find(".ui-menu-icon");this._removeClass(y,null,this.options.icons.submenu)._addClass(y,null,_.submenu)}this._super(c,_)},_setOptionDisabled:function(c){this._super(c),this.element.attr("aria-disabled",String(c)),this._toggleClass(null,"ui-state-disabled",!!c)},focus:function(c,_){var y,T,x;this.blur(c,c&&"focus"===c.type),this._scrollIntoView(_),this.active=_.first(),T=this.active.children(".ui-menu-item-wrapper"),this._addClass(T,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",T.attr("id")),x=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(x,null,"ui-state-active"),c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(y=_.children(".ui-menu")).length&&c&&/^mouse/.test(c.type)&&this._startOpening(y),this.activeMenu=_.parent(),this._trigger("focus",c,{item:_})},_scrollIntoView:function(c){var _,y,T,x,k,V;this._hasScroll()&&(_=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,y=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,T=c.offset().top-this.activeMenu.offset().top-_-y,x=this.activeMenu.scrollTop(),k=this.activeMenu.height(),V=c.outerHeight(),T<0?this.activeMenu.scrollTop(x+T):T+V>k&&this.activeMenu.scrollTop(x+T-k+V))},blur:function(c,_){_||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",c,{item:this.active}),this.active=null)},_startOpening:function(c){clearTimeout(this.timer),"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(c)},this.delay))},_open:function(c){var _=b.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(_)},collapseAll:function(c,_){clearTimeout(this.timer),this.timer=this._delay(function(){var y=_?this.element:b(c&&c.target).closest(this.element.find(".ui-menu"));y.length||(y=this.element),this._close(y),this.blur(c),this._removeClass(y.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=y},_?0:this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element),c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(c){return!b(c.target).closest(".ui-menu").length},_isDivider:function(c){return!/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(c){var _=this.active&&this.active.parent().closest(".ui-menu-item",this.element);_&&_.length&&(this._close(),this.focus(c,_))},expand:function(c){var _=this.active&&this._menuItems(this.active.children(".ui-menu")).first();_&&_.length&&(this._open(_.parent()),this._delay(function(){this.focus(c,_)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(c){return(c||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(c,_,y){var T;this.active&&(T="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").last():this.active[c+"All"](".ui-menu-item").first()),(!T||!T.length||!this.active)&&(T=this._menuItems(this.activeMenu)[_]()),this.focus(y,T)},nextPage:function(c){var _,y,T;this.active?this.isLastItem()||(this._hasScroll()?(y=this.active.offset().top,T=this.element.innerHeight(),0===b.fn.jquery.indexOf("3.2.")&&(T+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(_=b(this)).offset().top-y-T<0}),this.focus(c,_)):this.focus(c,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(c)},previousPage:function(c){var _,y,T;this.active?this.isFirstItem()||(this._hasScroll()?(y=this.active.offset().top,T=this.element.innerHeight(),0===b.fn.jquery.indexOf("3.2.")&&(T+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return(_=b(this)).offset().top-y+T>0}),this.focus(c,_)):this.focus(c,this._menuItems(this.activeMenu).first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||b(c.target).closest(".ui-menu-item");var _={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,_)},_filterMenuItems:function(c){var _=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),y=new RegExp("^"+_,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return y.test(String.prototype.trim.call(b(this).children(".ui-menu-item-wrapper").text()))})}})},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},1178:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(8095),A(9449),A(949)],I=function(b){var c=!1;return b(document).on("mouseup",function(){c=!1}),b.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var _=this;this.element.on("mousedown."+this.widgetName,function(y){return _._mouseDown(y)}).on("click."+this.widgetName,function(y){if(!0===b.data(y.target,_.widgetName+".preventClickEvent"))return b.removeData(y.target,_.widgetName+".preventClickEvent"),y.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(_){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(_),this._mouseDownEvent=_;var y=this,T=1===_.which,x=!("string"!=typeof this.options.cancel||!_.target.nodeName)&&b(_.target).closest(this.options.cancel).length;return!(T&&!x&&this._mouseCapture(_)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){y.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(_)&&this._mouseDelayMet(_)&&(this._mouseStarted=!1!==this._mouseStart(_),!this._mouseStarted)?(_.preventDefault(),0):(!0===b.data(_.target,this.widgetName+".preventClickEvent")&&b.removeData(_.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(k){return y._mouseMove(k)},this._mouseUpDelegate=function(k){return y._mouseUp(k)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),_.preventDefault(),c=!0,0)))}},_mouseMove:function(_){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!_.button)return this._mouseUp(_);if(!_.which)if(_.originalEvent.altKey||_.originalEvent.ctrlKey||_.originalEvent.metaKey||_.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(_)}return(_.which||_.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(_),_.preventDefault()):(this._mouseDistanceMet(_)&&this._mouseDelayMet(_)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,_),this._mouseStarted?this._mouseDrag(_):this._mouseUp(_)),!this._mouseStarted)},_mouseUp:function(_){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,_.target===this._mouseDownEvent.target&&b.data(_.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(_)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,_.preventDefault()},_mouseDistanceMet:function(_){return Math.max(Math.abs(this._mouseDownEvent.pageX-_.pageX),Math.abs(this._mouseDownEvent.pageY-_.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},1504:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(1178),A(5411),A(9449),A(949)],I=function(b){return b.widget("ui.slider",b.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var c,_,y=this.options,T=this.element.find(".ui-slider-handle"),k=[];for(T.length>(_=y.values&&y.values.length||1)&&(T.slice(_).remove(),T=T.slice(0,_)),c=T.length;c<_;c++)k.push("<span tabindex='0'></span>");this.handles=T.add(b(k.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(V){b(this).data("ui-slider-handle-index",V).attr("tabIndex",0)})},_createRange:function(){var c=this.options;c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:Array.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=b("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===c.range||"max"===c.range)&&this._addClass(this.range,"ui-slider-range-"+c.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(c){var y,T,x,k,K,Y,he=this,se=this.options;return!se.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),y=this._normValueFromMouse({x:c.pageX,y:c.pageY}),T=this._valueMax()-this._valueMin()+1,this.handles.each(function(Se){var st=Math.abs(y-he.values(Se));(T>st||T===st&&(Se===he._lastChangedValue||he.values(Se)===se.min))&&(T=st,x=b(this),k=Se)}),!1!==this._start(c,k))&&(this._mouseSliding=!0,this._handleIndex=k,this._addClass(x,null,"ui-state-active"),x.trigger("focus"),K=x.offset(),Y=!b(c.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=Y?{left:0,top:0}:{left:c.pageX-K.left-x.width()/2,top:c.pageY-K.top-x.height()/2-(parseInt(x.css("borderTopWidth"),10)||0)-(parseInt(x.css("borderBottomWidth"),10)||0)+(parseInt(x.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(c,k,y),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(c){var y=this._normValueFromMouse({x:c.pageX,y:c.pageY});return this._slide(c,this._handleIndex,y),!1},_mouseStop:function(c){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){var _,y,T,x,k;return"horizontal"===this.orientation?(_=this.elementSize.width,y=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(_=this.elementSize.height,y=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(T=y/_)>1&&(T=1),T<0&&(T=0),"vertical"===this.orientation&&(T=1-T),x=this._valueMax()-this._valueMin(),k=this._valueMin()+T*x,this._trimAlignValue(k)},_uiHash:function(c,_,y){var T={handle:this.handles[c],handleIndex:c,value:void 0!==_?_:this.value()};return this._hasMultipleValues()&&(T.value=void 0!==_?_:this.values(c),T.values=y||this.values()),T},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(c,_){return this._trigger("start",c,this._uiHash(_))},_slide:function(c,_,y){var x,k=this.value(),V=this.values();this._hasMultipleValues()&&(x=this.values(_?0:1),k=this.values(_),2===this.options.values.length&&!0===this.options.range&&(y=0===_?Math.min(x,y):Math.max(x,y)),V[_]=y),y!==k&&!1!==this._trigger("slide",c,this._uiHash(_,y,V))&&(this._hasMultipleValues()?this.values(_,y):this.value(y))},_stop:function(c,_){this._trigger("stop",c,this._uiHash(_))},_change:function(c,_){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=_,this._trigger("change",c,this._uiHash(_)))},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),void this._change(null,0)):this._value()},values:function(c,_){var y,T,x;if(arguments.length>1)return this.options.values[c]=this._trimAlignValue(_),this._refreshValue(),void this._change(null,c);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(c):this.value();for(y=this.options.values,T=arguments[0],x=0;x<y.length;x+=1)y[x]=this._trimAlignValue(T[x]),this._change(null,x);this._refreshValue()},_setOption:function(c,_){var y,T=0;switch("range"===c&&!0===this.options.range&&("min"===_?(this.options.value=this._values(0),this.options.values=null):"max"===_&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(T=this.options.values.length),this._super(c,_),c){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(_),this.handles.css("horizontal"===_?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),y=T-1;y>=0;y--)this._change(null,y);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(c){this._super(c),this._toggleClass(null,"ui-state-disabled",!!c)},_value:function(){var c=this.options.value;return this._trimAlignValue(c)},_values:function(c){var y,T;if(arguments.length)return this._trimAlignValue(this.options.values[c]);if(this._hasMultipleValues()){for(y=this.options.values.slice(),T=0;T<y.length;T+=1)y[T]=this._trimAlignValue(y[T]);return y}return[]},_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var _=this.options.step>0?this.options.step:1,y=(c-this._valueMin())%_,T=c-y;return 2*Math.abs(y)>=_&&(T+=y>0?_:-_),parseFloat(T.toFixed(5))},_calculateNewMax:function(){var c=this.options.max,_=this._valueMin(),y=this.options.step;(c=Math.round((c-_)/y)*y+_)>this.options.max&&(c-=y),this.max=parseFloat(c.toFixed(this._precision()))},_precision:function(){var c=this._precisionOf(this.options.step);return null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(c){var _=c.toString(),y=_.indexOf(".");return-1===y?0:_.length-y-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(c){"vertical"===c&&this.range.css({width:"",left:""}),"horizontal"===c&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var c,_,y,T,x,k=this.options.range,V=this.options,K=this,Y=!this._animateOff&&V.animate,he={};this._hasMultipleValues()?this.handles.each(function(se){_=(K.values(se)-K._valueMin())/(K._valueMax()-K._valueMin())*100,he["horizontal"===K.orientation?"left":"bottom"]=_+"%",b(this).stop(1,1)[Y?"animate":"css"](he,V.animate),!0===K.options.range&&("horizontal"===K.orientation?(0===se&&K.range.stop(1,1)[Y?"animate":"css"]({left:_+"%"},V.animate),1===se&&K.range[Y?"animate":"css"]({width:_-c+"%"},{queue:!1,duration:V.animate})):(0===se&&K.range.stop(1,1)[Y?"animate":"css"]({bottom:_+"%"},V.animate),1===se&&K.range[Y?"animate":"css"]({height:_-c+"%"},{queue:!1,duration:V.animate}))),c=_}):(y=this.value(),T=this._valueMin(),x=this._valueMax(),he["horizontal"===this.orientation?"left":"bottom"]=(_=x!==T?(y-T)/(x-T)*100:0)+"%",this.handle.stop(1,1)[Y?"animate":"css"](he,V.animate),"min"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[Y?"animate":"css"]({width:_+"%"},V.animate),"max"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[Y?"animate":"css"]({width:100-_+"%"},V.animate),"min"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[Y?"animate":"css"]({height:_+"%"},V.animate),"max"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[Y?"animate":"css"]({height:100-_+"%"},V.animate))},_handleEvents:{keydown:function(c){var y,T,x,k=b(c.target).data("ui-slider-handle-index");switch(c.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(b(c.target),null,"ui-state-active"),!1===this._start(c,k)))return}switch(x=this.options.step,y=T=this._hasMultipleValues()?this.values(k):this.value(),c.keyCode){case b.ui.keyCode.HOME:T=this._valueMin();break;case b.ui.keyCode.END:T=this._valueMax();break;case b.ui.keyCode.PAGE_UP:T=this._trimAlignValue(y+(this._valueMax()-this._valueMin())/this.numPages);break;case b.ui.keyCode.PAGE_DOWN:T=this._trimAlignValue(y-(this._valueMax()-this._valueMin())/this.numPages);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(y===this._valueMax())return;T=this._trimAlignValue(y+x);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(y===this._valueMin())return;T=this._trimAlignValue(y-x)}this._slide(c,k,T)},keyup:function(c){var _=b(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,_),this._change(c,_),this._removeClass(b(c.target),null,"ui-state-active"))}}})},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},2069:(v,w,A)=>{var I,F,L;!function(b){"use strict";F=[A(8259),A(1178),A(9643),A(8095),A(4097),A(9449),A(949)],I=function(b){return b.widget("ui.sortable",b.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(c,_,y){return c>=_&&c<_+y},_isFloating:function(c){return/left|right/.test(c.css("float"))||/inline|table-cell/.test(c.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(c,_){this._super(c,_),"handle"===c&&this._setHandleClassName()},_setHandleClassName:function(){var c=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),b.each(this.items,function(){c._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(c,_){var y=null,T=!1,x=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(c),b(c.target).parents().each(function(){if(b.data(this,x.widgetName+"-item")===x)return y=b(this),!1}),b.data(c.target,x.widgetName+"-item")===x&&(y=b(c.target)),!y)||this.options.handle&&!_&&(b(this.options.handle,y).find("*").addBack().each(function(){this===c.target&&(T=!0)}),!T)||(this.currentItem=y,this._removeCurrentsFromItems(),0))},_mouseStart:function(c,_,y){var T,x,k=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=b("parent"!==k.appendTo?k.appendTo:this.currentItem.parent()),this.helper=this._createHelper(c),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),b.extend(this.offset,{parent:this._getParentOffset()}),k.containment&&this._setContainment(),k.cursor&&"auto"!==k.cursor&&(x=this.document.find("body"),this.storedCursor=x.css("cursor"),x.css("cursor",k.cursor),this.storedStylesheet=b("<style>*{ cursor: "+k.cursor+" !important; }</style>").appendTo(x)),k.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",k.zIndex)),k.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",k.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",c,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!y)for(T=this.containers.length-1;T>=0;T--)this.containers[T]._trigger("activate",c,this._uiHash(this));return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(c),!0},_scroll:function(c){var _=this.options,y=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<_.scrollSensitivity?this.scrollParent[0].scrollTop=y=this.scrollParent[0].scrollTop+_.scrollSpeed:c.pageY-this.overflowOffset.top<_.scrollSensitivity&&(this.scrollParent[0].scrollTop=y=this.scrollParent[0].scrollTop-_.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<_.scrollSensitivity?this.scrollParent[0].scrollLeft=y=this.scrollParent[0].scrollLeft+_.scrollSpeed:c.pageX-this.overflowOffset.left<_.scrollSensitivity&&(this.scrollParent[0].scrollLeft=y=this.scrollParent[0].scrollLeft-_.scrollSpeed)):(c.pageY-this.document.scrollTop()<_.scrollSensitivity?y=this.document.scrollTop(this.document.scrollTop()-_.scrollSpeed):this.window.height()-(c.pageY-this.document.scrollTop())<_.scrollSensitivity&&(y=this.document.scrollTop(this.document.scrollTop()+_.scrollSpeed)),c.pageX-this.document.scrollLeft()<_.scrollSensitivity?y=this.document.scrollLeft(this.document.scrollLeft()-_.scrollSpeed):this.window.width()-(c.pageX-this.document.scrollLeft())<_.scrollSensitivity&&(y=this.document.scrollLeft(this.document.scrollLeft()+_.scrollSpeed))),y},_mouseDrag:function(c){var _,y,T,x,k=this.options;for(this.position=this._generatePosition(c),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||"y"!==this.options.axis)&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||"x"!==this.options.axis)&&(this.helper[0].style.top=this.position.top+"px"),k.scroll&&!1!==this._scroll(c)&&(this._refreshItemPositions(!0),b.ui.ddmanager&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},_=this.items.length-1;_>=0;_--)if(T=(y=this.items[_]).item[0],(x=this._intersectsWithPointer(y))&&y.instance===this.currentContainer&&T!==this.currentItem[0]&&this.placeholder[1===x?"next":"prev"]()[0]!==T&&!b.contains(this.placeholder[0],T)&&("semi-dynamic"!==this.options.type||!b.contains(this.element[0],T))){if(this.direction=1===x?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(y))break;this._rearrange(c,y),this._trigger("change",c,this._uiHash());break}return this._contactContainers(c),b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,_){if(c){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c),this.options.revert){var y=this,T=this.placeholder.offset(),x=this.options.axis,k={};(!x||"x"===x)&&(k.left=T.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!x||"y"===x)&&(k.top=T.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,b(this.helper).animate(k,parseInt(this.options.revert,10)||500,function(){y._clear(c)})}else this._clear(c,_);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new b.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var _=this._getItemsAsjQuery(c&&c.connected),y=[];return c=c||{},b(_).each(function(){var T=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);T&&y.push((c.key||T[1]+"[]")+"="+(c.key&&c.expression?T[1]:T[2]))}),!y.length&&c.key&&y.push(c.key+"="),y.join("&")},toArray:function(c){var _=this._getItemsAsjQuery(c&&c.connected),y=[];return c=c||{},_.each(function(){y.push(b(c.item||this).attr(c.attribute||"id")||"")}),y},_intersectsWith:function(c){var _=this.positionAbs.left,T=this.positionAbs.top,k=c.left,V=k+c.width,K=c.top,Y=K+c.height,he=this.offset.click.top,se=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?("x"===this.options.axis||T+he>K&&T+he<Y)&&("y"===this.options.axis||_+se>k&&_+se<V):k<_+this.helperProportions.width/2&&_+this.helperProportions.width-this.helperProportions.width/2<V&&K<T+this.helperProportions.height/2&&T+this.helperProportions.height-this.helperProportions.height/2<Y},_intersectsWithPointer:function(c){var _,T="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height),x="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width);return!(!T||!x)&&(_=this.dragDirection.vertical,this.floating?"right"===this.dragDirection.horizontal||"down"===_?2:1:_&&("down"===_?2:1))},_intersectsWithSides:function(c){var _=this._isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+c.height/2,c.height),y=this._isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+c.width/2,c.width),T=this.dragDirection.vertical,x=this.dragDirection.horizontal;return this.floating&&x?"right"===x&&y||"left"===x&&!y:T&&("down"===T&&_||"up"===T&&!_)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return 0!==c&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return 0!==c&&(c>0?"right":"left")},refresh:function(c){return this._refreshItems(c),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor===String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var _,y,T,x,k=[],V=[],K=this._connectWith();if(K&&c)for(_=K.length-1;_>=0;_--)for(y=(T=b(K[_],this.document[0])).length-1;y>=0;y--)(x=b.data(T[y],this.widgetFullName))&&x!==this&&!x.options.disabled&&V.push(["function"==typeof x.options.items?x.options.items.call(x.element):b(x.options.items,x.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),x]);function Y(){k.push(this)}for(V.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),_=V.length-1;_>=0;_--)V[_][0].each(Y);return b(k)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(_){for(var y=0;y<c.length;y++)if(c[y]===_.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[],this.containers=[this];var _,y,T,x,k,V,K,Y,he=this.items,se=[["function"==typeof this.options.items?this.options.items.call(this.element[0],c,{item:this.currentItem}):b(this.options.items,this.element),this]],Se=this._connectWith();if(Se&&this.ready)for(_=Se.length-1;_>=0;_--)for(y=(T=b(Se[_],this.document[0])).length-1;y>=0;y--)(x=b.data(T[y],this.widgetFullName))&&x!==this&&!x.options.disabled&&(se.push(["function"==typeof x.options.items?x.options.items.call(x.element[0],c,{item:this.currentItem}):b(x.options.items,x.element),x]),this.containers.push(x));for(_=se.length-1;_>=0;_--)for(k=se[_][1],y=0,Y=(V=se[_][0]).length;y<Y;y++)(K=b(V[y])).data(this.widgetName+"-item",k),he.push({item:K,instance:k,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(c){var _,y,T,x;for(_=this.items.length-1;_>=0;_--)y=this.items[_],(!this.currentContainer||y.instance===this.currentContainer||y.item[0]===this.currentItem[0])&&(T=this.options.toleranceElement?b(this.options.toleranceElement,y.item):y.item,c||(y.width=T.outerWidth(),y.height=T.outerHeight()),x=T.offset(),y.left=x.left,y.top=x.top)},refreshPositions:function(c){var _,y;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(c),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(_=this.containers.length-1;_>=0;_--)y=this.containers[_].element.offset(),this.containers[_].containerCache.left=y.left,this.containers[_].containerCache.top=y.top,this.containers[_].containerCache.width=this.containers[_].element.outerWidth(),this.containers[_].containerCache.height=this.containers[_].element.outerHeight();return this},_createPlaceholder:function(c){var _,y,T=(c=c||this).options;(!T.placeholder||T.placeholder.constructor===String)&&(_=T.placeholder,y=c.currentItem[0].nodeName.toLowerCase(),T.placeholder={element:function(){var x=b("<"+y+">",c.document[0]);return c._addClass(x,"ui-sortable-placeholder",_||c.currentItem[0].className)._removeClass(x,"ui-sortable-helper"),"tbody"===y?c._createTrPlaceholder(c.currentItem.find("tr").eq(0),b("<tr>",c.document[0]).appendTo(x)):"tr"===y?c._createTrPlaceholder(c.currentItem,x):"img"===y&&x.attr("src",c.currentItem.attr("src")),_||x.css("visibility","hidden"),x},update:function(x,k){_&&!T.forcePlaceholderSize||((!k.height()||T.forcePlaceholderSize&&("tbody"===y||"tr"===y))&&k.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),k.width()||k.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10)))}}),c.placeholder=b(T.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),T.placeholder.update(c,c.placeholder)},_createTrPlaceholder:function(c,_){var y=this;c.children().each(function(){b("<td>&#160;</td>",y.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(_)})},_contactContainers:function(c){var _,y,T,x,k,V,K,Y,he,se,Se=null,st=null;for(_=this.containers.length-1;_>=0;_--)if(!b.contains(this.currentItem[0],this.containers[_].element[0]))if(this._intersectsWith(this.containers[_].containerCache)){if(Se&&b.contains(this.containers[_].element[0],Se.element[0]))continue;Se=this.containers[_],st=_}else this.containers[_].containerCache.over&&(this.containers[_]._trigger("out",c,this._uiHash(this)),this.containers[_].containerCache.over=0);if(Se)if(1===this.containers.length)this.containers[st].containerCache.over||(this.containers[st]._trigger("over",c,this._uiHash(this)),this.containers[st].containerCache.over=1);else{for(T=1e4,x=null,k=(he=Se.floating||this._isFloating(this.currentItem))?"left":"top",V=he?"width":"height",se=he?"pageX":"pageY",y=this.items.length-1;y>=0;y--)!b.contains(this.containers[st].element[0],this.items[y].item[0])||this.items[y].item[0]!==this.currentItem[0]&&(K=this.items[y].item.offset()[k],Y=!1,c[se]-K>this.items[y][V]/2&&(Y=!0),Math.abs(c[se]-K)<T&&(T=Math.abs(c[se]-K),x=this.items[y],this.direction=Y?"up":"down"));if(!x&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[st])return void(this.currentContainer.containerCache.over||(this.containers[st]._trigger("over",c,this._uiHash()),this.currentContainer.containerCache.over=1));x?this._rearrange(c,x,null,!0):this._rearrange(c,null,this.containers[st].element,!0),this._trigger("change",c,this._uiHash()),this.containers[st]._trigger("change",c,this._uiHash(this)),this.currentContainer=this.containers[st],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[st]._trigger("over",c,this._uiHash(this)),this.containers[st].containerCache.over=1}},_createHelper:function(c){var _=this.options,y="function"==typeof _.helper?b(_.helper.apply(this.element[0],[c,this.currentItem])):"clone"===_.helper?this.currentItem.clone():this.currentItem;return y.parents("body").length||this.appendTo[0].appendChild(y[0]),y[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!y[0].style.width||_.forceHelperSize)&&y.width(this.currentItem.width()),(!y[0].style.height||_.forceHelperSize)&&y.height(this.currentItem.height()),y},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" ")),Array.isArray(c)&&(c={left:+c[0],top:+c[1]||0}),"left"in c&&(this.offset.click.left=c.left+this.margins.left),"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left),"top"in c&&(this.offset.click.top=c.top+this.margins.top),"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,_,y,T=this.options;"parent"===T.containment&&(T.containment=this.helper[0].parentNode),("document"===T.containment||"window"===T.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===T.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===T.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(T.containment)||(c=b(T.containment)[0],_=b(T.containment).offset(),y="hidden"!==b(c).css("overflow"),this.containment=[_.left+(parseInt(b(c).css("borderLeftWidth"),10)||0)+(parseInt(b(c).css("paddingLeft"),10)||0)-this.margins.left,_.top+(parseInt(b(c).css("borderTopWidth"),10)||0)+(parseInt(b(c).css("paddingTop"),10)||0)-this.margins.top,_.left+(y?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b(c).css("borderLeftWidth"),10)||0)-(parseInt(b(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,_.top+(y?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b(c).css("borderTopWidth"),10)||0)-(parseInt(b(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,_){_||(_=this.position);var y="absolute"===c?1:-1,T="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,x=/(html|body)/i.test(T[0].tagName);return{top:_.top+this.offset.relative.top*y+this.offset.parent.top*y-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():x?0:T.scrollTop())*y,left:_.left+this.offset.relative.left*y+this.offset.parent.left*y-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():x?0:T.scrollLeft())*y}},_generatePosition:function(c){var _,y,T=this.options,x=c.pageX,k=c.pageY,V="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,K=/(html|body)/i.test(V[0].tagName);return"relative"===this.cssPosition&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(x=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(k=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(x=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(k=this.containment[3]+this.offset.click.top)),T.grid&&(_=this.originalPageY+Math.round((k-this.originalPageY)/T.grid[1])*T.grid[1],k=this.containment?_-this.offset.click.top>=this.containment[1]&&_-this.offset.click.top<=this.containment[3]?_:_-this.offset.click.top>=this.containment[1]?_-T.grid[1]:_+T.grid[1]:_,y=this.originalPageX+Math.round((x-this.originalPageX)/T.grid[0])*T.grid[0],x=this.containment?y-this.offset.click.left>=this.containment[0]&&y-this.offset.click.left<=this.containment[2]?y:y-this.offset.click.left>=this.containment[0]?y-T.grid[0]:y+T.grid[0]:y)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():K?0:V.scrollTop()),left:x-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():K?0:V.scrollLeft())}},_rearrange:function(c,_,y,T){y?y[0].appendChild(this.placeholder[0]):_.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?_.item[0]:_.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var x=this.counter;this._delay(function(){x===this.counter&&this.refreshPositions(!T)})},_clear:function(c,_){this.reverting=!1;var y,T=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(y in this._storedCSS)("auto"===this._storedCSS[y]||"static"===this._storedCSS[y])&&(this._storedCSS[y]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function x(k,V,K){return function(Y){K._trigger(k,Y,V._uiHash(V))}}for(this.fromOutside&&!_&&T.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!_&&T.push(function(k){this._trigger("update",k,this._uiHash())}),this!==this.currentContainer&&(_||(T.push(function(k){this._trigger("remove",k,this._uiHash())}),T.push(function(k){return function(V){k._trigger("receive",V,this._uiHash(this))}}.call(this,this.currentContainer)),T.push(function(k){return function(V){k._trigger("update",V,this._uiHash(this))}}.call(this,this.currentContainer)))),y=this.containers.length-1;y>=0;y--)_||T.push(x("deactivate",this,this.containers[y])),this.containers[y].containerCache.over&&(T.push(x("out",this,this.containers[y])),this.containers[y].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,_||this._trigger("beforeStop",c,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!_){for(y=0;y<T.length;y++)T[y].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var _=c||this;return{helper:_.helper,placeholder:_.placeholder||b([]),position:_.position,originalPosition:_.originalPosition,offset:_.positionAbs,item:_.currentItem,sender:c?c.element:null}}})},void 0!==(L=I.apply(w,F))&&(v.exports=L)}()},8259:function(v,w){var I;!function(F,L){"use strict";"object"==typeof v.exports?v.exports=F.document?L(F,!0):function(b){if(!b.document)throw new Error("jQuery requires a window with a document");return L(b)}:L(F)}(typeof window<"u"?window:this,function(F,L){"use strict";var b=[],c=Object.getPrototypeOf,_=b.slice,y=b.flat?function(f){return b.flat.call(f)}:function(f){return b.concat.apply([],f)},T=b.push,x=b.indexOf,k={},V=k.toString,K=k.hasOwnProperty,Y=K.toString,he=Y.call(Object),se={},Se=function(C){return"function"==typeof C&&"number"!=typeof C.nodeType&&"function"!=typeof C.item},st=function(C){return null!=C&&C===C.window},pe=F.document,Me={type:!0,src:!0,nonce:!0,noModule:!0};function at(f,C,O){var M,B,z=(O=O||pe).createElement("script");if(z.text=f,C)for(M in Me)(B=C[M]||C.getAttribute&&C.getAttribute(M))&&z.setAttribute(M,B);O.head.appendChild(z).parentNode.removeChild(z)}function Re(f){return null==f?f+"":"object"==typeof f||"function"==typeof f?k[V.call(f)]||"object":typeof f}var R=function(f,C){return new R.fn.init(f,C)};function Mt(f){var C=!!f&&"length"in f&&f.length,O=Re(f);return!Se(f)&&!st(f)&&("array"===O||0===C||"number"==typeof C&&C>0&&C-1 in f)}R.fn=R.prototype={jquery:"3.6.1",constructor:R,length:0,toArray:function(){return _.call(this)},get:function(f){return null==f?_.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var C=R.merge(this.constructor(),f);return C.prevObject=this,C},each:function(f){return R.each(this,f)},map:function(f){return this.pushStack(R.map(this,function(C,O){return f.call(C,O,C)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(R.grep(this,function(f,C){return(C+1)%2}))},odd:function(){return this.pushStack(R.grep(this,function(f,C){return C%2}))},eq:function(f){var C=this.length,O=+f+(f<0?C:0);return this.pushStack(O>=0&&O<C?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:T,sort:b.sort,splice:b.splice},R.extend=R.fn.extend=function(){var f,C,O,M,B,z,G=arguments[0]||{},le=1,ie=arguments.length,ye=!1;for("boolean"==typeof G&&(ye=G,G=arguments[le]||{},le++),"object"!=typeof G&&!Se(G)&&(G={}),le===ie&&(G=this,le--);le<ie;le++)if(null!=(f=arguments[le]))for(C in f)M=f[C],"__proto__"!==C&&G!==M&&(ye&&M&&(R.isPlainObject(M)||(B=Array.isArray(M)))?(O=G[C],z=B&&!Array.isArray(O)?[]:B||R.isPlainObject(O)?O:{},B=!1,G[C]=R.extend(ye,z,M)):void 0!==M&&(G[C]=M));return G},R.extend({expando:"jQuery"+("3.6.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var C,O;return!(!f||"[object Object]"!==V.call(f)||(C=c(f))&&("function"!=typeof(O=K.call(C,"constructor")&&C.constructor)||Y.call(O)!==he))},isEmptyObject:function(f){var C;for(C in f)return!1;return!0},globalEval:function(f,C,O){at(f,{nonce:C&&C.nonce},O)},each:function(f,C){var O,M=0;if(Mt(f))for(O=f.length;M<O&&!1!==C.call(f[M],M,f[M]);M++);else for(M in f)if(!1===C.call(f[M],M,f[M]))break;return f},makeArray:function(f,C){var O=C||[];return null!=f&&(Mt(Object(f))?R.merge(O,"string"==typeof f?[f]:f):T.call(O,f)),O},inArray:function(f,C,O){return null==C?-1:x.call(C,f,O)},merge:function(f,C){for(var O=+C.length,M=0,B=f.length;M<O;M++)f[B++]=C[M];return f.length=B,f},grep:function(f,C,O){for(var B=[],z=0,G=f.length,le=!O;z<G;z++)!C(f[z],z)!==le&&B.push(f[z]);return B},map:function(f,C,O){var M,B,z=0,G=[];if(Mt(f))for(M=f.length;z<M;z++)null!=(B=C(f[z],z,O))&&G.push(B);else for(z in f)null!=(B=C(f[z],z,O))&&G.push(B);return y(G)},guid:1,support:se}),"function"==typeof Symbol&&(R.fn[Symbol.iterator]=b[Symbol.iterator]),R.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,C){k["[object "+C+"]"]=C.toLowerCase()});var Yt=function(f){var C,O,M,B,z,G,le,ie,ye,Oe,$e,ve,Ne,Ze,ai,pt,xn,Xi,$n,en="sizzle"+1*new Date,qt=f.document,yn=0,Ii=0,Nt=Ul(),g=Ul(),D=Ul(),N=Ul(),W=function(q,ae){return q===ae&&($e=!0),0},Z={}.hasOwnProperty,fe=[],_e=fe.pop,Pe=fe.push,qe=fe.push,tt=fe.slice,At=function(q,ae){for(var ge=0,Be=q.length;ge<Be;ge++)if(q[ge]===ae)return ge;return-1},$t="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",kt="[\\x20\\t\\r\\n\\f]",Si="(?:\\\\[\\da-fA-F]{1,6}"+kt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ct="\\["+kt+"*("+Si+")(?:"+kt+"*([*^$|!~]?=)"+kt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Si+"))|)"+kt+"*\\]",ci=":("+Si+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ct+")*)|.*)\\)|)",An=new RegExp(kt+"+","g"),kr=new RegExp("^"+kt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+kt+"+$","g"),oa=new RegExp("^"+kt+"*,"+kt+"*"),nr=new RegExp("^"+kt+"*([>+~]|"+kt+")"+kt+"*"),sa=new RegExp(kt+"|>"),Bn=new RegExp(ci),hl=new RegExp("^"+Si+"$"),Gs={ID:new RegExp("^#("+Si+")"),CLASS:new RegExp("^\\.("+Si+")"),TAG:new RegExp("^("+Si+"|[*])"),ATTR:new RegExp("^"+Ct),PSEUDO:new RegExp("^"+ci),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+kt+"*(even|odd|(([+-]|)(\\d*)n|)"+kt+"*(?:([+-]|)"+kt+"*(\\d+)|))"+kt+"*\\)|)","i"),bool:new RegExp("^(?:"+$t+")$","i"),needsContext:new RegExp("^"+kt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+kt+"*((?:-\\d)?\\d*)"+kt+"*\\)|)(?=[^-]|$)","i")},yi=/HTML$/i,Bl=/^(?:input|select|textarea|button)$/i,Ua=/^h\d$/i,aa=/^[^{]+\{\s*\[native \w/,la=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ar=/[+~]/,vo=new RegExp("\\\\[\\da-fA-F]{1,6}"+kt+"?|\\\\([^\\r\\n\\f])","g"),to=function(q,ae){var ge="0x"+q.slice(1)-65536;return ae||(ge<0?String.fromCharCode(ge+65536):String.fromCharCode(ge>>10|55296,1023&ge|56320))},Po=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ua=function(q,ae){return ae?"\0"===q?"\ufffd":q.slice(0,-1)+"\\"+q.charCodeAt(q.length-1).toString(16)+" ":"\\"+q},Bu=function(){ve()},vn=fa(function(q){return!0===q.disabled&&"fieldset"===q.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{qe.apply(fe=tt.call(qt.childNodes),qt.childNodes)}catch{qe={apply:fe.length?function(ae,ge){Pe.apply(ae,tt.call(ge))}:function(ae,ge){for(var Be=ae.length,Ee=0;ae[Be++]=ge[Ee++];);ae.length=Be-1}}}function hn(q,ae,ge,Be){var Ee,je,nt,bt,xt,li,ri,ui=ae&&ae.ownerDocument,Fi=ae?ae.nodeType:9;if(ge=ge||[],"string"!=typeof q||!q||1!==Fi&&9!==Fi&&11!==Fi)return ge;if(!Be&&(ve(ae),ae=ae||Ne,ai)){if(11!==Fi&&(xt=la.exec(q)))if(Ee=xt[1]){if(9===Fi){if(!(nt=ae.getElementById(Ee)))return ge;if(nt.id===Ee)return ge.push(nt),ge}else if(ui&&(nt=ui.getElementById(Ee))&&$n(ae,nt)&&nt.id===Ee)return ge.push(nt),ge}else{if(xt[2])return qe.apply(ge,ae.getElementsByTagName(q)),ge;if((Ee=xt[3])&&O.getElementsByClassName&&ae.getElementsByClassName)return qe.apply(ge,ae.getElementsByClassName(Ee)),ge}if(O.qsa&&!N[q+" "]&&(!pt||!pt.test(q))&&(1!==Fi||"object"!==ae.nodeName.toLowerCase())){if(ri=q,ui=ae,1===Fi&&(sa.test(q)||nr.test(q))){for(((ui=ar.test(q)&&Co(ae.parentNode)||ae)!==ae||!O.scope)&&((bt=ae.getAttribute("id"))?bt=bt.replace(Po,ua):ae.setAttribute("id",bt=en)),je=(li=G(q)).length;je--;)li[je]=(bt?"#"+bt:":scope")+" "+ha(li[je]);ri=li.join(",")}try{return qe.apply(ge,ui.querySelectorAll(ri)),ge}catch{N(q,!0)}finally{bt===en&&ae.removeAttribute("id")}}}return ie(q.replace(kr,"$1"),ae,ge,Be)}function Ul(){var q=[];return function ae(ge,Be){return q.push(ge+" ")>M.cacheLength&&delete ae[q.shift()],ae[ge+" "]=Be}}function io(q){return q[en]=!0,q}function _o(q){var ae=Ne.createElement("fieldset");try{return!!q(ae)}catch{return!1}finally{ae.parentNode&&ae.parentNode.removeChild(ae),ae=null}}function da(q,ae){for(var ge=q.split("|"),Be=ge.length;Be--;)M.attrHandle[ge[Be]]=ae}function fl(q,ae){var ge=ae&&q,Be=ge&&1===q.nodeType&&1===ae.nodeType&&q.sourceIndex-ae.sourceIndex;if(Be)return Be;if(ge)for(;ge=ge.nextSibling;)if(ge===ae)return-1;return q?1:-1}function ca(q){return function(ae){return"input"===ae.nodeName.toLowerCase()&&ae.type===q}}function Fr(q){return function(ae){var ge=ae.nodeName.toLowerCase();return("input"===ge||"button"===ge)&&ae.type===q}}function vc(q){return function(ae){return"form"in ae?ae.parentNode&&!1===ae.disabled?"label"in ae?"label"in ae.parentNode?ae.parentNode.disabled===q:ae.disabled===q:ae.isDisabled===q||ae.isDisabled!==!q&&vn(ae)===q:ae.disabled===q:"label"in ae&&ae.disabled===q}}function Xn(q){return io(function(ae){return ae=+ae,io(function(ge,Be){for(var Ee,je=q([],ge.length,ae),nt=je.length;nt--;)ge[Ee=je[nt]]&&(ge[Ee]=!(Be[Ee]=ge[Ee]))})})}function Co(q){return q&&typeof q.getElementsByTagName<"u"&&q}for(C in O=hn.support={},z=hn.isXML=function(q){var ge=q&&(q.ownerDocument||q).documentElement;return!yi.test(q&&q.namespaceURI||ge&&ge.nodeName||"HTML")},ve=hn.setDocument=function(q){var ae,ge,Be=q?q.ownerDocument||q:qt;return Be==Ne||9!==Be.nodeType||!Be.documentElement||(Ze=(Ne=Be).documentElement,ai=!z(Ne),qt!=Ne&&(ge=Ne.defaultView)&&ge.top!==ge&&(ge.addEventListener?ge.addEventListener("unload",Bu,!1):ge.attachEvent&&ge.attachEvent("onunload",Bu)),O.scope=_o(function(Ee){return Ze.appendChild(Ee).appendChild(Ne.createElement("div")),typeof Ee.querySelectorAll<"u"&&!Ee.querySelectorAll(":scope fieldset div").length}),O.attributes=_o(function(Ee){return Ee.className="i",!Ee.getAttribute("className")}),O.getElementsByTagName=_o(function(Ee){return Ee.appendChild(Ne.createComment("")),!Ee.getElementsByTagName("*").length}),O.getElementsByClassName=aa.test(Ne.getElementsByClassName),O.getById=_o(function(Ee){return Ze.appendChild(Ee).id=en,!Ne.getElementsByName||!Ne.getElementsByName(en).length}),O.getById?(M.filter.ID=function(Ee){var je=Ee.replace(vo,to);return function(nt){return nt.getAttribute("id")===je}},M.find.ID=function(Ee,je){if(typeof je.getElementById<"u"&&ai){var nt=je.getElementById(Ee);return nt?[nt]:[]}}):(M.filter.ID=function(Ee){var je=Ee.replace(vo,to);return function(nt){var bt=typeof nt.getAttributeNode<"u"&&nt.getAttributeNode("id");return bt&&bt.value===je}},M.find.ID=function(Ee,je){if(typeof je.getElementById<"u"&&ai){var nt,bt,xt,li=je.getElementById(Ee);if(li){if((nt=li.getAttributeNode("id"))&&nt.value===Ee)return[li];for(xt=je.getElementsByName(Ee),bt=0;li=xt[bt++];)if((nt=li.getAttributeNode("id"))&&nt.value===Ee)return[li]}return[]}}),M.find.TAG=O.getElementsByTagName?function(Ee,je){return typeof je.getElementsByTagName<"u"?je.getElementsByTagName(Ee):O.qsa?je.querySelectorAll(Ee):void 0}:function(Ee,je){var nt,bt=[],xt=0,li=je.getElementsByTagName(Ee);if("*"===Ee){for(;nt=li[xt++];)1===nt.nodeType&&bt.push(nt);return bt}return li},M.find.CLASS=O.getElementsByClassName&&function(Ee,je){if(typeof je.getElementsByClassName<"u"&&ai)return je.getElementsByClassName(Ee)},xn=[],pt=[],(O.qsa=aa.test(Ne.querySelectorAll))&&(_o(function(Ee){var je;Ze.appendChild(Ee).innerHTML="<a id='"+en+"'></a><select id='"+en+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ee.querySelectorAll("[msallowcapture^='']").length&&pt.push("[*^$]="+kt+"*(?:''|\"\")"),Ee.querySelectorAll("[selected]").length||pt.push("\\["+kt+"*(?:value|"+$t+")"),Ee.querySelectorAll("[id~="+en+"-]").length||pt.push("~="),(je=Ne.createElement("input")).setAttribute("name",""),Ee.appendChild(je),Ee.querySelectorAll("[name='']").length||pt.push("\\["+kt+"*name"+kt+"*="+kt+"*(?:''|\"\")"),Ee.querySelectorAll(":checked").length||pt.push(":checked"),Ee.querySelectorAll("a#"+en+"+*").length||pt.push(".#.+[+~]"),Ee.querySelectorAll("\\\f"),pt.push("[\\r\\n\\f]")}),_o(function(Ee){Ee.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var je=Ne.createElement("input");je.setAttribute("type","hidden"),Ee.appendChild(je).setAttribute("name","D"),Ee.querySelectorAll("[name=d]").length&&pt.push("name"+kt+"*[*^$|!~]?="),2!==Ee.querySelectorAll(":enabled").length&&pt.push(":enabled",":disabled"),Ze.appendChild(Ee).disabled=!0,2!==Ee.querySelectorAll(":disabled").length&&pt.push(":enabled",":disabled"),Ee.querySelectorAll("*,:x"),pt.push(",.*:")})),(O.matchesSelector=aa.test(Xi=Ze.matches||Ze.webkitMatchesSelector||Ze.mozMatchesSelector||Ze.oMatchesSelector||Ze.msMatchesSelector))&&_o(function(Ee){O.disconnectedMatch=Xi.call(Ee,"*"),Xi.call(Ee,"[s!='']:x"),xn.push("!=",ci)}),pt=pt.length&&new RegExp(pt.join("|")),xn=xn.length&&new RegExp(xn.join("|")),ae=aa.test(Ze.compareDocumentPosition),$n=ae||aa.test(Ze.contains)?function(Ee,je){var nt=9===Ee.nodeType?Ee.documentElement:Ee,bt=je&&je.parentNode;return Ee===bt||!(!bt||1!==bt.nodeType||!(nt.contains?nt.contains(bt):Ee.compareDocumentPosition&&16&Ee.compareDocumentPosition(bt)))}:function(Ee,je){if(je)for(;je=je.parentNode;)if(je===Ee)return!0;return!1},W=ae?function(Ee,je){if(Ee===je)return $e=!0,0;var nt=!Ee.compareDocumentPosition-!je.compareDocumentPosition;return nt||(1&(nt=(Ee.ownerDocument||Ee)==(je.ownerDocument||je)?Ee.compareDocumentPosition(je):1)||!O.sortDetached&&je.compareDocumentPosition(Ee)===nt?Ee==Ne||Ee.ownerDocument==qt&&$n(qt,Ee)?-1:je==Ne||je.ownerDocument==qt&&$n(qt,je)?1:Oe?At(Oe,Ee)-At(Oe,je):0:4&nt?-1:1)}:function(Ee,je){if(Ee===je)return $e=!0,0;var nt,bt=0,xt=Ee.parentNode,li=je.parentNode,ri=[Ee],ui=[je];if(!xt||!li)return Ee==Ne?-1:je==Ne?1:xt?-1:li?1:Oe?At(Oe,Ee)-At(Oe,je):0;if(xt===li)return fl(Ee,je);for(nt=Ee;nt=nt.parentNode;)ri.unshift(nt);for(nt=je;nt=nt.parentNode;)ui.unshift(nt);for(;ri[bt]===ui[bt];)bt++;return bt?fl(ri[bt],ui[bt]):ri[bt]==qt?-1:ui[bt]==qt?1:0}),Ne},hn.matches=function(q,ae){return hn(q,null,null,ae)},hn.matchesSelector=function(q,ae){if(ve(q),O.matchesSelector&&ai&&!N[ae+" "]&&(!xn||!xn.test(ae))&&(!pt||!pt.test(ae)))try{var ge=Xi.call(q,ae);if(ge||O.disconnectedMatch||q.document&&11!==q.document.nodeType)return ge}catch{N(ae,!0)}return hn(ae,Ne,null,[q]).length>0},hn.contains=function(q,ae){return(q.ownerDocument||q)!=Ne&&ve(q),$n(q,ae)},hn.attr=function(q,ae){(q.ownerDocument||q)!=Ne&&ve(q);var ge=M.attrHandle[ae.toLowerCase()],Be=ge&&Z.call(M.attrHandle,ae.toLowerCase())?ge(q,ae,!ai):void 0;return void 0!==Be?Be:O.attributes||!ai?q.getAttribute(ae):(Be=q.getAttributeNode(ae))&&Be.specified?Be.value:null},hn.escape=function(q){return(q+"").replace(Po,ua)},hn.error=function(q){throw new Error("Syntax error, unrecognized expression: "+q)},hn.uniqueSort=function(q){var ae,ge=[],Be=0,Ee=0;if($e=!O.detectDuplicates,Oe=!O.sortStable&&q.slice(0),q.sort(W),$e){for(;ae=q[Ee++];)ae===q[Ee]&&(Be=ge.push(Ee));for(;Be--;)q.splice(ge[Be],1)}return Oe=null,q},B=hn.getText=function(q){var ae,ge="",Be=0,Ee=q.nodeType;if(Ee){if(1===Ee||9===Ee||11===Ee){if("string"==typeof q.textContent)return q.textContent;for(q=q.firstChild;q;q=q.nextSibling)ge+=B(q)}else if(3===Ee||4===Ee)return q.nodeValue}else for(;ae=q[Be++];)ge+=B(ae);return ge},(M=hn.selectors={cacheLength:50,createPseudo:io,match:Gs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(q){return q[1]=q[1].replace(vo,to),q[3]=(q[3]||q[4]||q[5]||"").replace(vo,to),"~="===q[2]&&(q[3]=" "+q[3]+" "),q.slice(0,4)},CHILD:function(q){return q[1]=q[1].toLowerCase(),"nth"===q[1].slice(0,3)?(q[3]||hn.error(q[0]),q[4]=+(q[4]?q[5]+(q[6]||1):2*("even"===q[3]||"odd"===q[3])),q[5]=+(q[7]+q[8]||"odd"===q[3])):q[3]&&hn.error(q[0]),q},PSEUDO:function(q){var ae,ge=!q[6]&&q[2];return Gs.CHILD.test(q[0])?null:(q[3]?q[2]=q[4]||q[5]||"":ge&&Bn.test(ge)&&(ae=G(ge,!0))&&(ae=ge.indexOf(")",ge.length-ae)-ge.length)&&(q[0]=q[0].slice(0,ae),q[2]=ge.slice(0,ae)),q.slice(0,3))}},filter:{TAG:function(q){var ae=q.replace(vo,to).toLowerCase();return"*"===q?function(){return!0}:function(ge){return ge.nodeName&&ge.nodeName.toLowerCase()===ae}},CLASS:function(q){var ae=Nt[q+" "];return ae||(ae=new RegExp("(^|"+kt+")"+q+"("+kt+"|$)"))&&Nt(q,function(ge){return ae.test("string"==typeof ge.className&&ge.className||typeof ge.getAttribute<"u"&&ge.getAttribute("class")||"")})},ATTR:function(q,ae,ge){return function(Be){var Ee=hn.attr(Be,q);return null==Ee?"!="===ae:!ae||(Ee+="","="===ae?Ee===ge:"!="===ae?Ee!==ge:"^="===ae?ge&&0===Ee.indexOf(ge):"*="===ae?ge&&Ee.indexOf(ge)>-1:"$="===ae?ge&&Ee.slice(-ge.length)===ge:"~="===ae?(" "+Ee.replace(An," ")+" ").indexOf(ge)>-1:"|="===ae&&(Ee===ge||Ee.slice(0,ge.length+1)===ge+"-"))}},CHILD:function(q,ae,ge,Be,Ee){var je="nth"!==q.slice(0,3),nt="last"!==q.slice(-4),bt="of-type"===ae;return 1===Be&&0===Ee?function(xt){return!!xt.parentNode}:function(xt,li,ri){var ui,Fi,dn,ni,lr,jr,ko=je!==nt?"nextSibling":"previousSibling",rn=xt.parentNode,pl=bt&&xt.nodeName.toLowerCase(),Nr=!ri&&!bt,no=!1;if(rn){if(je){for(;ko;){for(ni=xt;ni=ni[ko];)if(bt?ni.nodeName.toLowerCase()===pl:1===ni.nodeType)return!1;jr=ko="only"===q&&!jr&&"nextSibling"}return!0}if(jr=[nt?rn.firstChild:rn.lastChild],nt&&Nr){for(no=(lr=(ui=(Fi=(dn=(ni=rn)[en]||(ni[en]={}))[ni.uniqueID]||(dn[ni.uniqueID]={}))[q]||[])[0]===yn&&ui[1])&&ui[2],ni=lr&&rn.childNodes[lr];ni=++lr&&ni&&ni[ko]||(no=lr=0)||jr.pop();)if(1===ni.nodeType&&++no&&ni===xt){Fi[q]=[yn,lr,no];break}}else if(Nr&&(no=lr=(ui=(Fi=(dn=(ni=xt)[en]||(ni[en]={}))[ni.uniqueID]||(dn[ni.uniqueID]={}))[q]||[])[0]===yn&&ui[1]),!1===no)for(;(ni=++lr&&ni&&ni[ko]||(no=lr=0)||jr.pop())&&((bt?ni.nodeName.toLowerCase()!==pl:1!==ni.nodeType)||!++no||(Nr&&((Fi=(dn=ni[en]||(ni[en]={}))[ni.uniqueID]||(dn[ni.uniqueID]={}))[q]=[yn,no]),ni!==xt)););return(no-=Ee)===Be||no%Be==0&&no/Be>=0}}},PSEUDO:function(q,ae){var ge,Be=M.pseudos[q]||M.setFilters[q.toLowerCase()]||hn.error("unsupported pseudo: "+q);return Be[en]?Be(ae):Be.length>1?(ge=[q,q,"",ae],M.setFilters.hasOwnProperty(q.toLowerCase())?io(function(Ee,je){for(var nt,bt=Be(Ee,ae),xt=bt.length;xt--;)Ee[nt=At(Ee,bt[xt])]=!(je[nt]=bt[xt])}):function(Ee){return Be(Ee,0,ge)}):Be}},pseudos:{not:io(function(q){var ae=[],ge=[],Be=le(q.replace(kr,"$1"));return Be[en]?io(function(Ee,je,nt,bt){for(var xt,li=Be(Ee,null,bt,[]),ri=Ee.length;ri--;)(xt=li[ri])&&(Ee[ri]=!(je[ri]=xt))}):function(Ee,je,nt){return ae[0]=Ee,Be(ae,null,nt,ge),ae[0]=null,!ge.pop()}}),has:io(function(q){return function(ae){return hn(q,ae).length>0}}),contains:io(function(q){return q=q.replace(vo,to),function(ae){return(ae.textContent||B(ae)).indexOf(q)>-1}}),lang:io(function(q){return hl.test(q||"")||hn.error("unsupported lang: "+q),q=q.replace(vo,to).toLowerCase(),function(ae){var ge;do{if(ge=ai?ae.lang:ae.getAttribute("xml:lang")||ae.getAttribute("lang"))return(ge=ge.toLowerCase())===q||0===ge.indexOf(q+"-")}while((ae=ae.parentNode)&&1===ae.nodeType);return!1}}),target:function(q){var ae=f.location&&f.location.hash;return ae&&ae.slice(1)===q.id},root:function(q){return q===Ze},focus:function(q){return q===Ne.activeElement&&(!Ne.hasFocus||Ne.hasFocus())&&!!(q.type||q.href||~q.tabIndex)},enabled:vc(!1),disabled:vc(!0),checked:function(q){var ae=q.nodeName.toLowerCase();return"input"===ae&&!!q.checked||"option"===ae&&!!q.selected},selected:function(q){return!0===q.selected},empty:function(q){for(q=q.firstChild;q;q=q.nextSibling)if(q.nodeType<6)return!1;return!0},parent:function(q){return!M.pseudos.empty(q)},header:function(q){return Ua.test(q.nodeName)},input:function(q){return Bl.test(q.nodeName)},button:function(q){var ae=q.nodeName.toLowerCase();return"input"===ae&&"button"===q.type||"button"===ae},text:function(q){var ae;return"input"===q.nodeName.toLowerCase()&&"text"===q.type&&(null==(ae=q.getAttribute("type"))||"text"===ae.toLowerCase())},first:Xn(function(){return[0]}),last:Xn(function(q,ae){return[ae-1]}),eq:Xn(function(q,ae,ge){return[ge<0?ge+ae:ge]}),even:Xn(function(q,ae){for(var ge=0;ge<ae;ge+=2)q.push(ge);return q}),odd:Xn(function(q,ae){for(var ge=1;ge<ae;ge+=2)q.push(ge);return q}),lt:Xn(function(q,ae,ge){for(var Be=ge<0?ge+ae:ge>ae?ae:ge;--Be>=0;)q.push(Be);return q}),gt:Xn(function(q,ae,ge){for(var Be=ge<0?ge+ae:ge;++Be<ae;)q.push(Be);return q})}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[C]=ca(C);for(C in{submit:!0,reset:!0})M.pseudos[C]=Fr(C);function zl(){}function ha(q){for(var ae=0,ge=q.length,Be="";ae<ge;ae++)Be+=q[ae].value;return Be}function fa(q,ae,ge){var Be=ae.dir,Ee=ae.next,je=Ee||Be,nt=ge&&"parentNode"===je,bt=Ii++;return ae.first?function(xt,li,ri){for(;xt=xt[Be];)if(1===xt.nodeType||nt)return q(xt,li,ri);return!1}:function(xt,li,ri){var ui,Fi,dn,ni=[yn,bt];if(ri){for(;xt=xt[Be];)if((1===xt.nodeType||nt)&&q(xt,li,ri))return!0}else for(;xt=xt[Be];)if(1===xt.nodeType||nt)if(Fi=(dn=xt[en]||(xt[en]={}))[xt.uniqueID]||(dn[xt.uniqueID]={}),Ee&&Ee===xt.nodeName.toLowerCase())xt=xt[Be]||xt;else{if((ui=Fi[je])&&ui[0]===yn&&ui[1]===bt)return ni[2]=ui[2];if(Fi[je]=ni,ni[2]=q(xt,li,ri))return!0}return!1}}function yo(q){return q.length>1?function(ae,ge,Be){for(var Ee=q.length;Ee--;)if(!q[Ee](ae,ge,Be))return!1;return!0}:q[0]}function Uu(q,ae,ge,Be,Ee){for(var je,nt=[],bt=0,xt=q.length,li=null!=ae;bt<xt;bt++)(je=q[bt])&&(!ge||ge(je,Be,Ee))&&(nt.push(je),li&&ae.push(bt));return nt}function zu(q,ae,ge,Be,Ee,je){return Be&&!Be[en]&&(Be=zu(Be)),Ee&&!Ee[en]&&(Ee=zu(Ee,je)),io(function(nt,bt,xt,li){var ri,ui,Fi,dn=[],ni=[],lr=bt.length,jr=nt||function Yf(q,ae,ge){for(var Be=0,Ee=ae.length;Be<Ee;Be++)hn(q,ae[Be],ge);return ge}(ae||"*",xt.nodeType?[xt]:xt,[]),ko=!q||!nt&&ae?jr:Uu(jr,dn,q,xt,li),rn=ge?Ee||(nt?q:lr||Be)?[]:bt:ko;if(ge&&ge(ko,rn,xt,li),Be)for(ri=Uu(rn,ni),Be(ri,[],xt,li),ui=ri.length;ui--;)(Fi=ri[ui])&&(rn[ni[ui]]=!(ko[ni[ui]]=Fi));if(nt){if(Ee||q){if(Ee){for(ri=[],ui=rn.length;ui--;)(Fi=rn[ui])&&ri.push(ko[ui]=Fi);Ee(null,rn=[],ri,li)}for(ui=rn.length;ui--;)(Fi=rn[ui])&&(ri=Ee?At(nt,Fi):dn[ui])>-1&&(nt[ri]=!(bt[ri]=Fi))}}else rn=Uu(rn===bt?rn.splice(lr,rn.length):rn),Ee?Ee(null,bt,rn,li):qe.apply(bt,rn)})}function Wu(q){for(var ae,ge,Be,Ee=q.length,je=M.relative[q[0].type],nt=je||M.relative[" "],bt=je?1:0,xt=fa(function(ui){return ui===ae},nt,!0),li=fa(function(ui){return At(ae,ui)>-1},nt,!0),ri=[function(ui,Fi,dn){var ni=!je&&(dn||Fi!==ye)||((ae=Fi).nodeType?xt(ui,Fi,dn):li(ui,Fi,dn));return ae=null,ni}];bt<Ee;bt++)if(ge=M.relative[q[bt].type])ri=[fa(yo(ri),ge)];else{if((ge=M.filter[q[bt].type].apply(null,q[bt].matches))[en]){for(Be=++bt;Be<Ee&&!M.relative[q[Be].type];Be++);return zu(bt>1&&yo(ri),bt>1&&ha(q.slice(0,bt-1).concat({value:" "===q[bt-2].type?"*":""})).replace(kr,"$1"),ge,bt<Be&&Wu(q.slice(bt,Be)),Be<Ee&&Wu(q=q.slice(Be)),Be<Ee&&ha(q))}ri.push(ge)}return yo(ri)}return zl.prototype=M.filters=M.pseudos,M.setFilters=new zl,G=hn.tokenize=function(q,ae){var ge,Be,Ee,je,nt,bt,xt,li=g[q+" "];if(li)return ae?0:li.slice(0);for(nt=q,bt=[],xt=M.preFilter;nt;){for(je in(!ge||(Be=oa.exec(nt)))&&(Be&&(nt=nt.slice(Be[0].length)||nt),bt.push(Ee=[])),ge=!1,(Be=nr.exec(nt))&&(ge=Be.shift(),Ee.push({value:ge,type:Be[0].replace(kr," ")}),nt=nt.slice(ge.length)),M.filter)(Be=Gs[je].exec(nt))&&(!xt[je]||(Be=xt[je](Be)))&&(ge=Be.shift(),Ee.push({value:ge,type:je,matches:Be}),nt=nt.slice(ge.length));if(!ge)break}return ae?nt.length:nt?hn.error(q):g(q,bt).slice(0)},le=hn.compile=function(q,ae){var ge,Be=[],Ee=[],je=D[q+" "];if(!je){for(ae||(ae=G(q)),ge=ae.length;ge--;)(je=Wu(ae[ge]))[en]?Be.push(je):Ee.push(je);je=D(q,function D_(q,ae){var ge=ae.length>0,Be=q.length>0,Ee=function(je,nt,bt,xt,li){var ri,ui,Fi,dn=0,ni="0",lr=je&&[],jr=[],ko=ye,rn=je||Be&&M.find.TAG("*",li),pl=yn+=null==ko?1:Math.random()||.1,Nr=rn.length;for(li&&(ye=nt==Ne||nt||li);ni!==Nr&&null!=(ri=rn[ni]);ni++){if(Be&&ri){for(ui=0,!nt&&ri.ownerDocument!=Ne&&(ve(ri),bt=!ai);Fi=q[ui++];)if(Fi(ri,nt||Ne,bt)){xt.push(ri);break}li&&(yn=pl)}ge&&((ri=!Fi&&ri)&&dn--,je&&lr.push(ri))}if(dn+=ni,ge&&ni!==dn){for(ui=0;Fi=ae[ui++];)Fi(lr,jr,nt,bt);if(je){if(dn>0)for(;ni--;)lr[ni]||jr[ni]||(jr[ni]=_e.call(xt));jr=Uu(jr)}qe.apply(xt,jr),li&&!je&&jr.length>0&&dn+ae.length>1&&hn.uniqueSort(xt)}return li&&(yn=pl,ye=ko),lr};return ge?io(Ee):Ee}(Ee,Be)),je.selector=q}return je},ie=hn.select=function(q,ae,ge,Be){var Ee,je,nt,bt,xt,li="function"==typeof q&&q,ri=!Be&&G(q=li.selector||q);if(ge=ge||[],1===ri.length){if((je=ri[0]=ri[0].slice(0)).length>2&&"ID"===(nt=je[0]).type&&9===ae.nodeType&&ai&&M.relative[je[1].type]){if(!(ae=(M.find.ID(nt.matches[0].replace(vo,to),ae)||[])[0]))return ge;li&&(ae=ae.parentNode),q=q.slice(je.shift().value.length)}for(Ee=Gs.needsContext.test(q)?0:je.length;Ee--&&!M.relative[bt=(nt=je[Ee]).type];)if((xt=M.find[bt])&&(Be=xt(nt.matches[0].replace(vo,to),ar.test(je[0].type)&&Co(ae.parentNode)||ae))){if(je.splice(Ee,1),!(q=Be.length&&ha(je)))return qe.apply(ge,Be),ge;break}}return(li||le(q,ri))(Be,ae,!ai,ge,!ae||ar.test(q)&&Co(ae.parentNode)||ae),ge},O.sortStable=en.split("").sort(W).join("")===en,O.detectDuplicates=!!$e,ve(),O.sortDetached=_o(function(q){return 1&q.compareDocumentPosition(Ne.createElement("fieldset"))}),_o(function(q){return q.innerHTML="<a href='#'></a>","#"===q.firstChild.getAttribute("href")})||da("type|href|height|width",function(q,ae,ge){if(!ge)return q.getAttribute(ae,"type"===ae.toLowerCase()?1:2)}),(!O.attributes||!_o(function(q){return q.innerHTML="<input/>",q.firstChild.setAttribute("value",""),""===q.firstChild.getAttribute("value")}))&&da("value",function(q,ae,ge){if(!ge&&"input"===q.nodeName.toLowerCase())return q.defaultValue}),_o(function(q){return null==q.getAttribute("disabled")})||da($t,function(q,ae,ge){var Be;if(!ge)return!0===q[ae]?ae.toLowerCase():(Be=q.getAttributeNode(ae))&&Be.specified?Be.value:null}),hn}(F);R.find=Yt,R.expr=Yt.selectors,R.expr[":"]=R.expr.pseudos,R.uniqueSort=R.unique=Yt.uniqueSort,R.text=Yt.getText,R.isXMLDoc=Yt.isXML,R.contains=Yt.contains,R.escapeSelector=Yt.escape;var ei=function(f,C,O){for(var M=[],B=void 0!==O;(f=f[C])&&9!==f.nodeType;)if(1===f.nodeType){if(B&&R(f).is(O))break;M.push(f)}return M},pn=function(f,C){for(var O=[];f;f=f.nextSibling)1===f.nodeType&&f!==C&&O.push(f);return O},ti=R.expr.match.needsContext;function wi(f,C){return f.nodeName&&f.nodeName.toLowerCase()===C.toLowerCase()}var ut=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ii(f,C,O){return Se(C)?R.grep(f,function(M,B){return!!C.call(M,B,M)!==O}):C.nodeType?R.grep(f,function(M){return M===C!==O}):"string"!=typeof C?R.grep(f,function(M){return x.call(C,M)>-1!==O}):R.filter(C,f,O)}R.filter=function(f,C,O){var M=C[0];return O&&(f=":not("+f+")"),1===C.length&&1===M.nodeType?R.find.matchesSelector(M,f)?[M]:[]:R.find.matches(f,R.grep(C,function(B){return 1===B.nodeType}))},R.fn.extend({find:function(f){var C,O,M=this.length,B=this;if("string"!=typeof f)return this.pushStack(R(f).filter(function(){for(C=0;C<M;C++)if(R.contains(B[C],this))return!0}));for(O=this.pushStack([]),C=0;C<M;C++)R.find(f,B[C],O);return M>1?R.uniqueSort(O):O},filter:function(f){return this.pushStack(ii(this,f||[],!1))},not:function(f){return this.pushStack(ii(this,f||[],!0))},is:function(f){return!!ii(this,"string"==typeof f&&ti.test(f)?R(f):f||[],!1).length}});var Et,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ri=R.fn.init=function(f,C,O){var M,B;if(!f)return this;if(O=O||Et,"string"==typeof f){if(!(M="<"===f[0]&&">"===f[f.length-1]&&f.length>=3?[null,f,null]:ct.exec(f))||!M[1]&&C)return!C||C.jquery?(C||O).find(f):this.constructor(C).find(f);if(M[1]){if(R.merge(this,R.parseHTML(M[1],(C=C instanceof R?C[0]:C)&&C.nodeType?C.ownerDocument||C:pe,!0)),ut.test(M[1])&&R.isPlainObject(C))for(M in C)Se(this[M])?this[M](C[M]):this.attr(M,C[M]);return this}return(B=pe.getElementById(M[2]))&&(this[0]=B,this.length=1),this}return f.nodeType?(this[0]=f,this.length=1,this):Se(f)?void 0!==O.ready?O.ready(f):f(R):R.makeArray(f,this)};Ri.prototype=R.fn,Et=R(pe);var gt=/^(?:parents|prev(?:Until|All))/,_i={children:!0,contents:!0,next:!0,prev:!0};function tn(f,C){for(;(f=f[C])&&1!==f.nodeType;);return f}R.fn.extend({has:function(f){var C=R(f,this),O=C.length;return this.filter(function(){for(var M=0;M<O;M++)if(R.contains(this,C[M]))return!0})},closest:function(f,C){var O,M=0,B=this.length,z=[],G="string"!=typeof f&&R(f);if(!ti.test(f))for(;M<B;M++)for(O=this[M];O&&O!==C;O=O.parentNode)if(O.nodeType<11&&(G?G.index(O)>-1:1===O.nodeType&&R.find.matchesSelector(O,f))){z.push(O);break}return this.pushStack(z.length>1?R.uniqueSort(z):z)},index:function(f){return f?"string"==typeof f?x.call(R(f),this[0]):x.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,C){return this.pushStack(R.uniqueSort(R.merge(this.get(),R(f,C))))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}}),R.each({parent:function(f){var C=f.parentNode;return C&&11!==C.nodeType?C:null},parents:function(f){return ei(f,"parentNode")},parentsUntil:function(f,C,O){return ei(f,"parentNode",O)},next:function(f){return tn(f,"nextSibling")},prev:function(f){return tn(f,"previousSibling")},nextAll:function(f){return ei(f,"nextSibling")},prevAll:function(f){return ei(f,"previousSibling")},nextUntil:function(f,C,O){return ei(f,"nextSibling",O)},prevUntil:function(f,C,O){return ei(f,"previousSibling",O)},siblings:function(f){return pn((f.parentNode||{}).firstChild,f)},children:function(f){return pn(f.firstChild)},contents:function(f){return null!=f.contentDocument&&c(f.contentDocument)?f.contentDocument:(wi(f,"template")&&(f=f.content||f),R.merge([],f.childNodes))}},function(f,C){R.fn[f]=function(O,M){var B=R.map(this,C,O);return"Until"!==f.slice(-5)&&(M=O),M&&"string"==typeof M&&(B=R.filter(M,B)),this.length>1&&(_i[f]||R.uniqueSort(B),gt.test(f)&&B.reverse()),this.pushStack(B)}});var Yi=/[^\x20\t\r\n\f]+/g;function Qt(f){return f}function gn(f){throw f}function an(f,C,O,M){var B;try{f&&Se(B=f.promise)?B.call(f).done(C).fail(O):f&&Se(B=f.then)?B.call(f,C,O):C.apply(void 0,[f].slice(M))}catch(z){O.apply(void 0,[z])}}R.Callbacks=function(f){f="string"==typeof f?function It(f){var C={};return R.each(f.match(Yi)||[],function(O,M){C[M]=!0}),C}(f):R.extend({},f);var C,O,M,B,z=[],G=[],le=-1,ie=function(){for(B=B||f.once,M=C=!0;G.length;le=-1)for(O=G.shift();++le<z.length;)!1===z[le].apply(O[0],O[1])&&f.stopOnFalse&&(le=z.length,O=!1);f.memory||(O=!1),C=!1,B&&(z=O?[]:"")},ye={add:function(){return z&&(O&&!C&&(le=z.length-1,G.push(O)),function Oe($e){R.each($e,function(ve,Ne){Se(Ne)?(!f.unique||!ye.has(Ne))&&z.push(Ne):Ne&&Ne.length&&"string"!==Re(Ne)&&Oe(Ne)})}(arguments),O&&!C&&ie()),this},remove:function(){return R.each(arguments,function(Oe,$e){for(var ve;(ve=R.inArray($e,z,ve))>-1;)z.splice(ve,1),ve<=le&&le--}),this},has:function(Oe){return Oe?R.inArray(Oe,z)>-1:z.length>0},empty:function(){return z&&(z=[]),this},disable:function(){return B=G=[],z=O="",this},disabled:function(){return!z},lock:function(){return B=G=[],!O&&!C&&(z=O=""),this},locked:function(){return!!B},fireWith:function(Oe,$e){return B||($e=[Oe,($e=$e||[]).slice?$e.slice():$e],G.push($e),C||ie()),this},fire:function(){return ye.fireWith(this,arguments),this},fired:function(){return!!M}};return ye},R.extend({Deferred:function(f){var C=[["notify","progress",R.Callbacks("memory"),R.Callbacks("memory"),2],["resolve","done",R.Callbacks("once memory"),R.Callbacks("once memory"),0,"resolved"],["reject","fail",R.Callbacks("once memory"),R.Callbacks("once memory"),1,"rejected"]],O="pending",M={state:function(){return O},always:function(){return B.done(arguments).fail(arguments),this},catch:function(z){return M.then(null,z)},pipe:function(){var z=arguments;return R.Deferred(function(G){R.each(C,function(le,ie){var ye=Se(z[ie[4]])&&z[ie[4]];B[ie[1]](function(){var Oe=ye&&ye.apply(this,arguments);Oe&&Se(Oe.promise)?Oe.promise().progress(G.notify).done(G.resolve).fail(G.reject):G[ie[0]+"With"](this,ye?[Oe]:arguments)})}),z=null}).promise()},then:function(z,G,le){var ie=0;function ye(Oe,$e,ve,Ne){return function(){var Ze=this,ai=arguments,pt=function(){var Xi,$n;if(!(Oe<ie)){if((Xi=ve.apply(Ze,ai))===$e.promise())throw new TypeError("Thenable self-resolution");Se($n=Xi&&("object"==typeof Xi||"function"==typeof Xi)&&Xi.then)?Ne?$n.call(Xi,ye(ie,$e,Qt,Ne),ye(ie,$e,gn,Ne)):(ie++,$n.call(Xi,ye(ie,$e,Qt,Ne),ye(ie,$e,gn,Ne),ye(ie,$e,Qt,$e.notifyWith))):(ve!==Qt&&(Ze=void 0,ai=[Xi]),(Ne||$e.resolveWith)(Ze,ai))}},xn=Ne?pt:function(){try{pt()}catch(Xi){R.Deferred.exceptionHook&&R.Deferred.exceptionHook(Xi,xn.stackTrace),Oe+1>=ie&&(ve!==gn&&(Ze=void 0,ai=[Xi]),$e.rejectWith(Ze,ai))}};Oe?xn():(R.Deferred.getStackHook&&(xn.stackTrace=R.Deferred.getStackHook()),F.setTimeout(xn))}}return R.Deferred(function(Oe){C[0][3].add(ye(0,Oe,Se(le)?le:Qt,Oe.notifyWith)),C[1][3].add(ye(0,Oe,Se(z)?z:Qt)),C[2][3].add(ye(0,Oe,Se(G)?G:gn))}).promise()},promise:function(z){return null!=z?R.extend(z,M):M}},B={};return R.each(C,function(z,G){var le=G[2],ie=G[5];M[G[1]]=le.add,ie&&le.add(function(){O=ie},C[3-z][2].disable,C[3-z][3].disable,C[0][2].lock,C[0][3].lock),le.add(G[3].fire),B[G[0]]=function(){return B[G[0]+"With"](this===B?void 0:this,arguments),this},B[G[0]+"With"]=le.fireWith}),M.promise(B),f&&f.call(B,B),B},when:function(f){var C=arguments.length,O=C,M=Array(O),B=_.call(arguments),z=R.Deferred(),G=function(le){return function(ie){M[le]=this,B[le]=arguments.length>1?_.call(arguments):ie,--C||z.resolveWith(M,B)}};if(C<=1&&(an(f,z.done(G(O)).resolve,z.reject,!C),"pending"===z.state()||Se(B[O]&&B[O].then)))return z.then();for(;O--;)an(B[O],G(O),z.reject);return z.promise()}});var Ai=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;R.Deferred.exceptionHook=function(f,C){F.console&&F.console.warn&&f&&Ai.test(f.name)&&F.console.warn("jQuery.Deferred exception: "+f.message,f.stack,C)},R.readyException=function(f){F.setTimeout(function(){throw f})};var Mi=R.Deferred();function Pi(){pe.removeEventListener("DOMContentLoaded",Pi),F.removeEventListener("load",Pi),R.ready()}R.fn.ready=function(f){return Mi.then(f).catch(function(C){R.readyException(C)}),this},R.extend({isReady:!1,readyWait:1,ready:function(f){(!0===f?--R.readyWait:R.isReady)||(R.isReady=!0,!(!0!==f&&--R.readyWait>0)&&Mi.resolveWith(pe,[R]))}}),R.ready.then=Mi.then,"complete"===pe.readyState||"loading"!==pe.readyState&&!pe.documentElement.doScroll?F.setTimeout(R.ready):(pe.addEventListener("DOMContentLoaded",Pi),F.addEventListener("load",Pi));var Lt=function(f,C,O,M,B,z,G){var le=0,ie=f.length,ye=null==O;if("object"===Re(O))for(le in B=!0,O)Lt(f,C,le,O[le],!0,z,G);else if(void 0!==M&&(B=!0,Se(M)||(G=!0),ye&&(G?(C.call(f,M),C=null):(ye=C,C=function(Oe,$e,ve){return ye.call(R(Oe),ve)})),C))for(;le<ie;le++)C(f[le],O,G?M:M.call(f[le],le,C(f[le],O)));return B?f:ye?C.call(f):ie?C(f[0],O):z},Wi=/^-ms-/,Oi=/-([a-z])/g;function fo(f,C){return C.toUpperCase()}function Ae(f){return f.replace(Wi,"ms-").replace(Oi,fo)}var Ln=function(f){return 1===f.nodeType||9===f.nodeType||!+f.nodeType};function hi(){this.expando=R.expando+hi.uid++}hi.uid=1,hi.prototype={cache:function(f){var C=f[this.expando];return C||(C={},Ln(f)&&(f.nodeType?f[this.expando]=C:Object.defineProperty(f,this.expando,{value:C,configurable:!0}))),C},set:function(f,C,O){var M,B=this.cache(f);if("string"==typeof C)B[Ae(C)]=O;else for(M in C)B[Ae(M)]=C[M];return B},get:function(f,C){return void 0===C?this.cache(f):f[this.expando]&&f[this.expando][Ae(C)]},access:function(f,C,O){return void 0===C||C&&"string"==typeof C&&void 0===O?this.get(f,C):(this.set(f,C,O),void 0!==O?O:C)},remove:function(f,C){var O,M=f[this.expando];if(void 0!==M){if(void 0!==C)for((O=(C=Array.isArray(C)?C.map(Ae):(C=Ae(C))in M?[C]:C.match(Yi)||[]).length);O--;)delete M[C[O]];(void 0===C||R.isEmptyObject(M))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var C=f[this.expando];return void 0!==C&&!R.isEmptyObject(C)}};var St=new hi,qi=new hi,Ar=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Or=/[A-Z]/g;function S(f,C,O){var M;if(void 0===O&&1===f.nodeType)if(M="data-"+C.replace(Or,"-$&").toLowerCase(),"string"==typeof(O=f.getAttribute(M))){try{O=function Xr(f){return"true"===f||"false"!==f&&("null"===f?null:f===+f+""?+f:Ar.test(f)?JSON.parse(f):f)}(O)}catch{}qi.set(f,C,O)}else O=void 0;return O}R.extend({hasData:function(f){return qi.hasData(f)||St.hasData(f)},data:function(f,C,O){return qi.access(f,C,O)},removeData:function(f,C){qi.remove(f,C)},_data:function(f,C,O){return St.access(f,C,O)},_removeData:function(f,C){St.remove(f,C)}}),R.fn.extend({data:function(f,C){var O,M,B,z=this[0],G=z&&z.attributes;if(void 0===f){if(this.length&&(B=qi.get(z),1===z.nodeType&&!St.get(z,"hasDataAttrs"))){for(O=G.length;O--;)G[O]&&0===(M=G[O].name).indexOf("data-")&&(M=Ae(M.slice(5)),S(z,M,B[M]));St.set(z,"hasDataAttrs",!0)}return B}return"object"==typeof f?this.each(function(){qi.set(this,f)}):Lt(this,function(le){var ie;if(z&&void 0===le)return void 0!==(ie=qi.get(z,f))||void 0!==(ie=S(z,f))?ie:void 0;this.each(function(){qi.set(this,f,le)})},null,C,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){qi.remove(this,f)})}}),R.extend({queue:function(f,C,O){var M;if(f)return M=St.get(f,C=(C||"fx")+"queue"),O&&(!M||Array.isArray(O)?M=St.access(f,C,R.makeArray(O)):M.push(O)),M||[]},dequeue:function(f,C){var O=R.queue(f,C=C||"fx"),M=O.length,B=O.shift(),z=R._queueHooks(f,C);"inprogress"===B&&(B=O.shift(),M--),B&&("fx"===C&&O.unshift("inprogress"),delete z.stop,B.call(f,function(){R.dequeue(f,C)},z)),!M&&z&&z.empty.fire()},_queueHooks:function(f,C){var O=C+"queueHooks";return St.get(f,O)||St.access(f,O,{empty:R.Callbacks("once memory").add(function(){St.remove(f,[C+"queue",O])})})}}),R.fn.extend({queue:function(f,C){var O=2;return"string"!=typeof f&&(C=f,f="fx",O--),arguments.length<O?R.queue(this[0],f):void 0===C?this:this.each(function(){var M=R.queue(this,f,C);R._queueHooks(this,f),"fx"===f&&"inprogress"!==M[0]&&R.dequeue(this,f)})},dequeue:function(f){return this.each(function(){R.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,C){var O,M=1,B=R.Deferred(),z=this,G=this.length,le=function(){--M||B.resolveWith(z,[z])};for("string"!=typeof f&&(C=f,f=void 0),f=f||"fx";G--;)(O=St.get(z[G],f+"queueHooks"))&&O.empty&&(M++,O.empty.add(le));return le(),B.promise(C)}});var ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],Ie=pe.documentElement,ze=function(f){return R.contains(f.ownerDocument,f)},Qe={composed:!0};Ie.getRootNode&&(ze=function(f){return R.contains(f.ownerDocument,f)||f.getRootNode(Qe)===f.ownerDocument});var vt=function(f,C){return"none"===(f=C||f).style.display||""===f.style.display&&ze(f)&&"none"===R.css(f,"display")};function _t(f,C,O,M){var B,z,G=20,le=M?function(){return M.cur()}:function(){return R.css(f,C,"")},ie=le(),ye=O&&O[3]||(R.cssNumber[C]?"":"px"),Oe=f.nodeType&&(R.cssNumber[C]||"px"!==ye&&+ie)&&Ce.exec(R.css(f,C));if(Oe&&Oe[3]!==ye){for(ye=ye||Oe[3],Oe=+(ie/=2)||1;G--;)R.style(f,C,Oe+ye),(1-z)*(1-(z=le()/ie||.5))<=0&&(G=0),Oe/=z;R.style(f,C,(Oe*=2)+ye),O=O||[]}return O&&(Oe=+Oe||+ie||0,B=O[1]?Oe+(O[1]+1)*O[2]:+O[2],M&&(M.unit=ye,M.start=Oe,M.end=B)),B}var Ft={};function Zt(f){var C,O=f.ownerDocument,M=f.nodeName,B=Ft[M];return B||(C=O.body.appendChild(O.createElement(M)),B=R.css(C,"display"),C.parentNode.removeChild(C),"none"===B&&(B="block"),Ft[M]=B,B)}function yt(f,C){for(var O,M,B=[],z=0,G=f.length;z<G;z++)(M=f[z]).style&&(O=M.style.display,C?("none"===O&&(B[z]=St.get(M,"display")||null,B[z]||(M.style.display="")),""===M.style.display&&vt(M)&&(B[z]=Zt(M))):"none"!==O&&(B[z]="none",St.set(M,"display",O)));for(z=0;z<G;z++)null!=B[z]&&(f[z].style.display=B[z]);return f}R.fn.extend({show:function(){return yt(this,!0)},hide:function(){return yt(this)},toggle:function(f){return"boolean"==typeof f?f?this.show():this.hide():this.each(function(){vt(this)?R(this).show():R(this).hide()})}});var C,O,ki=/^(?:checkbox|radio)$/i,j=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i;C=pe.createDocumentFragment().appendChild(pe.createElement("div")),(O=pe.createElement("input")).setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),C.appendChild(O),se.checkClone=C.cloneNode(!0).cloneNode(!0).lastChild.checked,C.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!C.cloneNode(!0).lastChild.defaultValue,C.innerHTML="<option></option>",se.option=!!C.lastChild;var Ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ke(f,C){var O;return O=typeof f.getElementsByTagName<"u"?f.getElementsByTagName(C||"*"):typeof f.querySelectorAll<"u"?f.querySelectorAll(C||"*"):[],void 0===C||C&&wi(f,C)?R.merge([f],O):O}function Ke(f,C){for(var O=0,M=f.length;O<M;O++)St.set(f[O],"globalEval",!C||St.get(C[O],"globalEval"))}Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,se.option||(Ve.optgroup=Ve.option=[1,"<select multiple='multiple'>","</select>"]);var dt=/<|&#?\w+;/;function Pt(f,C,O,M,B){for(var z,G,le,ie,ye,Oe,$e=C.createDocumentFragment(),ve=[],Ne=0,Ze=f.length;Ne<Ze;Ne++)if((z=f[Ne])||0===z)if("object"===Re(z))R.merge(ve,z.nodeType?[z]:z);else if(dt.test(z)){for(G=G||$e.appendChild(C.createElement("div")),le=(j.exec(z)||["",""])[1].toLowerCase(),G.innerHTML=(ie=Ve[le]||Ve._default)[1]+R.htmlPrefilter(z)+ie[2],Oe=ie[0];Oe--;)G=G.lastChild;R.merge(ve,G.childNodes),(G=$e.firstChild).textContent=""}else ve.push(C.createTextNode(z));for($e.textContent="",Ne=0;z=ve[Ne++];)if(M&&R.inArray(z,M)>-1)B&&B.push(z);else if(ye=ze(z),G=ke($e.appendChild(z),"script"),ye&&Ke(G),O)for(Oe=0;z=G[Oe++];)Te.test(z.type||"")&&O.push(z);return $e}var mt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Gt(){return!1}function Ki(f,C){return f===function ln(){try{return pe.activeElement}catch{}}()==("focus"===C)}function Li(f,C,O,M,B,z){var G,le;if("object"==typeof C){for(le in"string"!=typeof O&&(M=M||O,O=void 0),C)Li(f,le,O,M,C[le],z);return f}if(null==M&&null==B?(B=O,M=O=void 0):null==B&&("string"==typeof O?(B=M,M=void 0):(B=M,M=O,O=void 0)),!1===B)B=Gt;else if(!B)return f;return 1===z&&(G=B,B=function(ie){return R().off(ie),G.apply(this,arguments)},B.guid=G.guid||(G.guid=R.guid++)),f.each(function(){R.event.add(this,C,B,M,O)})}function Hr(f,C,O){O?(St.set(f,C,!1),R.event.add(f,C,{namespace:!1,handler:function(M){var B,z,G=St.get(this,C);if(1&M.isTrigger&&this[C]){if(G.length)(R.event.special[C]||{}).delegateType&&M.stopPropagation();else if(G=_.call(arguments),St.set(this,C,G),B=O(this,C),this[C](),G!==(z=St.get(this,C))||B?St.set(this,C,!1):z={},G!==z)return M.stopImmediatePropagation(),M.preventDefault(),z&&z.value}else G.length&&(St.set(this,C,{value:R.event.trigger(R.extend(G[0],R.Event.prototype),G.slice(1),this)}),M.stopImmediatePropagation())}})):void 0===St.get(f,C)&&R.event.add(f,C,Tt)}R.event={global:{},add:function(f,C,O,M,B){var z,G,le,ie,ye,Oe,$e,ve,Ne,Ze,ai,pt=St.get(f);if(Ln(f))for(O.handler&&(O=(z=O).handler,B=z.selector),B&&R.find.matchesSelector(Ie,B),O.guid||(O.guid=R.guid++),(ie=pt.events)||(ie=pt.events=Object.create(null)),(G=pt.handle)||(G=pt.handle=function(xn){return typeof R<"u"&&R.event.triggered!==xn.type?R.event.dispatch.apply(f,arguments):void 0}),ye=(C=(C||"").match(Yi)||[""]).length;ye--;)Ne=ai=(le=mt.exec(C[ye])||[])[1],Ze=(le[2]||"").split(".").sort(),Ne&&($e=R.event.special[Ne]||{},$e=R.event.special[Ne=(B?$e.delegateType:$e.bindType)||Ne]||{},Oe=R.extend({type:Ne,origType:ai,data:M,handler:O,guid:O.guid,selector:B,needsContext:B&&R.expr.match.needsContext.test(B),namespace:Ze.join(".")},z),(ve=ie[Ne])||((ve=ie[Ne]=[]).delegateCount=0,(!$e.setup||!1===$e.setup.call(f,M,Ze,G))&&f.addEventListener&&f.addEventListener(Ne,G)),$e.add&&($e.add.call(f,Oe),Oe.handler.guid||(Oe.handler.guid=O.guid)),B?ve.splice(ve.delegateCount++,0,Oe):ve.push(Oe),R.event.global[Ne]=!0)},remove:function(f,C,O,M,B){var z,G,le,ie,ye,Oe,$e,ve,Ne,Ze,ai,pt=St.hasData(f)&&St.get(f);if(pt&&(ie=pt.events)){for(ye=(C=(C||"").match(Yi)||[""]).length;ye--;)if(Ne=ai=(le=mt.exec(C[ye])||[])[1],Ze=(le[2]||"").split(".").sort(),Ne){for($e=R.event.special[Ne]||{},ve=ie[Ne=(M?$e.delegateType:$e.bindType)||Ne]||[],le=le[2]&&new RegExp("(^|\\.)"+Ze.join("\\.(?:.*\\.|)")+"(\\.|$)"),G=z=ve.length;z--;)Oe=ve[z],(B||ai===Oe.origType)&&(!O||O.guid===Oe.guid)&&(!le||le.test(Oe.namespace))&&(!M||M===Oe.selector||"**"===M&&Oe.selector)&&(ve.splice(z,1),Oe.selector&&ve.delegateCount--,$e.remove&&$e.remove.call(f,Oe));G&&!ve.length&&((!$e.teardown||!1===$e.teardown.call(f,Ze,pt.handle))&&R.removeEvent(f,Ne,pt.handle),delete ie[Ne])}else for(Ne in ie)R.event.remove(f,Ne+C[ye],O,M,!0);R.isEmptyObject(ie)&&St.remove(f,"handle events")}},dispatch:function(f){var C,O,M,B,z,G,le=new Array(arguments.length),ie=R.event.fix(f),ye=(St.get(this,"events")||Object.create(null))[ie.type]||[],Oe=R.event.special[ie.type]||{};for(le[0]=ie,C=1;C<arguments.length;C++)le[C]=arguments[C];if(ie.delegateTarget=this,!Oe.preDispatch||!1!==Oe.preDispatch.call(this,ie)){for(G=R.event.handlers.call(this,ie,ye),C=0;(B=G[C++])&&!ie.isPropagationStopped();)for(ie.currentTarget=B.elem,O=0;(z=B.handlers[O++])&&!ie.isImmediatePropagationStopped();)(!ie.rnamespace||!1===z.namespace||ie.rnamespace.test(z.namespace))&&(ie.handleObj=z,ie.data=z.data,void 0!==(M=((R.event.special[z.origType]||{}).handle||z.handler).apply(B.elem,le))&&!1===(ie.result=M)&&(ie.preventDefault(),ie.stopPropagation()));return Oe.postDispatch&&Oe.postDispatch.call(this,ie),ie.result}},handlers:function(f,C){var O,M,B,z,G,le=[],ie=C.delegateCount,ye=f.target;if(ie&&ye.nodeType&&!("click"===f.type&&f.button>=1))for(;ye!==this;ye=ye.parentNode||this)if(1===ye.nodeType&&("click"!==f.type||!0!==ye.disabled)){for(z=[],G={},O=0;O<ie;O++)void 0===G[B=(M=C[O]).selector+" "]&&(G[B]=M.needsContext?R(B,this).index(ye)>-1:R.find(B,this,null,[ye]).length),G[B]&&z.push(M);z.length&&le.push({elem:ye,handlers:z})}return ye=this,ie<C.length&&le.push({elem:ye,handlers:C.slice(ie)}),le},addProp:function(f,C){Object.defineProperty(R.Event.prototype,f,{enumerable:!0,configurable:!0,get:Se(C)?function(){if(this.originalEvent)return C(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(O){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(f){return f[R.expando]?f:new R.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var C=this||f;return ki.test(C.type)&&C.click&&wi(C,"input")&&Hr(C,"click",Tt),!1},trigger:function(f){var C=this||f;return ki.test(C.type)&&C.click&&wi(C,"input")&&Hr(C,"click"),!0},_default:function(f){var C=f.target;return ki.test(C.type)&&C.click&&wi(C,"input")&&St.get(C,"click")||wi(C,"a")}},beforeunload:{postDispatch:function(f){void 0!==f.result&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}},R.removeEvent=function(f,C,O){f.removeEventListener&&f.removeEventListener(C,O)},R.Event=function(f,C){if(!(this instanceof R.Event))return new R.Event(f,C);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||void 0===f.defaultPrevented&&!1===f.returnValue?Tt:Gt,this.target=f.target&&3===f.target.nodeType?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,C&&R.extend(this,C),this.timeStamp=f&&f.timeStamp||Date.now(),this[R.expando]=!0},R.Event.prototype={constructor:R.Event,isDefaultPrevented:Gt,isPropagationStopped:Gt,isImmediatePropagationStopped:Gt,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Tt,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Tt,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Tt,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},R.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},R.event.addProp),R.each({focus:"focusin",blur:"focusout"},function(f,C){R.event.special[f]={setup:function(){return Hr(this,f,Ki),!1},trigger:function(){return Hr(this,f),!0},_default:function(O){return St.get(O.target,f)},delegateType:C}}),R.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,C){R.event.special[f]={delegateType:C,bindType:C,handle:function(O){var M,B=this,z=O.relatedTarget,G=O.handleObj;return(!z||z!==B&&!R.contains(B,z))&&(O.type=G.origType,M=G.handler.apply(this,arguments),O.type=C),M}}}),R.fn.extend({on:function(f,C,O,M){return Li(this,f,C,O,M)},one:function(f,C,O,M){return Li(this,f,C,O,M,1)},off:function(f,C,O){var M,B;if(f&&f.preventDefault&&f.handleObj)return M=f.handleObj,R(f.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if("object"==typeof f){for(B in f)this.off(B,C,f[B]);return this}return(!1===C||"function"==typeof C)&&(O=C,C=void 0),!1===O&&(O=Gt),this.each(function(){R.event.remove(this,f,O,C)})}});var $r=/<script|<style|<link/i,mr=/checked\s*(?:[^=]|=\s*.checked.)/i,Un=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Vn(f,C){return wi(f,"table")&&wi(11!==C.nodeType?C:C.firstChild,"tr")&&R(f).children("tbody")[0]||f}function po(f){return f.type=(null!==f.getAttribute("type"))+"/"+f.type,f}function ls(f){return"true/"===(f.type||"").slice(0,5)?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Ds(f,C){var O,M,B,G,le,ie;if(1===C.nodeType){if(St.hasData(f)&&(ie=St.get(f).events))for(B in St.remove(C,"handle events"),ie)for(O=0,M=ie[B].length;O<M;O++)R.event.add(C,B,ie[B][O]);qi.hasData(f)&&(G=qi.access(f),le=R.extend({},G),qi.set(C,le))}}function jo(f,C){var O=C.nodeName.toLowerCase();"input"===O&&ki.test(f.type)?C.checked=f.checked:("input"===O||"textarea"===O)&&(C.defaultValue=f.defaultValue)}function Hn(f,C,O,M){C=y(C);var B,z,G,le,ie,ye,Oe=0,$e=f.length,ve=$e-1,Ne=C[0],Ze=Se(Ne);if(Ze||$e>1&&"string"==typeof Ne&&!se.checkClone&&mr.test(Ne))return f.each(function(ai){var pt=f.eq(ai);Ze&&(C[0]=Ne.call(this,ai,pt.html())),Hn(pt,C,O,M)});if($e&&(z=(B=Pt(C,f[0].ownerDocument,!1,f,M)).firstChild,1===B.childNodes.length&&(B=z),z||M)){for(le=(G=R.map(ke(B,"script"),po)).length;Oe<$e;Oe++)ie=B,Oe!==ve&&(ie=R.clone(ie,!0,!0),le&&R.merge(G,ke(ie,"script"))),O.call(f[Oe],ie,Oe);if(le)for(ye=G[G.length-1].ownerDocument,R.map(G,ls),Oe=0;Oe<le;Oe++)Te.test((ie=G[Oe]).type||"")&&!St.access(ie,"globalEval")&&R.contains(ye,ie)&&(ie.src&&"module"!==(ie.type||"").toLowerCase()?R._evalUrl&&!ie.noModule&&R._evalUrl(ie.src,{nonce:ie.nonce||ie.getAttribute("nonce")},ye):at(ie.textContent.replace(Un,""),ie,ye))}return f}function Oo(f,C,O){for(var M,B=C?R.filter(C,f):f,z=0;null!=(M=B[z]);z++)!O&&1===M.nodeType&&R.cleanData(ke(M)),M.parentNode&&(O&&ze(M)&&Ke(ke(M,"script")),M.parentNode.removeChild(M));return f}R.extend({htmlPrefilter:function(f){return f},clone:function(f,C,O){var M,B,z,G,le=f.cloneNode(!0),ie=ze(f);if(!(se.noCloneChecked||1!==f.nodeType&&11!==f.nodeType||R.isXMLDoc(f)))for(G=ke(le),M=0,B=(z=ke(f)).length;M<B;M++)jo(z[M],G[M]);if(C)if(O)for(z=z||ke(f),G=G||ke(le),M=0,B=z.length;M<B;M++)Ds(z[M],G[M]);else Ds(f,le);return(G=ke(le,"script")).length>0&&Ke(G,!ie&&ke(f,"script")),le},cleanData:function(f){for(var C,O,M,B=R.event.special,z=0;void 0!==(O=f[z]);z++)if(Ln(O)){if(C=O[St.expando]){if(C.events)for(M in C.events)B[M]?R.event.remove(O,M):R.removeEvent(O,M,C.handle);O[St.expando]=void 0}O[qi.expando]&&(O[qi.expando]=void 0)}}}),R.fn.extend({detach:function(f){return Oo(this,f,!0)},remove:function(f){return Oo(this,f)},text:function(f){return Lt(this,function(C){return void 0===C?R.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=C)})},null,f,arguments.length)},append:function(){return Hn(this,arguments,function(f){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Vn(this,f).appendChild(f)})},prepend:function(){return Hn(this,arguments,function(f){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var C=Vn(this,f);C.insertBefore(f,C.firstChild)}})},before:function(){return Hn(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Hn(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,C=0;null!=(f=this[C]);C++)1===f.nodeType&&(R.cleanData(ke(f,!1)),f.textContent="");return this},clone:function(f,C){return f=f??!1,C=C??f,this.map(function(){return R.clone(this,f,C)})},html:function(f){return Lt(this,function(C){var O=this[0]||{},M=0,B=this.length;if(void 0===C&&1===O.nodeType)return O.innerHTML;if("string"==typeof C&&!$r.test(C)&&!Ve[(j.exec(C)||["",""])[1].toLowerCase()]){C=R.htmlPrefilter(C);try{for(;M<B;M++)1===(O=this[M]||{}).nodeType&&(R.cleanData(ke(O,!1)),O.innerHTML=C);O=0}catch{}}O&&this.empty().append(C)},null,f,arguments.length)},replaceWith:function(){var f=[];return Hn(this,arguments,function(C){var O=this.parentNode;R.inArray(this,f)<0&&(R.cleanData(ke(this)),O&&O.replaceChild(C,this))},f)}}),R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,C){R.fn[f]=function(O){for(var M,B=[],z=R(O),G=z.length-1,le=0;le<=G;le++)M=le===G?this:this.clone(!0),R(z[le])[C](M),T.apply(B,M.get());return this.pushStack(B)}});var Zi=new RegExp("^("+ce+")(?!px)[a-z%]+$","i"),er=/^--/,on=function(f){var C=f.ownerDocument.defaultView;return(!C||!C.opener)&&(C=F),C.getComputedStyle(f)},mn=function(f,C,O){var M,B,z={};for(B in C)z[B]=f.style[B],f.style[B]=C[B];for(B in M=O.call(f),C)f.style[B]=z[B];return M},Ji=new RegExp(me.join("|"),"i"),zn="[\\x20\\t\\r\\n\\f]",us=new RegExp("^"+zn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+zn+"+$","g");function Br(f,C,O){var M,B,z,G,le=er.test(C),ie=f.style;return(O=O||on(f))&&(G=O.getPropertyValue(C)||O[C],le&&(G=G.replace(us,"$1")),""===G&&!ze(f)&&(G=R.style(f,C)),!se.pixelBoxStyles()&&Zi.test(G)&&Ji.test(C)&&(M=ie.width,B=ie.minWidth,z=ie.maxWidth,ie.minWidth=ie.maxWidth=ie.width=G,G=O.width,ie.width=M,ie.minWidth=B,ie.maxWidth=z)),void 0!==G?G+"":G}function Qr(f,C){return{get:function(){if(!f())return(this.get=C).apply(this,arguments);delete this.get}}}!function(){function f(){if(ye){ie.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ye.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ie.appendChild(ie).appendChild(ye);var Oe=F.getComputedStyle(ye);O="1%"!==Oe.top,le=12===C(Oe.marginLeft),ye.style.right="60%",z=36===C(Oe.right),M=36===C(Oe.width),ye.style.position="absolute",B=12===C(ye.offsetWidth/3),Ie.removeChild(ie),ye=null}}function C(Oe){return Math.round(parseFloat(Oe))}var O,M,B,z,G,le,ie=pe.createElement("div"),ye=pe.createElement("div");!ye.style||(ye.style.backgroundClip="content-box",ye.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===ye.style.backgroundClip,R.extend(se,{boxSizingReliable:function(){return f(),M},pixelBoxStyles:function(){return f(),z},pixelPosition:function(){return f(),O},reliableMarginLeft:function(){return f(),le},scrollboxSize:function(){return f(),B},reliableTrDimensions:function(){var Oe,$e,ve,Ne;return null==G&&(Oe=pe.createElement("table"),$e=pe.createElement("tr"),ve=pe.createElement("div"),Oe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",$e.style.cssText="border:1px solid",$e.style.height="1px",ve.style.height="9px",ve.style.display="block",Ie.appendChild(Oe).appendChild($e).appendChild(ve),Ne=F.getComputedStyle($e),G=parseInt(Ne.height,10)+parseInt(Ne.borderTopWidth,10)+parseInt(Ne.borderBottomWidth,10)===$e.offsetHeight,Ie.removeChild(Oe)),G}}))}();var Io=["Webkit","Moz","ms"],tr=pe.createElement("div").style,Yn={};function Ir(f){return R.cssProps[f]||Yn[f]||(f in tr?f:Yn[f]=function Gi(f){for(var C=f[0].toUpperCase()+f.slice(1),O=Io.length;O--;)if((f=Io[O]+C)in tr)return f}(f)||f)}var Zr=/^(none|table(?!-c[ea]).+)/,ds={position:"absolute",visibility:"hidden",display:"block"},Rr={letterSpacing:"0",fontWeight:"400"};function Mr(f,C,O){var M=Ce.exec(C);return M?Math.max(0,M[2]-(O||0))+(M[3]||"px"):C}function Ro(f,C,O,M,B,z){var G="width"===C?1:0,le=0,ie=0;if(O===(M?"border":"content"))return 0;for(;G<4;G+=2)"margin"===O&&(ie+=R.css(f,O+me[G],!0,B)),M?("content"===O&&(ie-=R.css(f,"padding"+me[G],!0,B)),"margin"!==O&&(ie-=R.css(f,"border"+me[G]+"Width",!0,B))):(ie+=R.css(f,"padding"+me[G],!0,B),"padding"!==O?ie+=R.css(f,"border"+me[G]+"Width",!0,B):le+=R.css(f,"border"+me[G]+"Width",!0,B));return!M&&z>=0&&(ie+=Math.max(0,Math.ceil(f["offset"+C[0].toUpperCase()+C.slice(1)]-z-ie-le-.5))||0),ie}function vr(f,C,O){var M=on(f),z=(!se.boxSizingReliable()||O)&&"border-box"===R.css(f,"boxSizing",!1,M),G=z,le=Br(f,C,M),ie="offset"+C[0].toUpperCase()+C.slice(1);if(Zi.test(le)){if(!O)return le;le="auto"}return(!se.boxSizingReliable()&&z||!se.reliableTrDimensions()&&wi(f,"tr")||"auto"===le||!parseFloat(le)&&"inline"===R.css(f,"display",!1,M))&&f.getClientRects().length&&(z="border-box"===R.css(f,"boxSizing",!1,M),(G=ie in f)&&(le=f[ie])),(le=parseFloat(le)||0)+Ro(f,C,O||(z?"border":"content"),G,M,le)+"px"}function Tn(f,C,O,M,B){return new Tn.prototype.init(f,C,O,M,B)}R.extend({cssHooks:{opacity:{get:function(f,C){if(C){var O=Br(f,"opacity");return""===O?"1":O}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,C,O,M){if(f&&3!==f.nodeType&&8!==f.nodeType&&f.style){var B,z,G,le=Ae(C),ie=er.test(C),ye=f.style;if(ie||(C=Ir(le)),G=R.cssHooks[C]||R.cssHooks[le],void 0===O)return G&&"get"in G&&void 0!==(B=G.get(f,!1,M))?B:ye[C];if("string"==(z=typeof O)&&(B=Ce.exec(O))&&B[1]&&(O=_t(f,C,B),z="number"),null==O||O!=O)return;"number"===z&&!ie&&(O+=B&&B[3]||(R.cssNumber[le]?"":"px")),!se.clearCloneStyle&&""===O&&0===C.indexOf("background")&&(ye[C]="inherit"),(!G||!("set"in G)||void 0!==(O=G.set(f,O,M)))&&(ie?ye.setProperty(C,O):ye[C]=O)}},css:function(f,C,O,M){var B,z,G,le=Ae(C);return er.test(C)||(C=Ir(le)),(G=R.cssHooks[C]||R.cssHooks[le])&&"get"in G&&(B=G.get(f,!0,O)),void 0===B&&(B=Br(f,C,M)),"normal"===B&&C in Rr&&(B=Rr[C]),""===O||O?(z=parseFloat(B),!0===O||isFinite(z)?z||0:B):B}}),R.each(["height","width"],function(f,C){R.cssHooks[C]={get:function(O,M,B){if(M)return!Zr.test(R.css(O,"display"))||O.getClientRects().length&&O.getBoundingClientRect().width?vr(O,C,B):mn(O,ds,function(){return vr(O,C,B)})},set:function(O,M,B){var z,G=on(O),le=!se.scrollboxSize()&&"absolute"===G.position,ye=(le||B)&&"border-box"===R.css(O,"boxSizing",!1,G),Oe=B?Ro(O,C,B,ye,G):0;return ye&&le&&(Oe-=Math.ceil(O["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(G[C])-Ro(O,C,"border",!1,G)-.5)),Oe&&(z=Ce.exec(M))&&"px"!==(z[3]||"px")&&(O.style[C]=M,M=R.css(O,C)),Mr(0,M,Oe)}}}),R.cssHooks.marginLeft=Qr(se.reliableMarginLeft,function(f,C){if(C)return(parseFloat(Br(f,"marginLeft"))||f.getBoundingClientRect().left-mn(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),R.each({margin:"",padding:"",border:"Width"},function(f,C){R.cssHooks[f+C]={expand:function(O){for(var M=0,B={},z="string"==typeof O?O.split(" "):[O];M<4;M++)B[f+me[M]+C]=z[M]||z[M-2]||z[0];return B}},"margin"!==f&&(R.cssHooks[f+C].set=Mr)}),R.fn.extend({css:function(f,C){return Lt(this,function(O,M,B){var z,G,le={},ie=0;if(Array.isArray(M)){for(z=on(O),G=M.length;ie<G;ie++)le[M[ie]]=R.css(O,M[ie],!1,z);return le}return void 0!==B?R.style(O,M,B):R.css(O,M)},f,C,arguments.length>1)}}),R.Tween=Tn,(Tn.prototype={constructor:Tn,init:function(f,C,O,M,B,z){this.elem=f,this.prop=O,this.easing=B||R.easing._default,this.options=C,this.start=this.now=this.cur(),this.end=M,this.unit=z||(R.cssNumber[O]?"":"px")},cur:function(){var f=Tn.propHooks[this.prop];return f&&f.get?f.get(this):Tn.propHooks._default.get(this)},run:function(f){var C,O=Tn.propHooks[this.prop];return this.pos=C=this.options.duration?R.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):f,this.now=(this.end-this.start)*C+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):Tn.propHooks._default.set(this),this}}).init.prototype=Tn.prototype,(Tn.propHooks={_default:{get:function(f){var C;return 1!==f.elem.nodeType||null!=f.elem[f.prop]&&null==f.elem.style[f.prop]?f.elem[f.prop]:(C=R.css(f.elem,f.prop,""))&&"auto"!==C?C:0},set:function(f){R.fx.step[f.prop]?R.fx.step[f.prop](f):1!==f.elem.nodeType||!R.cssHooks[f.prop]&&null==f.elem.style[Ir(f.prop)]?f.elem[f.prop]=f.now:R.style(f.elem,f.prop,f.now+f.unit)}}}).scrollTop=Tn.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},R.easing={linear:function(f){return f},swing:function(f){return.5-Math.cos(f*Math.PI)/2},_default:"swing"},R.fx=Tn.prototype.init,R.fx.step={};var _r,si,Mo=/^(?:toggle|show|hide)$/,go=/queueHooks$/;function Jr(){si&&(!1===pe.hidden&&F.requestAnimationFrame?F.requestAnimationFrame(Jr):F.setTimeout(Jr,R.fx.interval),R.fx.tick())}function Ui(){return F.setTimeout(function(){_r=void 0}),_r=Date.now()}function ue(f,C){var O,M=0,B={height:f};for(C=C?1:0;M<4;M+=2-C)B["margin"+(O=me[M])]=B["padding"+O]=f;return C&&(B.opacity=B.width=f),B}function re(f,C,O){for(var M,B=(Fe.tweeners[C]||[]).concat(Fe.tweeners["*"]),z=0,G=B.length;z<G;z++)if(M=B[z].call(O,C,f))return M}function Fe(f,C,O){var M,B,z=0,G=Fe.prefilters.length,le=R.Deferred().always(function(){delete ie.elem}),ie=function(){if(B)return!1;for(var $e=_r||Ui(),ve=Math.max(0,ye.startTime+ye.duration-$e),Ze=1-(ve/ye.duration||0),ai=0,pt=ye.tweens.length;ai<pt;ai++)ye.tweens[ai].run(Ze);return le.notifyWith(f,[ye,Ze,ve]),Ze<1&&pt?ve:(pt||le.notifyWith(f,[ye,1,0]),le.resolveWith(f,[ye]),!1)},ye=le.promise({elem:f,props:R.extend({},C),opts:R.extend(!0,{specialEasing:{},easing:R.easing._default},O),originalProperties:C,originalOptions:O,startTime:_r||Ui(),duration:O.duration,tweens:[],createTween:function($e,ve){var Ne=R.Tween(f,ye.opts,$e,ve,ye.opts.specialEasing[$e]||ye.opts.easing);return ye.tweens.push(Ne),Ne},stop:function($e){var ve=0,Ne=$e?ye.tweens.length:0;if(B)return this;for(B=!0;ve<Ne;ve++)ye.tweens[ve].run(1);return $e?(le.notifyWith(f,[ye,1,0]),le.resolveWith(f,[ye,$e])):le.rejectWith(f,[ye,$e]),this}}),Oe=ye.props;for(function We(f,C){var O,M,B,z,G;for(O in f)if(B=C[M=Ae(O)],z=f[O],Array.isArray(z)&&(B=z[1],z=f[O]=z[0]),O!==M&&(f[M]=z,delete f[O]),(G=R.cssHooks[M])&&"expand"in G)for(O in z=G.expand(z),delete f[M],z)O in f||(f[O]=z[O],C[O]=B);else C[M]=B}(Oe,ye.opts.specialEasing);z<G;z++)if(M=Fe.prefilters[z].call(ye,f,Oe,ye.opts))return Se(M.stop)&&(R._queueHooks(ye.elem,ye.opts.queue).stop=M.stop.bind(M)),M;return R.map(Oe,re,ye),Se(ye.opts.start)&&ye.opts.start.call(f,ye),ye.progress(ye.opts.progress).done(ye.opts.done,ye.opts.complete).fail(ye.opts.fail).always(ye.opts.always),R.fx.timer(R.extend(ie,{elem:f,anim:ye,queue:ye.opts.queue})),ye}R.Animation=R.extend(Fe,{tweeners:{"*":[function(f,C){var O=this.createTween(f,C);return _t(O.elem,f,Ce.exec(C),O),O}]},tweener:function(f,C){Se(f)?(C=f,f=["*"]):f=f.match(Yi);for(var O,M=0,B=f.length;M<B;M++)(Fe.tweeners[O=f[M]]=Fe.tweeners[O]||[]).unshift(C)},prefilters:[function we(f,C,O){var M,B,z,G,le,ie,ye,Oe,$e="width"in C||"height"in C,ve=this,Ne={},Ze=f.style,ai=f.nodeType&&vt(f),pt=St.get(f,"fxshow");for(M in O.queue||(null==(G=R._queueHooks(f,"fx")).unqueued&&(G.unqueued=0,le=G.empty.fire,G.empty.fire=function(){G.unqueued||le()}),G.unqueued++,ve.always(function(){ve.always(function(){G.unqueued--,R.queue(f,"fx").length||G.empty.fire()})})),C)if(Mo.test(B=C[M])){if(delete C[M],z=z||"toggle"===B,B===(ai?"hide":"show")){if("show"!==B||!pt||void 0===pt[M])continue;ai=!0}Ne[M]=pt&&pt[M]||R.style(f,M)}if((ie=!R.isEmptyObject(C))||!R.isEmptyObject(Ne))for(M in $e&&1===f.nodeType&&(O.overflow=[Ze.overflow,Ze.overflowX,Ze.overflowY],null==(ye=pt&&pt.display)&&(ye=St.get(f,"display")),"none"===(Oe=R.css(f,"display"))&&(ye?Oe=ye:(yt([f],!0),ye=f.style.display||ye,Oe=R.css(f,"display"),yt([f]))),("inline"===Oe||"inline-block"===Oe&&null!=ye)&&"none"===R.css(f,"float")&&(ie||(ve.done(function(){Ze.display=ye}),null==ye&&(ye="none"===(Oe=Ze.display)?"":Oe)),Ze.display="inline-block")),O.overflow&&(Ze.overflow="hidden",ve.always(function(){Ze.overflow=O.overflow[0],Ze.overflowX=O.overflow[1],Ze.overflowY=O.overflow[2]})),ie=!1,Ne)ie||(pt?"hidden"in pt&&(ai=pt.hidden):pt=St.access(f,"fxshow",{display:ye}),z&&(pt.hidden=!ai),ai&&yt([f],!0),ve.done(function(){for(M in ai||yt([f]),St.remove(f,"fxshow"),Ne)R.style(f,M,Ne[M])})),ie=re(ai?pt[M]:0,M,ve),M in pt||(pt[M]=ie.start,ai&&(ie.end=ie.start,ie.start=0))}],prefilter:function(f,C){C?Fe.prefilters.unshift(f):Fe.prefilters.push(f)}}),R.speed=function(f,C,O){var M=f&&"object"==typeof f?R.extend({},f):{complete:O||!O&&C||Se(f)&&f,duration:f,easing:O&&C||C&&!Se(C)&&C};return R.fx.off?M.duration=0:"number"!=typeof M.duration&&(M.duration=M.duration in R.fx.speeds?R.fx.speeds[M.duration]:R.fx.speeds._default),(null==M.queue||!0===M.queue)&&(M.queue="fx"),M.old=M.complete,M.complete=function(){Se(M.old)&&M.old.call(this),M.queue&&R.dequeue(this,M.queue)},M},R.fn.extend({fadeTo:function(f,C,O,M){return this.filter(vt).css("opacity",0).show().end().animate({opacity:C},f,O,M)},animate:function(f,C,O,M){var B=R.isEmptyObject(f),z=R.speed(C,O,M),G=function(){var le=Fe(this,R.extend({},f),z);(B||St.get(this,"finish"))&&le.stop(!0)};return G.finish=G,B||!1===z.queue?this.each(G):this.queue(z.queue,G)},stop:function(f,C,O){var M=function(B){var z=B.stop;delete B.stop,z(O)};return"string"!=typeof f&&(O=C,C=f,f=void 0),C&&this.queue(f||"fx",[]),this.each(function(){var B=!0,z=null!=f&&f+"queueHooks",G=R.timers,le=St.get(this);if(z)le[z]&&le[z].stop&&M(le[z]);else for(z in le)le[z]&&le[z].stop&&go.test(z)&&M(le[z]);for(z=G.length;z--;)G[z].elem===this&&(null==f||G[z].queue===f)&&(G[z].anim.stop(O),B=!1,G.splice(z,1));(B||!O)&&R.dequeue(this,f)})},finish:function(f){return!1!==f&&(f=f||"fx"),this.each(function(){var C,O=St.get(this),M=O[f+"queue"],B=O[f+"queueHooks"],z=R.timers,G=M?M.length:0;for(O.finish=!0,R.queue(this,f,[]),B&&B.stop&&B.stop.call(this,!0),C=z.length;C--;)z[C].elem===this&&z[C].queue===f&&(z[C].anim.stop(!0),z.splice(C,1));for(C=0;C<G;C++)M[C]&&M[C].finish&&M[C].finish.call(this);delete O.finish})}}),R.each(["toggle","show","hide"],function(f,C){var O=R.fn[C];R.fn[C]=function(M,B,z){return null==M||"boolean"==typeof M?O.apply(this,arguments):this.animate(ue(C,!0),M,B,z)}}),R.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,C){R.fn[f]=function(O,M,B){return this.animate(C,O,M,B)}}),R.timers=[],R.fx.tick=function(){var f,C=0,O=R.timers;for(_r=Date.now();C<O.length;C++)!(f=O[C])()&&O[C]===f&&O.splice(C--,1);O.length||R.fx.stop(),_r=void 0},R.fx.timer=function(f){R.timers.push(f),R.fx.start()},R.fx.interval=13,R.fx.start=function(){si||(si=!0,Jr())},R.fx.stop=function(){si=null},R.fx.speeds={slow:600,fast:200,_default:400},R.fn.delay=function(f,C){return f=R.fx&&R.fx.speeds[f]||f,this.queue(C=C||"fx",function(O,M){var B=F.setTimeout(O,f);M.stop=function(){F.clearTimeout(B)}})},function(){var f=pe.createElement("input"),O=pe.createElement("select").appendChild(pe.createElement("option"));f.type="checkbox",se.checkOn=""!==f.value,se.optSelected=O.selected,(f=pe.createElement("input")).value="t",f.type="radio",se.radioValue="t"===f.value}();var Ye,Dt=R.expr.attrHandle;R.fn.extend({attr:function(f,C){return Lt(this,R.attr,f,C,arguments.length>1)},removeAttr:function(f){return this.each(function(){R.removeAttr(this,f)})}}),R.extend({attr:function(f,C,O){var M,B,z=f.nodeType;if(3!==z&&8!==z&&2!==z)return typeof f.getAttribute>"u"?R.prop(f,C,O):((1!==z||!R.isXMLDoc(f))&&(B=R.attrHooks[C.toLowerCase()]||(R.expr.match.bool.test(C)?Ye:void 0)),void 0!==O?null===O?void R.removeAttr(f,C):B&&"set"in B&&void 0!==(M=B.set(f,O,C))?M:(f.setAttribute(C,O+""),O):B&&"get"in B&&null!==(M=B.get(f,C))?M:(M=R.find.attr(f,C))??void 0)},attrHooks:{type:{set:function(f,C){if(!se.radioValue&&"radio"===C&&wi(f,"input")){var O=f.value;return f.setAttribute("type",C),O&&(f.value=O),C}}}},removeAttr:function(f,C){var O,M=0,B=C&&C.match(Yi);if(B&&1===f.nodeType)for(;O=B[M++];)f.removeAttribute(O)}}),Ye={set:function(f,C,O){return!1===C?R.removeAttr(f,O):f.setAttribute(O,O),O}},R.each(R.expr.match.bool.source.match(/\w+/g),function(f,C){var O=Dt[C]||R.find.attr;Dt[C]=function(M,B,z){var G,le,ie=B.toLowerCase();return z||(le=Dt[ie],Dt[ie]=G,G=null!=O(M,B,z)?ie:null,Dt[ie]=le),G}});var bi=/^(?:input|select|textarea|button)$/i,Ge=/^(?:a|area)$/i;function ji(f){return(f.match(Yi)||[]).join(" ")}function Je(f){return f.getAttribute&&f.getAttribute("class")||""}function pi(f){return Array.isArray(f)?f:"string"==typeof f&&f.match(Yi)||[]}R.fn.extend({prop:function(f,C){return Lt(this,R.prop,f,C,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[R.propFix[f]||f]})}}),R.extend({prop:function(f,C,O){var M,B,z=f.nodeType;if(3!==z&&8!==z&&2!==z)return(1!==z||!R.isXMLDoc(f))&&(B=R.propHooks[C=R.propFix[C]||C]),void 0!==O?B&&"set"in B&&void 0!==(M=B.set(f,O,C))?M:f[C]=O:B&&"get"in B&&null!==(M=B.get(f,C))?M:f[C]},propHooks:{tabIndex:{get:function(f){var C=R.find.attr(f,"tabindex");return C?parseInt(C,10):bi.test(f.nodeName)||Ge.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(R.propHooks.selected={get:function(f){return null},set:function(f){}}),R.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){R.propFix[this.toLowerCase()]=this}),R.fn.extend({addClass:function(f){var C,O,M,B,z,G;return Se(f)?this.each(function(le){R(this).addClass(f.call(this,le,Je(this)))}):(C=pi(f)).length?this.each(function(){if(M=Je(this),O=1===this.nodeType&&" "+ji(M)+" "){for(z=0;z<C.length;z++)O.indexOf(" "+(B=C[z])+" ")<0&&(O+=B+" ");G=ji(O),M!==G&&this.setAttribute("class",G)}}):this},removeClass:function(f){var C,O,M,B,z,G;return Se(f)?this.each(function(le){R(this).removeClass(f.call(this,le,Je(this)))}):arguments.length?(C=pi(f)).length?this.each(function(){if(M=Je(this),O=1===this.nodeType&&" "+ji(M)+" "){for(z=0;z<C.length;z++)for(B=C[z];O.indexOf(" "+B+" ")>-1;)O=O.replace(" "+B+" "," ");G=ji(O),M!==G&&this.setAttribute("class",G)}}):this:this.attr("class","")},toggleClass:function(f,C){var O,M,B,z,G=typeof f,le="string"===G||Array.isArray(f);return Se(f)?this.each(function(ie){R(this).toggleClass(f.call(this,ie,Je(this),C),C)}):"boolean"==typeof C&&le?C?this.addClass(f):this.removeClass(f):(O=pi(f),this.each(function(){if(le)for(z=R(this),B=0;B<O.length;B++)z.hasClass(M=O[B])?z.removeClass(M):z.addClass(M);else(void 0===f||"boolean"===G)&&((M=Je(this))&&St.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||!1===f?"":St.get(this,"__className__")||""))}))},hasClass:function(f){var C,O,M=0;for(C=" "+f+" ";O=this[M++];)if(1===O.nodeType&&(" "+ji(Je(O))+" ").indexOf(C)>-1)return!0;return!1}});var Yo=/\r/g;R.fn.extend({val:function(f){var C,O,M,B=this[0];return arguments.length?(M=Se(f),this.each(function(z){var G;1===this.nodeType&&(null==(G=M?f.call(this,z,R(this).val()):f)?G="":"number"==typeof G?G+="":Array.isArray(G)&&(G=R.map(G,function(le){return null==le?"":le+""})),(!(C=R.valHooks[this.type]||R.valHooks[this.nodeName.toLowerCase()])||!("set"in C)||void 0===C.set(this,G,"value"))&&(this.value=G))})):B?(C=R.valHooks[B.type]||R.valHooks[B.nodeName.toLowerCase()])&&"get"in C&&void 0!==(O=C.get(B,"value"))?O:"string"==typeof(O=B.value)?O.replace(Yo,""):O??"":void 0}}),R.extend({valHooks:{option:{get:function(f){return R.find.attr(f,"value")??ji(R.text(f))}},select:{get:function(f){var C,O,M,B=f.options,z=f.selectedIndex,G="select-one"===f.type,le=G?null:[],ie=G?z+1:B.length;for(M=z<0?ie:G?z:0;M<ie;M++)if(((O=B[M]).selected||M===z)&&!O.disabled&&(!O.parentNode.disabled||!wi(O.parentNode,"optgroup"))){if(C=R(O).val(),G)return C;le.push(C)}return le},set:function(f,C){for(var O,M,B=f.options,z=R.makeArray(C),G=B.length;G--;)((M=B[G]).selected=R.inArray(R.valHooks.option.get(M),z)>-1)&&(O=!0);return O||(f.selectedIndex=-1),z}}}}),R.each(["radio","checkbox"],function(){R.valHooks[this]={set:function(f,C){if(Array.isArray(C))return f.checked=R.inArray(R(f).val(),C)>-1}},se.checkOn||(R.valHooks[this].get=function(f){return null===f.getAttribute("value")?"on":f.value})}),se.focusin="onfocusin"in F;var Ts=/^(?:focusinfocus|focusoutblur)$/,qo=function(f){f.stopPropagation()};R.extend(R.event,{trigger:function(f,C,O,M){var B,z,G,le,ie,ye,Oe,$e,ve=[O||pe],Ne=K.call(f,"type")?f.type:f,Ze=K.call(f,"namespace")?f.namespace.split("."):[];if(z=$e=G=O=O||pe,3!==O.nodeType&&8!==O.nodeType&&!Ts.test(Ne+R.event.triggered)&&(Ne.indexOf(".")>-1&&(Ze=Ne.split("."),Ne=Ze.shift(),Ze.sort()),ie=Ne.indexOf(":")<0&&"on"+Ne,(f=f[R.expando]?f:new R.Event(Ne,"object"==typeof f&&f)).isTrigger=M?2:3,f.namespace=Ze.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Ze.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=O),C=null==C?[f]:R.makeArray(C,[f]),Oe=R.event.special[Ne]||{},M||!Oe.trigger||!1!==Oe.trigger.apply(O,C))){if(!M&&!Oe.noBubble&&!st(O)){for(Ts.test((le=Oe.delegateType||Ne)+Ne)||(z=z.parentNode);z;z=z.parentNode)ve.push(z),G=z;G===(O.ownerDocument||pe)&&ve.push(G.defaultView||G.parentWindow||F)}for(B=0;(z=ve[B++])&&!f.isPropagationStopped();)$e=z,f.type=B>1?le:Oe.bindType||Ne,(ye=(St.get(z,"events")||Object.create(null))[f.type]&&St.get(z,"handle"))&&ye.apply(z,C),(ye=ie&&z[ie])&&ye.apply&&Ln(z)&&(f.result=ye.apply(z,C),!1===f.result&&f.preventDefault());return f.type=Ne,!M&&!f.isDefaultPrevented()&&(!Oe._default||!1===Oe._default.apply(ve.pop(),C))&&Ln(O)&&ie&&Se(O[Ne])&&!st(O)&&((G=O[ie])&&(O[ie]=null),R.event.triggered=Ne,f.isPropagationStopped()&&$e.addEventListener(Ne,qo),O[Ne](),f.isPropagationStopped()&&$e.removeEventListener(Ne,qo),R.event.triggered=void 0,G&&(O[ie]=G)),f.result}},simulate:function(f,C,O){var M=R.extend(new R.Event,O,{type:f,isSimulated:!0});R.event.trigger(M,null,C)}}),R.fn.extend({trigger:function(f,C){return this.each(function(){R.event.trigger(f,C,this)})},triggerHandler:function(f,C){var O=this[0];if(O)return R.event.trigger(f,C,O,!0)}}),se.focusin||R.each({focus:"focusin",blur:"focusout"},function(f,C){var O=function(M){R.event.simulate(C,M.target,R.event.fix(M))};R.event.special[C]={setup:function(){var M=this.ownerDocument||this.document||this,B=St.access(M,C);B||M.addEventListener(f,O,!0),St.access(M,C,(B||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,B=St.access(M,C)-1;B?St.access(M,C,B):(M.removeEventListener(f,O,!0),St.remove(M,C))}}});var Ur=F.location,qn={guid:Date.now()},Ha=/\?/;R.parseXML=function(f){var C,O;if(!f||"string"!=typeof f)return null;try{C=(new F.DOMParser).parseFromString(f,"text/xml")}catch{}return O=C&&C.getElementsByTagName("parsererror")[0],(!C||O)&&R.error("Invalid XML: "+(O?R.map(O.childNodes,function(M){return M.textContent}).join("\n"):f)),C};var cs=/\[\]$/,xs=/\r?\n/g,zr=/^(?:submit|button|image|reset|file)$/i,mo=/^(?:input|select|textarea|keygen)/i;function Ws(f,C,O,M){var B;if(Array.isArray(C))R.each(C,function(z,G){O||cs.test(f)?M(f,G):Ws(f+"["+("object"==typeof G&&null!=G?z:"")+"]",G,O,M)});else if(O||"object"!==Re(C))M(f,C);else for(B in C)Ws(f+"["+B+"]",C[B],O,M)}R.param=function(f,C){var O,M=[],B=function(z,G){var le=Se(G)?G():G;M[M.length]=encodeURIComponent(z)+"="+encodeURIComponent(le??"")};if(null==f)return"";if(Array.isArray(f)||f.jquery&&!R.isPlainObject(f))R.each(f,function(){B(this.name,this.value)});else for(O in f)Ws(O,f[O],C,B);return M.join("&")},R.fn.extend({serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=R.prop(this,"elements");return f?R.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!R(this).is(":disabled")&&mo.test(this.nodeName)&&!zr.test(f)&&(this.checked||!ki.test(f))}).map(function(f,C){var O=R(this).val();return null==O?null:Array.isArray(O)?R.map(O,function(M){return{name:C.name,value:M.replace(xs,"\r\n")}}):{name:C.name,value:O.replace(xs,"\r\n")}}).get()}});var dl=/%20/g,Wr=/#.*$/,Ko=/([?&])_=[^&]*/,As=/^(.*?):[ \t]*([^\r\n]*)$/gm,$a=/^(?:GET|HEAD)$/,ir=/^\/\//,Vi={},hs={},Ba="*/".concat("*"),Ht=pe.createElement("a");function oe(f){return function(C,O){"string"!=typeof C&&(O=C,C="*");var M,B=0,z=C.toLowerCase().match(Yi)||[];if(Se(O))for(;M=z[B++];)"+"===M[0]?(M=M.slice(1)||"*",(f[M]=f[M]||[]).unshift(O)):(f[M]=f[M]||[]).push(O)}}function rt(f,C,O,M){var B={},z=f===hs;function G(le){var ie;return B[le]=!0,R.each(f[le]||[],function(ye,Oe){var $e=Oe(C,O,M);return"string"!=typeof $e||z||B[$e]?z?!(ie=$e):void 0:(C.dataTypes.unshift($e),G($e),!1)}),ie}return G(C.dataTypes[0])||!B["*"]&&G("*")}function ft(f,C){var O,M,B=R.ajaxSettings.flatOptions||{};for(O in C)void 0!==C[O]&&((B[O]?f:M||(M={}))[O]=C[O]);return M&&R.extend(!0,f,M),f}Ht.href=Ur.href,R.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ur.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ur.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ba,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":R.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,C){return C?ft(ft(f,R.ajaxSettings),C):ft(R.ajaxSettings,f)},ajaxPrefilter:oe(Vi),ajaxTransport:oe(hs),ajax:function(f,C){"object"==typeof f&&(C=f,f=void 0);var O,M,B,z,G,le,ie,ye,Oe,$e,ve=R.ajaxSetup({},C=C||{}),Ne=ve.context||ve,Ze=ve.context&&(Ne.nodeType||Ne.jquery)?R(Ne):R.event,ai=R.Deferred(),pt=R.Callbacks("once memory"),xn=ve.statusCode||{},Xi={},$n={},en="canceled",qt={readyState:0,getResponseHeader:function(Ii){var Nt;if(ie){if(!z)for(z={};Nt=As.exec(B);)z[Nt[1].toLowerCase()+" "]=(z[Nt[1].toLowerCase()+" "]||[]).concat(Nt[2]);Nt=z[Ii.toLowerCase()+" "]}return null==Nt?null:Nt.join(", ")},getAllResponseHeaders:function(){return ie?B:null},setRequestHeader:function(Ii,Nt){return null==ie&&(Ii=$n[Ii.toLowerCase()]=$n[Ii.toLowerCase()]||Ii,Xi[Ii]=Nt),this},overrideMimeType:function(Ii){return null==ie&&(ve.mimeType=Ii),this},statusCode:function(Ii){var Nt;if(Ii)if(ie)qt.always(Ii[qt.status]);else for(Nt in Ii)xn[Nt]=[xn[Nt],Ii[Nt]];return this},abort:function(Ii){var Nt=Ii||en;return O&&O.abort(Nt),yn(0,Nt),this}};if(ai.promise(qt),ve.url=((f||ve.url||Ur.href)+"").replace(ir,Ur.protocol+"//"),ve.type=C.method||C.type||ve.method||ve.type,ve.dataTypes=(ve.dataType||"*").toLowerCase().match(Yi)||[""],null==ve.crossDomain){le=pe.createElement("a");try{le.href=ve.url,le.href=le.href,ve.crossDomain=Ht.protocol+"//"+Ht.host!=le.protocol+"//"+le.host}catch{ve.crossDomain=!0}}if(ve.data&&ve.processData&&"string"!=typeof ve.data&&(ve.data=R.param(ve.data,ve.traditional)),rt(Vi,ve,C,qt),ie)return qt;for(Oe in(ye=R.event&&ve.global)&&0==R.active++&&R.event.trigger("ajaxStart"),ve.type=ve.type.toUpperCase(),ve.hasContent=!$a.test(ve.type),M=ve.url.replace(Wr,""),ve.hasContent?ve.data&&ve.processData&&0===(ve.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ve.data=ve.data.replace(dl,"+")):($e=ve.url.slice(M.length),ve.data&&(ve.processData||"string"==typeof ve.data)&&(M+=(Ha.test(M)?"&":"?")+ve.data,delete ve.data),!1===ve.cache&&(M=M.replace(Ko,"$1"),$e=(Ha.test(M)?"&":"?")+"_="+qn.guid+++$e),ve.url=M+$e),ve.ifModified&&(R.lastModified[M]&&qt.setRequestHeader("If-Modified-Since",R.lastModified[M]),R.etag[M]&&qt.setRequestHeader("If-None-Match",R.etag[M])),(ve.data&&ve.hasContent&&!1!==ve.contentType||C.contentType)&&qt.setRequestHeader("Content-Type",ve.contentType),qt.setRequestHeader("Accept",ve.dataTypes[0]&&ve.accepts[ve.dataTypes[0]]?ve.accepts[ve.dataTypes[0]]+("*"!==ve.dataTypes[0]?", "+Ba+"; q=0.01":""):ve.accepts["*"]),ve.headers)qt.setRequestHeader(Oe,ve.headers[Oe]);if(ve.beforeSend&&(!1===ve.beforeSend.call(Ne,qt,ve)||ie))return qt.abort();if(en="abort",pt.add(ve.complete),qt.done(ve.success),qt.fail(ve.error),O=rt(hs,ve,C,qt)){if(qt.readyState=1,ye&&Ze.trigger("ajaxSend",[qt,ve]),ie)return qt;ve.async&&ve.timeout>0&&(G=F.setTimeout(function(){qt.abort("timeout")},ve.timeout));try{ie=!1,O.send(Xi,yn)}catch(Ii){if(ie)throw Ii;yn(-1,Ii)}}else yn(-1,"No Transport");function yn(Ii,Nt,g,D){var N,W,Z,fe,_e,Pe=Nt;ie||(ie=!0,G&&F.clearTimeout(G),O=void 0,B=D||"",qt.readyState=Ii>0?4:0,N=Ii>=200&&Ii<300||304===Ii,g&&(fe=function Ei(f,C,O){for(var M,B,z,G,le=f.contents,ie=f.dataTypes;"*"===ie[0];)ie.shift(),void 0===M&&(M=f.mimeType||C.getResponseHeader("Content-Type"));if(M)for(B in le)if(le[B]&&le[B].test(M)){ie.unshift(B);break}if(ie[0]in O)z=ie[0];else{for(B in O){if(!ie[0]||f.converters[B+" "+ie[0]]){z=B;break}G||(G=B)}z=z||G}if(z)return z!==ie[0]&&ie.unshift(z),O[z]}(ve,qt,g)),!N&&R.inArray("script",ve.dataTypes)>-1&&R.inArray("json",ve.dataTypes)<0&&(ve.converters["text script"]=function(){}),fe=function Kn(f,C,O,M){var B,z,G,le,ie,ye={},Oe=f.dataTypes.slice();if(Oe[1])for(G in f.converters)ye[G.toLowerCase()]=f.converters[G];for(z=Oe.shift();z;)if(f.responseFields[z]&&(O[f.responseFields[z]]=C),!ie&&M&&f.dataFilter&&(C=f.dataFilter(C,f.dataType)),ie=z,z=Oe.shift())if("*"===z)z=ie;else if("*"!==ie&&ie!==z){if(!(G=ye[ie+" "+z]||ye["* "+z]))for(B in ye)if((le=B.split(" "))[1]===z&&(G=ye[ie+" "+le[0]]||ye["* "+le[0]])){!0===G?G=ye[B]:!0!==ye[B]&&(z=le[0],Oe.unshift(le[1]));break}if(!0!==G)if(G&&f.throws)C=G(C);else try{C=G(C)}catch($e){return{state:"parsererror",error:G?$e:"No conversion from "+ie+" to "+z}}}return{state:"success",data:C}}(ve,fe,qt,N),N?(ve.ifModified&&((_e=qt.getResponseHeader("Last-Modified"))&&(R.lastModified[M]=_e),(_e=qt.getResponseHeader("etag"))&&(R.etag[M]=_e)),204===Ii||"HEAD"===ve.type?Pe="nocontent":304===Ii?Pe="notmodified":(Pe=fe.state,W=fe.data,N=!(Z=fe.error))):(Z=Pe,(Ii||!Pe)&&(Pe="error",Ii<0&&(Ii=0))),qt.status=Ii,qt.statusText=(Nt||Pe)+"",N?ai.resolveWith(Ne,[W,Pe,qt]):ai.rejectWith(Ne,[qt,Pe,Z]),qt.statusCode(xn),xn=void 0,ye&&Ze.trigger(N?"ajaxSuccess":"ajaxError",[qt,ve,N?W:Z]),pt.fireWith(Ne,[qt,Pe]),ye&&(Ze.trigger("ajaxComplete",[qt,ve]),--R.active||R.event.trigger("ajaxStop")))}return qt},getJSON:function(f,C,O){return R.get(f,C,O,"json")},getScript:function(f,C){return R.get(f,void 0,C,"script")}}),R.each(["get","post"],function(f,C){R[C]=function(O,M,B,z){return Se(M)&&(z=z||B,B=M,M=void 0),R.ajax(R.extend({url:O,type:C,dataType:z,data:M,success:B},R.isPlainObject(O)&&O))}}),R.ajaxPrefilter(function(f){var C;for(C in f.headers)"content-type"===C.toLowerCase()&&(f.contentType=f.headers[C]||"")}),R._evalUrl=function(f,C,O){return R.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){R.globalEval(M,C,O)}})},R.fn.extend({wrapAll:function(f){var C;return this[0]&&(Se(f)&&(f=f.call(this[0])),C=R(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&C.insertBefore(this[0]),C.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(f){return Se(f)?this.each(function(C){R(this).wrapInner(f.call(this,C))}):this.each(function(){var C=R(this),O=C.contents();O.length?O.wrapAll(f):C.append(f)})},wrap:function(f){var C=Se(f);return this.each(function(O){R(this).wrapAll(C?f.call(this,O):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){R(this).replaceWith(this.childNodes)}),this}}),R.expr.pseudos.hidden=function(f){return!R.expr.pseudos.visible(f)},R.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},R.ajaxSettings.xhr=function(){try{return new F.XMLHttpRequest}catch{}};var Pn={0:200,1223:204},un=R.ajaxSettings.xhr();se.cors=!!un&&"withCredentials"in un,se.ajax=un=!!un,R.ajaxTransport(function(f){var C,O;if(se.cors||un&&!f.crossDomain)return{send:function(M,B){var z,G=f.xhr();if(G.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(z in f.xhrFields)G[z]=f.xhrFields[z];for(z in f.mimeType&&G.overrideMimeType&&G.overrideMimeType(f.mimeType),!f.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest"),M)G.setRequestHeader(z,M[z]);C=function(le){return function(){C&&(C=O=G.onload=G.onerror=G.onabort=G.ontimeout=G.onreadystatechange=null,"abort"===le?G.abort():"error"===le?"number"!=typeof G.status?B(0,"error"):B(G.status,G.statusText):B(Pn[G.status]||G.status,G.statusText,"text"!==(G.responseType||"text")||"string"!=typeof G.responseText?{binary:G.response}:{text:G.responseText},G.getAllResponseHeaders()))}},G.onload=C(),O=G.onerror=G.ontimeout=C("error"),void 0!==G.onabort?G.onabort=O:G.onreadystatechange=function(){4===G.readyState&&F.setTimeout(function(){C&&O()})},C=C("abort");try{G.send(f.hasContent&&f.data||null)}catch(le){if(C)throw le}},abort:function(){C&&C()}}}),R.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),R.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return R.globalEval(f),f}}}),R.ajaxPrefilter("script",function(f){void 0===f.cache&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),R.ajaxTransport("script",function(f){var C,O;if(f.crossDomain||f.scriptAttrs)return{send:function(M,B){C=R("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",O=function(z){C.remove(),O=null,z&&B("error"===z.type?404:200,z.type)}),pe.head.appendChild(C[0])},abort:function(){O&&O()}}});var f,fs=[],nn=/(=)\?(?=&|$)|\?\?/;R.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=fs.pop()||R.expando+"_"+qn.guid++;return this[f]=!0,f}}),R.ajaxPrefilter("json jsonp",function(f,C,O){var M,B,z,G=!1!==f.jsonp&&(nn.test(f.url)?"url":"string"==typeof f.data&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(f.data)&&"data");if(G||"jsonp"===f.dataTypes[0])return M=f.jsonpCallback=Se(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,G?f[G]=f[G].replace(nn,"$1"+M):!1!==f.jsonp&&(f.url+=(Ha.test(f.url)?"&":"?")+f.jsonp+"="+M),f.converters["script json"]=function(){return z||R.error(M+" was not called"),z[0]},f.dataTypes[0]="json",B=F[M],F[M]=function(){z=arguments},O.always(function(){void 0===B?R(F).removeProp(M):F[M]=B,f[M]&&(f.jsonpCallback=C.jsonpCallback,fs.push(M)),z&&Se(B)&&B(z[0]),z=B=void 0}),"script"}),se.createHTMLDocument=((f=pe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===f.childNodes.length),R.parseHTML=function(f,C,O){return"string"!=typeof f?[]:("boolean"==typeof C&&(O=C,C=!1),C||(se.createHTMLDocument?((M=(C=pe.implementation.createHTMLDocument("")).createElement("base")).href=pe.location.href,C.head.appendChild(M)):C=pe),z=!O&&[],(B=ut.exec(f))?[C.createElement(B[1])]:(B=Pt([f],C,z),z&&z.length&&R(z).remove(),R.merge([],B.childNodes)));var M,B,z},R.fn.load=function(f,C,O){var M,B,z,G=this,le=f.indexOf(" ");return le>-1&&(M=ji(f.slice(le)),f=f.slice(0,le)),Se(C)?(O=C,C=void 0):C&&"object"==typeof C&&(B="POST"),G.length>0&&R.ajax({url:f,type:B||"GET",dataType:"html",data:C}).done(function(ie){z=arguments,G.html(M?R("<div>").append(R.parseHTML(ie)).find(M):ie)}).always(O&&function(ie,ye){G.each(function(){O.apply(this,z||[ie.responseText,ye,ie])})}),this},R.expr.pseudos.animated=function(f){return R.grep(R.timers,function(C){return f===C.elem}).length},R.offset={setOffset:function(f,C,O){var M,B,z,G,le,ie,Oe=R.css(f,"position"),$e=R(f),ve={};"static"===Oe&&(f.style.position="relative"),le=$e.offset(),z=R.css(f,"top"),ie=R.css(f,"left"),("absolute"===Oe||"fixed"===Oe)&&(z+ie).indexOf("auto")>-1?(G=(M=$e.position()).top,B=M.left):(G=parseFloat(z)||0,B=parseFloat(ie)||0),Se(C)&&(C=C.call(f,O,R.extend({},le))),null!=C.top&&(ve.top=C.top-le.top+G),null!=C.left&&(ve.left=C.left-le.left+B),"using"in C?C.using.call(f,ve):$e.css(ve)}},R.fn.extend({offset:function(f){if(arguments.length)return void 0===f?this:this.each(function(B){R.offset.setOffset(this,f,B)});var C,O,M=this[0];return M?M.getClientRects().length?{top:(C=M.getBoundingClientRect()).top+(O=M.ownerDocument.defaultView).pageYOffset,left:C.left+O.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var f,C,O,M=this[0],B={top:0,left:0};if("fixed"===R.css(M,"position"))C=M.getBoundingClientRect();else{for(C=this.offset(),O=M.ownerDocument,f=M.offsetParent||O.documentElement;f&&(f===O.body||f===O.documentElement)&&"static"===R.css(f,"position");)f=f.parentNode;f&&f!==M&&1===f.nodeType&&((B=R(f).offset()).top+=R.css(f,"borderTopWidth",!0),B.left+=R.css(f,"borderLeftWidth",!0))}return{top:C.top-B.top-R.css(M,"marginTop",!0),left:C.left-B.left-R.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&"static"===R.css(f,"position");)f=f.offsetParent;return f||Ie})}}),R.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,C){var O="pageYOffset"===C;R.fn[f]=function(M){return Lt(this,function(B,z,G){var le;if(st(B)?le=B:9===B.nodeType&&(le=B.defaultView),void 0===G)return le?le[C]:B[z];le?le.scrollTo(O?le.pageXOffset:G,O?G:le.pageYOffset):B[z]=G},f,M,arguments.length)}}),R.each(["top","left"],function(f,C){R.cssHooks[C]=Qr(se.pixelPosition,function(O,M){if(M)return M=Br(O,C),Zi.test(M)?R(O).position()[C]+"px":M})}),R.each({Height:"height",Width:"width"},function(f,C){R.each({padding:"inner"+f,content:C,"":"outer"+f},function(O,M){R.fn[M]=function(B,z){var G=arguments.length&&(O||"boolean"!=typeof B),le=O||(!0===B||!0===z?"margin":"border");return Lt(this,function(ie,ye,Oe){var $e;return st(ie)?0===M.indexOf("outer")?ie["inner"+f]:ie.document.documentElement["client"+f]:9===ie.nodeType?($e=ie.documentElement,Math.max(ie.body["scroll"+f],$e["scroll"+f],ie.body["offset"+f],$e["offset"+f],$e["client"+f])):void 0===Oe?R.css(ie,ye,le):R.style(ie,ye,Oe,le)},C,G?B:void 0,G)}})}),R.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,C){R.fn[C]=function(O){return this.on(C,O)}}),R.fn.extend({bind:function(f,C,O){return this.on(f,null,C,O)},unbind:function(f,C){return this.off(f,null,C)},delegate:function(f,C,O,M){return this.on(C,f,O,M)},undelegate:function(f,C,O){return 1===arguments.length?this.off(f,"**"):this.off(C,f||"**",O)},hover:function(f,C){return this.mouseenter(f).mouseleave(C||f)}}),R.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,C){R.fn[C]=function(O,M){return arguments.length>0?this.on(C,null,O,M):this.trigger(C)}});var Pr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;R.proxy=function(f,C){var O,M,B;if("string"==typeof C&&(O=f[C],C=f,f=O),Se(f))return M=_.call(arguments,2),B=function(){return f.apply(C||this,M.concat(_.call(arguments)))},B.guid=f.guid=f.guid||R.guid++,B},R.holdReady=function(f){f?R.readyWait++:R.ready(!0)},R.isArray=Array.isArray,R.parseJSON=JSON.parse,R.nodeName=wi,R.isFunction=Se,R.isWindow=st,R.camelCase=Ae,R.type=Re,R.now=Date.now,R.isNumeric=function(f){var C=R.type(f);return("number"===C||"string"===C)&&!isNaN(f-parseFloat(f))},R.trim=function(f){return null==f?"":(f+"").replace(Pr,"$1")},void 0!==(I=function(){return R}.apply(w,[]))&&(v.exports=I);var Gr=F.jQuery,cl=F.$;return R.noConflict=function(f){return F.$===R&&(F.$=cl),f&&F.jQuery===R&&(F.jQuery=Gr),R},typeof L>"u"&&(F.jQuery=F.$=R),R})},1870:(v,w,A)=>{"use strict";var I=A(5630),F=A(8997);function L(b,c){return function(){throw new Error("Function yaml."+b+" is removed in js-yaml 4. Use yaml."+c+" instead, which is now safe by default.")}}v.exports.Type=A(9798),v.exports.Schema=A(6627),v.exports.FAILSAFE_SCHEMA=A(8830),v.exports.JSON_SCHEMA=A(5495),v.exports.CORE_SCHEMA=A(3698),v.exports.DEFAULT_SCHEMA=A(3467),v.exports.load=I.load,v.exports.loadAll=I.loadAll,v.exports.dump=F.dump,v.exports.YAMLException=A(5565),v.exports.types={binary:A(6857),float:A(3518),map:A(1556),null:A(4332),pairs:A(866),set:A(3852),timestamp:A(5714),bool:A(1990),int:A(4222),merge:A(4959),omap:A(9461),seq:A(1801),str:A(2103)},v.exports.safeLoad=L("safeLoad","load"),v.exports.safeLoadAll=L("safeLoadAll","loadAll"),v.exports.safeDump=L("safeDump","dump")},2620:v=>{"use strict";function w(c){return typeof c>"u"||null===c}v.exports.isNothing=w,v.exports.isObject=function A(c){return"object"==typeof c&&null!==c},v.exports.toArray=function I(c){return Array.isArray(c)?c:w(c)?[]:[c]},v.exports.repeat=function L(c,_){var T,y="";for(T=0;T<_;T+=1)y+=c;return y},v.exports.isNegativeZero=function b(c){return 0===c&&Number.NEGATIVE_INFINITY===1/c},v.exports.extend=function F(c,_){var y,T,x,k;if(_)for(y=0,T=(k=Object.keys(_)).length;y<T;y+=1)c[x=k[y]]=_[x];return c}},8997:(v,w,A)=>{"use strict";var I=A(2620),F=A(5565),L=A(3467),b=Object.prototype.toString,c=Object.prototype.hasOwnProperty,_=65279,ii={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Et=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ct=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function gt(j){var Te,Ve,ke;if(Te=j.toString(16).toUpperCase(),j<=255)Ve="x",ke=2;else if(j<=65535)Ve="u",ke=4;else{if(!(j<=4294967295))throw new F("code point within a string may not be greater than 0xFFFFFFFF");Ve="U",ke=8}return"\\"+Ve+I.repeat("0",ke-Te.length)+Te}function Yi(j){this.schema=j.schema||L,this.indent=Math.max(1,j.indent||2),this.noArrayIndent=j.noArrayIndent||!1,this.skipInvalid=j.skipInvalid||!1,this.flowLevel=I.isNothing(j.flowLevel)?-1:j.flowLevel,this.styleMap=function Ri(j,Te){var Ve,ke,Ke,dt,Pt,mt,Tt;if(null===Te)return{};for(Ve={},Ke=0,dt=(ke=Object.keys(Te)).length;Ke<dt;Ke+=1)Pt=ke[Ke],mt=String(Te[Pt]),"!!"===Pt.slice(0,2)&&(Pt="tag:yaml.org,2002:"+Pt.slice(2)),(Tt=j.compiledTypeMap.fallback[Pt])&&c.call(Tt.styleAliases,mt)&&(mt=Tt.styleAliases[mt]),Ve[Pt]=mt;return Ve}(this.schema,j.styles||null),this.sortKeys=j.sortKeys||!1,this.lineWidth=j.lineWidth||80,this.noRefs=j.noRefs||!1,this.noCompatMode=j.noCompatMode||!1,this.condenseFlow=j.condenseFlow||!1,this.quotingType='"'===j.quotingType?2:1,this.forceQuotes=j.forceQuotes||!1,this.replacer="function"==typeof j.replacer?j.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function It(j,Te){for(var Pt,Ve=I.repeat(" ",Te),ke=0,Ke=-1,dt="",mt=j.length;ke<mt;)-1===(Ke=j.indexOf("\n",ke))?(Pt=j.slice(ke),ke=mt):(Pt=j.slice(ke,Ke+1),ke=Ke+1),Pt.length&&"\n"!==Pt&&(dt+=Ve),dt+=Pt;return dt}function Qt(j,Te){return"\n"+I.repeat(" ",j.indent*Te)}function an(j){return 32===j||9===j}function Ai(j){return 32<=j&&j<=126||161<=j&&j<=55295&&8232!==j&&8233!==j||57344<=j&&j<=65533&&j!==_||65536<=j&&j<=1114111}function Mi(j){return Ai(j)&&j!==_&&13!==j&&10!==j}function Pi(j,Te,Ve){var ke=Mi(j),Ke=ke&&!an(j);return(Ve?ke:ke&&44!==j&&91!==j&&93!==j&&123!==j&&125!==j)&&35!==j&&!(58===Te&&!Ke)||Mi(Te)&&!an(Te)&&35===j||58===Te&&Ke}function Oi(j,Te){var ke,Ve=j.charCodeAt(Te);return Ve>=55296&&Ve<=56319&&Te+1<j.length&&(ke=j.charCodeAt(Te+1))>=56320&&ke<=57343?1024*(Ve-55296)+ke-56320+65536:Ve}function fo(j){return/^\n* /.test(j)}function Or(j,Te,Ve,ke,Ke){j.dump=function(){if(0===Te.length)return 2===j.quotingType?'""':"''";if(!j.noCompatMode&&(-1!==Et.indexOf(Te)||ct.test(Te)))return 2===j.quotingType?'"'+Te+'"':"'"+Te+"'";var dt=j.indent*Math.max(1,Ve),Pt=-1===j.lineWidth?-1:Math.max(Math.min(j.lineWidth,40),j.lineWidth-dt);switch(function Ar(j,Te,Ve,ke,Ke,dt,Pt,mt){var Tt,Gt=0,Ki=null,ln=!1,Li=!1,Hr=-1!==ke,$r=-1,mr=function Lt(j){return Ai(j)&&j!==_&&!an(j)&&45!==j&&63!==j&&58!==j&&44!==j&&91!==j&&93!==j&&123!==j&&125!==j&&35!==j&&38!==j&&42!==j&&33!==j&&124!==j&&61!==j&&62!==j&&39!==j&&34!==j&&37!==j&&64!==j&&96!==j}(Oi(j,0))&&function Wi(j){return!an(j)&&58!==j}(Oi(j,j.length-1));if(Te||Pt)for(Tt=0;Tt<j.length;Gt>=65536?Tt+=2:Tt++){if(!Ai(Gt=Oi(j,Tt)))return 5;mr=mr&&Pi(Gt,Ki,mt),Ki=Gt}else{for(Tt=0;Tt<j.length;Gt>=65536?Tt+=2:Tt++){if(10===(Gt=Oi(j,Tt)))ln=!0,Hr&&(Li=Li||Tt-$r-1>ke&&" "!==j[$r+1],$r=Tt);else if(!Ai(Gt))return 5;mr=mr&&Pi(Gt,Ki,mt),Ki=Gt}Li=Li||Hr&&Tt-$r-1>ke&&" "!==j[$r+1]}return ln||Li?Ve>9&&fo(j)?5:Pt?2===dt?5:2:Li?4:3:!mr||Pt||Ke(j)?2===dt?5:2:1}(Te,ke||j.flowLevel>-1&&Ve>=j.flowLevel,j.indent,Pt,function Tt(Gt){return function gn(j,Te){var Ve,ke;for(Ve=0,ke=j.implicitTypes.length;Ve<ke;Ve+=1)if(j.implicitTypes[Ve].resolve(Te))return!0;return!1}(j,Gt)},j.quotingType,j.forceQuotes&&!ke,Ke)){case 1:return Te;case 2:return"'"+Te.replace(/'/g,"''")+"'";case 3:return"|"+Xr(Te,j.indent)+S(It(Te,dt));case 4:return">"+Xr(Te,j.indent)+S(It(function ce(j,Te){for(var dt,Pt,Ve=/(\n+)([^\n]*)/g,ke=(Gt=void 0,Gt=j.indexOf("\n"),Ve.lastIndex=Gt=-1!==Gt?Gt:j.length,Ce(j.slice(0,Gt),Te)),Ke="\n"===j[0]||" "===j[0];Pt=Ve.exec(j);){var Tt=Pt[2];dt=" "===Tt[0],ke+=Pt[1]+(Ke||dt||""===Tt?"":"\n")+Ce(Tt,Te),Ke=dt}var Gt;return ke}(Te,Pt),dt));case 5:return'"'+function me(j){for(var ke,Te="",Ve=0,Ke=0;Ke<j.length;Ve>=65536?Ke+=2:Ke++)Ve=Oi(j,Ke),!(ke=ii[Ve])&&Ai(Ve)?(Te+=j[Ke],Ve>=65536&&(Te+=j[Ke+1])):Te+=ke||gt(Ve);return Te}(Te)+'"';default:throw new F("impossible error: invalid scalar style")}}()}function Xr(j,Te){var Ve=fo(j)?String(Te):"",ke="\n"===j[j.length-1];return Ve+(!ke||"\n"!==j[j.length-2]&&"\n"!==j?ke?"":"-":"+")+"\n"}function S(j){return"\n"===j[j.length-1]?j.slice(0,-1):j}function Ce(j,Te){if(""===j||" "===j[0])return j;for(var ke,dt,Ve=/ [^ ]/g,Ke=0,Pt=0,mt=0,Tt="";ke=Ve.exec(j);)(mt=ke.index)-Ke>Te&&(Tt+="\n"+j.slice(Ke,dt=Pt>Ke?Pt:mt),Ke=dt+1),Pt=mt;return Tt+="\n",(Tt+=j.length-Ke>Te&&Pt>Ke?j.slice(Ke,Pt)+"\n"+j.slice(Pt+1):j.slice(Ke)).slice(1)}function _t(j,Te,Ve){var ke,Ke,dt,Pt,mt,Tt;for(dt=0,Pt=(Ke=Ve?j.explicitTypes:j.implicitTypes).length;dt<Pt;dt+=1)if(((mt=Ke[dt]).instanceOf||mt.predicate)&&(!mt.instanceOf||"object"==typeof Te&&Te instanceof mt.instanceOf)&&(!mt.predicate||mt.predicate(Te))){if(j.tag=Ve?mt.multi&&mt.representName?mt.representName(Te):mt.tag:"?",mt.represent){if(Tt=j.styleMap[mt.tag]||mt.defaultStyle,"[object Function]"===b.call(mt.represent))ke=mt.represent(Te,Tt);else{if(!c.call(mt.represent,Tt))throw new F("!<"+mt.tag+'> tag resolver accepts not "'+Tt+'" style');ke=mt.represent[Tt](Te,Tt)}j.dump=ke}return!0}return!1}function Ft(j,Te,Ve,ke,Ke,dt,Pt){j.tag=null,j.dump=Ve,_t(j,Ve,!1)||_t(j,Ve,!0);var Gt,mt=b.call(j.dump),Tt=ke;ke&&(ke=j.flowLevel<0||j.flowLevel>Te);var ln,Li,Ki="[object Object]"===mt||"[object Array]"===mt;if(Ki&&(Li=-1!==(ln=j.duplicates.indexOf(Ve))),(null!==j.tag&&"?"!==j.tag||Li||2!==j.indent&&Te>0)&&(Ke=!1),Li&&j.usedDuplicates[ln])j.dump="*ref_"+ln;else{if(Ki&&Li&&!j.usedDuplicates[ln]&&(j.usedDuplicates[ln]=!0),"[object Object]"===mt)ke&&0!==Object.keys(j.dump).length?(function vt(j,Te,Ve,ke){var mt,Tt,Gt,Ki,ln,Li,Ke="",dt=j.tag,Pt=Object.keys(Ve);if(!0===j.sortKeys)Pt.sort();else if("function"==typeof j.sortKeys)Pt.sort(j.sortKeys);else if(j.sortKeys)throw new F("sortKeys must be a boolean or a function");for(mt=0,Tt=Pt.length;mt<Tt;mt+=1)Li="",(!ke||""!==Ke)&&(Li+=Qt(j,Te)),Ki=Ve[Gt=Pt[mt]],j.replacer&&(Ki=j.replacer.call(Ve,Gt,Ki)),Ft(j,Te+1,Gt,!0,!0,!0)&&((ln=null!==j.tag&&"?"!==j.tag||j.dump&&j.dump.length>1024)&&(j.dump&&10===j.dump.charCodeAt(0)?Li+="?":Li+="? "),Li+=j.dump,ln&&(Li+=Qt(j,Te)),Ft(j,Te+1,Ki,!0,ln)&&(j.dump&&10===j.dump.charCodeAt(0)?Li+=":":Li+=": ",Ke+=Li+=j.dump));j.tag=dt,j.dump=Ke||"{}"}(j,Te,j.dump,Ke),Li&&(j.dump="&ref_"+ln+j.dump)):(function Qe(j,Te,Ve){var Pt,mt,Tt,Gt,Ki,ke="",Ke=j.tag,dt=Object.keys(Ve);for(Pt=0,mt=dt.length;Pt<mt;Pt+=1)Ki="",""!==ke&&(Ki+=", "),j.condenseFlow&&(Ki+='"'),Gt=Ve[Tt=dt[Pt]],j.replacer&&(Gt=j.replacer.call(Ve,Tt,Gt)),Ft(j,Te,Tt,!1,!1)&&(j.dump.length>1024&&(Ki+="? "),Ki+=j.dump+(j.condenseFlow?'"':"")+":"+(j.condenseFlow?"":" "),Ft(j,Te,Gt,!1,!1)&&(ke+=Ki+=j.dump));j.tag=Ke,j.dump="{"+ke+"}"}(j,Te,j.dump),Li&&(j.dump="&ref_"+ln+" "+j.dump));else if("[object Array]"===mt)ke&&0!==j.dump.length?(function ze(j,Te,Ve,ke){var Pt,mt,Tt,Ke="",dt=j.tag;for(Pt=0,mt=Ve.length;Pt<mt;Pt+=1)Tt=Ve[Pt],j.replacer&&(Tt=j.replacer.call(Ve,String(Pt),Tt)),(Ft(j,Te+1,Tt,!0,!0,!1,!0)||typeof Tt>"u"&&Ft(j,Te+1,null,!0,!0,!1,!0))&&((!ke||""!==Ke)&&(Ke+=Qt(j,Te)),j.dump&&10===j.dump.charCodeAt(0)?Ke+="-":Ke+="- ",Ke+=j.dump);j.tag=dt,j.dump=Ke||"[]"}(j,j.noArrayIndent&&!Pt&&Te>0?Te-1:Te,j.dump,Ke),Li&&(j.dump="&ref_"+ln+j.dump)):(function Ie(j,Te,Ve){var dt,Pt,mt,ke="",Ke=j.tag;for(dt=0,Pt=Ve.length;dt<Pt;dt+=1)mt=Ve[dt],j.replacer&&(mt=j.replacer.call(Ve,String(dt),mt)),(Ft(j,Te,mt,!1,!1)||typeof mt>"u"&&Ft(j,Te,null,!1,!1))&&(""!==ke&&(ke+=","+(j.condenseFlow?"":" ")),ke+=j.dump);j.tag=Ke,j.dump="["+ke+"]"}(j,Te,j.dump),Li&&(j.dump="&ref_"+ln+" "+j.dump));else{if("[object String]"!==mt){if("[object Undefined]"===mt)return!1;if(j.skipInvalid)return!1;throw new F("unacceptable kind of an object to dump "+mt)}"?"!==j.tag&&Or(j,j.dump,Te,dt,Tt)}null!==j.tag&&"?"!==j.tag&&(Gt=encodeURI("!"===j.tag[0]?j.tag.slice(1):j.tag).replace(/!/g,"%21"),Gt="!"===j.tag[0]?"!"+Gt:"tag:yaml.org,2002:"===Gt.slice(0,18)?"!!"+Gt.slice(18):"!<"+Gt+">",j.dump=Gt+" "+j.dump)}return!0}function Zt(j,Te){var Ke,dt,Ve=[],ke=[];for(yt(j,Ve,ke),Ke=0,dt=ke.length;Ke<dt;Ke+=1)Te.duplicates.push(Ve[ke[Ke]]);Te.usedDuplicates=new Array(dt)}function yt(j,Te,Ve){var ke,Ke,dt;if(null!==j&&"object"==typeof j)if(-1!==(Ke=Te.indexOf(j)))-1===Ve.indexOf(Ke)&&Ve.push(Ke);else if(Te.push(j),Array.isArray(j))for(Ke=0,dt=j.length;Ke<dt;Ke+=1)yt(j[Ke],Te,Ve);else for(Ke=0,dt=(ke=Object.keys(j)).length;Ke<dt;Ke+=1)yt(j[ke[Ke]],Te,Ve)}v.exports.dump=function ki(j,Te){var Ve=new Yi(Te=Te||{});Ve.noRefs||Zt(j,Ve);var ke=j;return Ve.replacer&&(ke=Ve.replacer.call({"":ke},"",ke)),Ft(Ve,0,ke,!0,!0)?Ve.dump+"\n":""}},5565:v=>{"use strict";function w(I,F){var L="",b=I.reason||"(unknown reason)";return I.mark?(I.mark.name&&(L+='in "'+I.mark.name+'" '),L+="("+(I.mark.line+1)+":"+(I.mark.column+1)+")",!F&&I.mark.snippet&&(L+="\n\n"+I.mark.snippet),b+" "+L):b}function A(I,F){Error.call(this),this.name="YAMLException",this.reason=I,this.mark=F,this.message=w(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(A.prototype=Object.create(Error.prototype)).constructor=A,A.prototype.toString=function(F){return this.name+": "+w(this,F)},v.exports=A},5630:(v,w,A)=>{"use strict";var I=A(2620),F=A(5565),L=A(378),b=A(3467),c=Object.prototype.hasOwnProperty,Y=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,he=/[\x85\u2028\u2029]/,se=/[,\[\]\{\}]/,Se=/^(?:!|!!|![a-z\-]+!)$/i,st=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function pe(S){return Object.prototype.toString.call(S)}function Me(S){return 10===S||13===S}function at(S){return 9===S||32===S}function Re(S){return 9===S||32===S||10===S||13===S}function ht(S){return 44===S||91===S||93===S||123===S||125===S}function R(S){var ce;return 48<=S&&S<=57?S-48:97<=(ce=32|S)&&ce<=102?ce-97+10:-1}function Mt(S){return 120===S?2:117===S?4:85===S?8:0}function Yt(S){return 48<=S&&S<=57?S-48:-1}function ei(S){return 48===S?"\0":97===S?"\x07":98===S?"\b":116===S||9===S?"\t":110===S?"\n":118===S?"\v":102===S?"\f":114===S?"\r":101===S?"\x1b":32===S?" ":34===S?'"':47===S?"/":92===S?"\\":78===S?"\x85":95===S?"\xa0":76===S?"\u2028":80===S?"\u2029":""}function pn(S){return S<=65535?String.fromCharCode(S):String.fromCharCode(55296+(S-65536>>10),56320+(S-65536&1023))}for(var ti=new Array(256),wi=new Array(256),ut=0;ut<256;ut++)ti[ut]=ei(ut)?1:0,wi[ut]=ei(ut);function ii(S,ce){this.input=S,this.filename=ce.filename||null,this.schema=ce.schema||b,this.onWarning=ce.onWarning||null,this.legacy=ce.legacy||!1,this.json=ce.json||!1,this.listener=ce.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=S.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Et(S,ce){var Ce={name:S.filename,buffer:S.input.slice(0,-1),position:S.position,line:S.line,column:S.position-S.lineStart};return Ce.snippet=L(Ce),new F(ce,Ce)}function ct(S,ce){throw Et(S,ce)}function Ri(S,ce){S.onWarning&&S.onWarning.call(null,Et(S,ce))}var gt={YAML:function(ce,Ce,me){var Ie,ze,Qe;null!==ce.version&&ct(ce,"duplication of %YAML directive"),1!==me.length&&ct(ce,"YAML directive accepts exactly one argument"),null===(Ie=/^([0-9]+)\.([0-9]+)$/.exec(me[0]))&&ct(ce,"ill-formed argument of the YAML directive"),ze=parseInt(Ie[1],10),Qe=parseInt(Ie[2],10),1!==ze&&ct(ce,"unacceptable YAML version of the document"),ce.version=me[0],ce.checkLineBreaks=Qe<2,1!==Qe&&2!==Qe&&Ri(ce,"unsupported YAML version of the document")},TAG:function(ce,Ce,me){var Ie,ze;2!==me.length&&ct(ce,"TAG directive accepts exactly two arguments"),ze=me[1],Se.test(Ie=me[0])||ct(ce,"ill-formed tag handle (first argument) of the TAG directive"),c.call(ce.tagMap,Ie)&&ct(ce,'there is a previously declared suffix for "'+Ie+'" tag handle'),st.test(ze)||ct(ce,"ill-formed tag prefix (second argument) of the TAG directive");try{ze=decodeURIComponent(ze)}catch{ct(ce,"tag prefix is malformed: "+ze)}ce.tagMap[Ie]=ze}};function _i(S,ce,Ce,me){var Ie,ze,Qe,vt;if(ce<Ce){if(vt=S.input.slice(ce,Ce),me)for(Ie=0,ze=vt.length;Ie<ze;Ie+=1)9===(Qe=vt.charCodeAt(Ie))||32<=Qe&&Qe<=1114111||ct(S,"expected valid JSON character");else Y.test(vt)&&ct(S,"the stream contains non-printable characters");S.result+=vt}}function tn(S,ce,Ce,me){var Ie,ze,Qe,vt;for(I.isObject(Ce)||ct(S,"cannot merge mappings; the provided source object is unacceptable"),Qe=0,vt=(Ie=Object.keys(Ce)).length;Qe<vt;Qe+=1)c.call(ce,ze=Ie[Qe])||(ce[ze]=Ce[ze],me[ze]=!0)}function Yi(S,ce,Ce,me,Ie,ze,Qe,vt,_t){var Ft,Zt;if(Array.isArray(Ie))for(Ft=0,Zt=(Ie=Array.prototype.slice.call(Ie)).length;Ft<Zt;Ft+=1)Array.isArray(Ie[Ft])&&ct(S,"nested arrays are not supported inside keys"),"object"==typeof Ie&&"[object Object]"===pe(Ie[Ft])&&(Ie[Ft]="[object Object]");if("object"==typeof Ie&&"[object Object]"===pe(Ie)&&(Ie="[object Object]"),Ie=String(Ie),null===ce&&(ce={}),"tag:yaml.org,2002:merge"===me)if(Array.isArray(ze))for(Ft=0,Zt=ze.length;Ft<Zt;Ft+=1)tn(S,ce,ze[Ft],Ce);else tn(S,ce,ze,Ce);else!S.json&&!c.call(Ce,Ie)&&c.call(ce,Ie)&&(S.line=Qe||S.line,S.lineStart=vt||S.lineStart,S.position=_t||S.position,ct(S,"duplicated mapping key")),"__proto__"===Ie?Object.defineProperty(ce,Ie,{configurable:!0,enumerable:!0,writable:!0,value:ze}):ce[Ie]=ze,delete Ce[Ie];return ce}function It(S){var ce;10===(ce=S.input.charCodeAt(S.position))?S.position++:13===ce?(S.position++,10===S.input.charCodeAt(S.position)&&S.position++):ct(S,"a line break is expected"),S.line+=1,S.lineStart=S.position,S.firstTabInLine=-1}function Qt(S,ce,Ce){for(var me=0,Ie=S.input.charCodeAt(S.position);0!==Ie;){for(;at(Ie);)9===Ie&&-1===S.firstTabInLine&&(S.firstTabInLine=S.position),Ie=S.input.charCodeAt(++S.position);if(ce&&35===Ie)do{Ie=S.input.charCodeAt(++S.position)}while(10!==Ie&&13!==Ie&&0!==Ie);if(!Me(Ie))break;for(It(S),Ie=S.input.charCodeAt(S.position),me++,S.lineIndent=0;32===Ie;)S.lineIndent++,Ie=S.input.charCodeAt(++S.position)}return-1!==Ce&&0!==me&&S.lineIndent<Ce&&Ri(S,"deficient indentation"),me}function gn(S){var Ce,ce=S.position;return!(45!==(Ce=S.input.charCodeAt(ce))&&46!==Ce||Ce!==S.input.charCodeAt(ce+1)||Ce!==S.input.charCodeAt(ce+2)||(ce+=3,Ce=S.input.charCodeAt(ce),0!==Ce&&!Re(Ce)))}function an(S,ce){1===ce?S.result+=" ":ce>1&&(S.result+=I.repeat("\n",ce-1))}function Oi(S,ce){var Ce,_t,me=S.tag,Ie=S.anchor,ze=[],vt=!1;if(-1!==S.firstTabInLine)return!1;for(null!==S.anchor&&(S.anchorMap[S.anchor]=ze),_t=S.input.charCodeAt(S.position);0!==_t&&(-1!==S.firstTabInLine&&(S.position=S.firstTabInLine,ct(S,"tab characters must not be used in indentation")),45===_t&&Re(S.input.charCodeAt(S.position+1)));)if(vt=!0,S.position++,Qt(S,!0,-1)&&S.lineIndent<=ce)ze.push(null),_t=S.input.charCodeAt(S.position);else if(Ce=S.line,St(S,ce,3,!1,!0),ze.push(S.result),Qt(S,!0,-1),_t=S.input.charCodeAt(S.position),(S.line===Ce||S.lineIndent>ce)&&0!==_t)ct(S,"bad indentation of a sequence entry");else if(S.lineIndent<ce)break;return!!vt&&(S.tag=me,S.anchor=Ie,S.kind="sequence",S.result=ze,!0)}function Ae(S){var ce,Ie,ze,Qe,Ce=!1,me=!1;if(33!==(Qe=S.input.charCodeAt(S.position)))return!1;if(null!==S.tag&&ct(S,"duplication of a tag property"),60===(Qe=S.input.charCodeAt(++S.position))?(Ce=!0,Qe=S.input.charCodeAt(++S.position)):33===Qe?(me=!0,Ie="!!",Qe=S.input.charCodeAt(++S.position)):Ie="!",ce=S.position,Ce){do{Qe=S.input.charCodeAt(++S.position)}while(0!==Qe&&62!==Qe);S.position<S.length?(ze=S.input.slice(ce,S.position),Qe=S.input.charCodeAt(++S.position)):ct(S,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Qe&&!Re(Qe);)33===Qe&&(me?ct(S,"tag suffix cannot contain exclamation marks"):(Ie=S.input.slice(ce-1,S.position+1),Se.test(Ie)||ct(S,"named tag handle cannot contain such characters"),me=!0,ce=S.position+1)),Qe=S.input.charCodeAt(++S.position);ze=S.input.slice(ce,S.position),se.test(ze)&&ct(S,"tag suffix cannot contain flow indicator characters")}ze&&!st.test(ze)&&ct(S,"tag name cannot contain such characters: "+ze);try{ze=decodeURIComponent(ze)}catch{ct(S,"tag name is malformed: "+ze)}return Ce?S.tag=ze:c.call(S.tagMap,Ie)?S.tag=S.tagMap[Ie]+ze:"!"===Ie?S.tag="!"+ze:"!!"===Ie?S.tag="tag:yaml.org,2002:"+ze:ct(S,'undeclared tag handle "'+Ie+'"'),!0}function Ln(S){var ce,Ce;if(38!==(Ce=S.input.charCodeAt(S.position)))return!1;for(null!==S.anchor&&ct(S,"duplication of an anchor property"),Ce=S.input.charCodeAt(++S.position),ce=S.position;0!==Ce&&!Re(Ce)&&!ht(Ce);)Ce=S.input.charCodeAt(++S.position);return S.position===ce&&ct(S,"name of an anchor node must contain at least one character"),S.anchor=S.input.slice(ce,S.position),!0}function St(S,ce,Ce,me,Ie){var ze,Qe,vt,yt,ki,j,Te,Ve,ke,_t=1,Ft=!1,Zt=!1;if(null!==S.listener&&S.listener("open",S),S.tag=null,S.anchor=null,S.kind=null,S.result=null,ze=Qe=vt=4===Ce||3===Ce,me&&Qt(S,!0,-1)&&(Ft=!0,S.lineIndent>ce?_t=1:S.lineIndent===ce?_t=0:S.lineIndent<ce&&(_t=-1)),1===_t)for(;Ae(S)||Ln(S);)Qt(S,!0,-1)?(Ft=!0,vt=ze,S.lineIndent>ce?_t=1:S.lineIndent===ce?_t=0:S.lineIndent<ce&&(_t=-1)):vt=!1;if(vt&&(vt=Ft||Ie),(1===_t||4===Ce)&&(Ve=1===Ce||2===Ce?ce:ce+1,ke=S.position-S.lineStart,1===_t?vt&&(Oi(S,ke)||function fo(S,ce,Ce){var me,Ie,ze,Qe,vt,_t,dt,Ft=S.tag,Zt=S.anchor,yt={},ki=Object.create(null),j=null,Te=null,Ve=null,ke=!1,Ke=!1;if(-1!==S.firstTabInLine)return!1;for(null!==S.anchor&&(S.anchorMap[S.anchor]=yt),dt=S.input.charCodeAt(S.position);0!==dt;){if(!ke&&-1!==S.firstTabInLine&&(S.position=S.firstTabInLine,ct(S,"tab characters must not be used in indentation")),me=S.input.charCodeAt(S.position+1),ze=S.line,63!==dt&&58!==dt||!Re(me)){if(Qe=S.line,vt=S.lineStart,_t=S.position,!St(S,Ce,2,!1,!0))break;if(S.line===ze){for(dt=S.input.charCodeAt(S.position);at(dt);)dt=S.input.charCodeAt(++S.position);if(58===dt)Re(dt=S.input.charCodeAt(++S.position))||ct(S,"a whitespace character is expected after the key-value separator within a block mapping"),ke&&(Yi(S,yt,ki,j,Te,null,Qe,vt,_t),j=Te=Ve=null),Ke=!0,ke=!1,Ie=!1,j=S.tag,Te=S.result;else{if(!Ke)return S.tag=Ft,S.anchor=Zt,!0;ct(S,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Ke)return S.tag=Ft,S.anchor=Zt,!0;ct(S,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===dt?(ke&&(Yi(S,yt,ki,j,Te,null,Qe,vt,_t),j=Te=Ve=null),Ke=!0,ke=!0,Ie=!0):ke?(ke=!1,Ie=!0):ct(S,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),S.position+=1,dt=me;if((S.line===ze||S.lineIndent>ce)&&(ke&&(Qe=S.line,vt=S.lineStart,_t=S.position),St(S,ce,4,!0,Ie)&&(ke?Te=S.result:Ve=S.result),ke||(Yi(S,yt,ki,j,Te,Ve,Qe,vt,_t),j=Te=Ve=null),Qt(S,!0,-1),dt=S.input.charCodeAt(S.position)),(S.line===ze||S.lineIndent>ce)&&0!==dt)ct(S,"bad indentation of a mapping entry");else if(S.lineIndent<ce)break}return ke&&Yi(S,yt,ki,j,Te,null,Qe,vt,_t),Ke&&(S.tag=Ft,S.anchor=Zt,S.kind="mapping",S.result=yt),Ke}(S,ke,Ve))||function Lt(S,ce){var me,Ie,ze,vt,Zt,yt,ki,j,Ve,ke,Ke,dt,Ce=!0,Qe=S.tag,_t=S.anchor,Te=Object.create(null);if(91===(dt=S.input.charCodeAt(S.position)))Zt=93,j=!1,vt=[];else{if(123!==dt)return!1;Zt=125,j=!0,vt={}}for(null!==S.anchor&&(S.anchorMap[S.anchor]=vt),dt=S.input.charCodeAt(++S.position);0!==dt;){if(Qt(S,!0,ce),(dt=S.input.charCodeAt(S.position))===Zt)return S.position++,S.tag=Qe,S.anchor=_t,S.kind=j?"mapping":"sequence",S.result=vt,!0;Ce?44===dt&&ct(S,"expected the node content, but found ','"):ct(S,"missed comma between flow collection entries"),Ke=null,yt=ki=!1,63===dt&&Re(S.input.charCodeAt(S.position+1))&&(yt=ki=!0,S.position++,Qt(S,!0,ce)),me=S.line,Ie=S.lineStart,ze=S.position,St(S,ce,1,!1,!0),ke=S.tag,Ve=S.result,Qt(S,!0,ce),dt=S.input.charCodeAt(S.position),(ki||S.line===me)&&58===dt&&(yt=!0,dt=S.input.charCodeAt(++S.position),Qt(S,!0,ce),St(S,ce,1,!1,!0),Ke=S.result),j?Yi(S,vt,Te,ke,Ve,Ke,me,Ie,ze):vt.push(yt?Yi(S,null,Te,ke,Ve,Ke,me,Ie,ze):Ve),Qt(S,!0,ce),44===(dt=S.input.charCodeAt(S.position))?(Ce=!0,dt=S.input.charCodeAt(++S.position)):Ce=!1}ct(S,"unexpected end of the stream within a flow collection")}(S,Ve)?Zt=!0:(Qe&&function Wi(S,ce){var Ce,me,Zt,yt,Ie=1,ze=!1,Qe=!1,vt=ce,_t=0,Ft=!1;if(124===(yt=S.input.charCodeAt(S.position)))me=!1;else{if(62!==yt)return!1;me=!0}for(S.kind="scalar",S.result="";0!==yt;)if(43===(yt=S.input.charCodeAt(++S.position))||45===yt)1===Ie?Ie=43===yt?3:2:ct(S,"repeat of a chomping mode identifier");else{if(!((Zt=Yt(yt))>=0))break;0===Zt?ct(S,"bad explicit indentation width of a block scalar; it cannot be less than one"):Qe?ct(S,"repeat of an indentation width identifier"):(vt=ce+Zt-1,Qe=!0)}if(at(yt)){do{yt=S.input.charCodeAt(++S.position)}while(at(yt));if(35===yt)do{yt=S.input.charCodeAt(++S.position)}while(!Me(yt)&&0!==yt)}for(;0!==yt;){for(It(S),S.lineIndent=0,yt=S.input.charCodeAt(S.position);(!Qe||S.lineIndent<vt)&&32===yt;)S.lineIndent++,yt=S.input.charCodeAt(++S.position);if(!Qe&&S.lineIndent>vt&&(vt=S.lineIndent),Me(yt))_t++;else{if(S.lineIndent<vt){3===Ie?S.result+=I.repeat("\n",ze?1+_t:_t):1===Ie&&ze&&(S.result+="\n");break}for(me?at(yt)?(Ft=!0,S.result+=I.repeat("\n",ze?1+_t:_t)):Ft?(Ft=!1,S.result+=I.repeat("\n",_t+1)):0===_t?ze&&(S.result+=" "):S.result+=I.repeat("\n",_t):S.result+=I.repeat("\n",ze?1+_t:_t),ze=!0,Qe=!0,_t=0,Ce=S.position;!Me(yt)&&0!==yt;)yt=S.input.charCodeAt(++S.position);_i(S,Ce,S.position,!1)}}return!0}(S,Ve)||function Mi(S,ce){var Ce,me,Ie;if(39!==(Ce=S.input.charCodeAt(S.position)))return!1;for(S.kind="scalar",S.result="",S.position++,me=Ie=S.position;0!==(Ce=S.input.charCodeAt(S.position));)if(39===Ce){if(_i(S,me,S.position,!0),39!==(Ce=S.input.charCodeAt(++S.position)))return!0;me=S.position,S.position++,Ie=S.position}else Me(Ce)?(_i(S,me,Ie,!0),an(S,Qt(S,!1,ce)),me=Ie=S.position):S.position===S.lineStart&&gn(S)?ct(S,"unexpected end of the document within a single quoted scalar"):(S.position++,Ie=S.position);ct(S,"unexpected end of the stream within a single quoted scalar")}(S,Ve)||function Pi(S,ce){var Ce,me,Ie,ze,Qe,vt;if(34!==(vt=S.input.charCodeAt(S.position)))return!1;for(S.kind="scalar",S.result="",S.position++,Ce=me=S.position;0!==(vt=S.input.charCodeAt(S.position));){if(34===vt)return _i(S,Ce,S.position,!0),S.position++,!0;if(92===vt){if(_i(S,Ce,S.position,!0),Me(vt=S.input.charCodeAt(++S.position)))Qt(S,!1,ce);else if(vt<256&&ti[vt])S.result+=wi[vt],S.position++;else if((Qe=Mt(vt))>0){for(Ie=Qe,ze=0;Ie>0;Ie--)(Qe=R(vt=S.input.charCodeAt(++S.position)))>=0?ze=(ze<<4)+Qe:ct(S,"expected hexadecimal character");S.result+=pn(ze),S.position++}else ct(S,"unknown escape sequence");Ce=me=S.position}else Me(vt)?(_i(S,Ce,me,!0),an(S,Qt(S,!1,ce)),Ce=me=S.position):S.position===S.lineStart&&gn(S)?ct(S,"unexpected end of the document within a double quoted scalar"):(S.position++,me=S.position)}ct(S,"unexpected end of the stream within a double quoted scalar")}(S,Ve)?Zt=!0:function hi(S){var ce,Ce,me;if(42!==(me=S.input.charCodeAt(S.position)))return!1;for(me=S.input.charCodeAt(++S.position),ce=S.position;0!==me&&!Re(me)&&!ht(me);)me=S.input.charCodeAt(++S.position);return S.position===ce&&ct(S,"name of an alias node must contain at least one character"),Ce=S.input.slice(ce,S.position),c.call(S.anchorMap,Ce)||ct(S,'unidentified alias "'+Ce+'"'),S.result=S.anchorMap[Ce],Qt(S,!0,-1),!0}(S)?(Zt=!0,(null!==S.tag||null!==S.anchor)&&ct(S,"alias node should not have any properties")):function Ai(S,ce,Ce){var Ie,ze,Qe,vt,_t,Ft,Zt,j,yt=S.kind,ki=S.result;if(Re(j=S.input.charCodeAt(S.position))||ht(j)||35===j||38===j||42===j||33===j||124===j||62===j||39===j||34===j||37===j||64===j||96===j||(63===j||45===j)&&(Re(Ie=S.input.charCodeAt(S.position+1))||Ce&&ht(Ie)))return!1;for(S.kind="scalar",S.result="",ze=Qe=S.position,vt=!1;0!==j;){if(58===j){if(Re(Ie=S.input.charCodeAt(S.position+1))||Ce&&ht(Ie))break}else if(35===j){if(Re(S.input.charCodeAt(S.position-1)))break}else{if(S.position===S.lineStart&&gn(S)||Ce&&ht(j))break;if(Me(j)){if(_t=S.line,Ft=S.lineStart,Zt=S.lineIndent,Qt(S,!1,-1),S.lineIndent>=ce){vt=!0,j=S.input.charCodeAt(S.position);continue}S.position=Qe,S.line=_t,S.lineStart=Ft,S.lineIndent=Zt;break}}vt&&(_i(S,ze,Qe,!1),an(S,S.line-_t),ze=Qe=S.position,vt=!1),at(j)||(Qe=S.position+1),j=S.input.charCodeAt(++S.position)}return _i(S,ze,Qe,!1),!!S.result||(S.kind=yt,S.result=ki,!1)}(S,Ve,1===Ce)&&(Zt=!0,null===S.tag&&(S.tag="?")),null!==S.anchor&&(S.anchorMap[S.anchor]=S.result)):0===_t&&(Zt=vt&&Oi(S,ke))),null===S.tag)null!==S.anchor&&(S.anchorMap[S.anchor]=S.result);else if("?"===S.tag){for(null!==S.result&&"scalar"!==S.kind&&ct(S,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+S.kind+'"'),yt=0,ki=S.implicitTypes.length;yt<ki;yt+=1)if((Te=S.implicitTypes[yt]).resolve(S.result)){S.result=Te.construct(S.result),S.tag=Te.tag,null!==S.anchor&&(S.anchorMap[S.anchor]=S.result);break}}else if("!"!==S.tag){if(c.call(S.typeMap[S.kind||"fallback"],S.tag))Te=S.typeMap[S.kind||"fallback"][S.tag];else for(Te=null,yt=0,ki=(j=S.typeMap.multi[S.kind||"fallback"]).length;yt<ki;yt+=1)if(S.tag.slice(0,j[yt].tag.length)===j[yt].tag){Te=j[yt];break}Te||ct(S,"unknown tag !<"+S.tag+">"),null!==S.result&&Te.kind!==S.kind&&ct(S,"unacceptable node kind for !<"+S.tag+'> tag; it should be "'+Te.kind+'", not "'+S.kind+'"'),Te.resolve(S.result,S.tag)?(S.result=Te.construct(S.result,S.tag),null!==S.anchor&&(S.anchorMap[S.anchor]=S.result)):ct(S,"cannot resolve a node with !<"+S.tag+"> explicit tag")}return null!==S.listener&&S.listener("close",S),null!==S.tag||null!==S.anchor||Zt}function qi(S){var Ce,me,Ie,Qe,ce=S.position,ze=!1;for(S.version=null,S.checkLineBreaks=S.legacy,S.tagMap=Object.create(null),S.anchorMap=Object.create(null);0!==(Qe=S.input.charCodeAt(S.position))&&(Qt(S,!0,-1),Qe=S.input.charCodeAt(S.position),!(S.lineIndent>0||37!==Qe));){for(ze=!0,Qe=S.input.charCodeAt(++S.position),Ce=S.position;0!==Qe&&!Re(Qe);)Qe=S.input.charCodeAt(++S.position);for(Ie=[],(me=S.input.slice(Ce,S.position)).length<1&&ct(S,"directive name must not be less than one character in length");0!==Qe;){for(;at(Qe);)Qe=S.input.charCodeAt(++S.position);if(35===Qe){do{Qe=S.input.charCodeAt(++S.position)}while(0!==Qe&&!Me(Qe));break}if(Me(Qe))break;for(Ce=S.position;0!==Qe&&!Re(Qe);)Qe=S.input.charCodeAt(++S.position);Ie.push(S.input.slice(Ce,S.position))}0!==Qe&&It(S),c.call(gt,me)?gt[me](S,me,Ie):Ri(S,'unknown document directive "'+me+'"')}Qt(S,!0,-1),0===S.lineIndent&&45===S.input.charCodeAt(S.position)&&45===S.input.charCodeAt(S.position+1)&&45===S.input.charCodeAt(S.position+2)?(S.position+=3,Qt(S,!0,-1)):ze&&ct(S,"directives end mark is expected"),St(S,S.lineIndent-1,4,!1,!0),Qt(S,!0,-1),S.checkLineBreaks&&he.test(S.input.slice(ce,S.position))&&Ri(S,"non-ASCII line breaks are interpreted as content"),S.documents.push(S.result),S.position===S.lineStart&&gn(S)?46===S.input.charCodeAt(S.position)&&(S.position+=3,Qt(S,!0,-1)):S.position<S.length-1&&ct(S,"end of the stream or a document separator is expected")}function Ar(S,ce){ce=ce||{},0!==(S=String(S)).length&&(10!==S.charCodeAt(S.length-1)&&13!==S.charCodeAt(S.length-1)&&(S+="\n"),65279===S.charCodeAt(0)&&(S=S.slice(1)));var Ce=new ii(S,ce),me=S.indexOf("\0");for(-1!==me&&(Ce.position=me,ct(Ce,"null byte is not allowed in input")),Ce.input+="\0";32===Ce.input.charCodeAt(Ce.position);)Ce.lineIndent+=1,Ce.position+=1;for(;Ce.position<Ce.length-1;)qi(Ce);return Ce.documents}v.exports.loadAll=function Or(S,ce,Ce){null!==ce&&"object"==typeof ce&&typeof Ce>"u"&&(Ce=ce,ce=null);var me=Ar(S,Ce);if("function"!=typeof ce)return me;for(var Ie=0,ze=me.length;Ie<ze;Ie+=1)ce(me[Ie])},v.exports.load=function Xr(S,ce){var Ce=Ar(S,ce);if(0!==Ce.length){if(1===Ce.length)return Ce[0];throw new F("expected a single document in the stream, but found more")}}},6627:(v,w,A)=>{"use strict";var I=A(5565),F=A(9798);function L(_,y){var T=[];return _[y].forEach(function(x){var k=T.length;T.forEach(function(V,K){V.tag===x.tag&&V.kind===x.kind&&V.multi===x.multi&&(k=K)}),T[k]=x}),T}function c(_){return this.extend(_)}c.prototype.extend=function(y){var T=[],x=[];if(y instanceof F)x.push(y);else if(Array.isArray(y))x=x.concat(y);else{if(!y||!Array.isArray(y.implicit)&&!Array.isArray(y.explicit))throw new I("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");y.implicit&&(T=T.concat(y.implicit)),y.explicit&&(x=x.concat(y.explicit))}T.forEach(function(V){if(!(V instanceof F))throw new I("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(V.loadKind&&"scalar"!==V.loadKind)throw new I("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(V.multi)throw new I("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),x.forEach(function(V){if(!(V instanceof F))throw new I("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var k=Object.create(c.prototype);return k.implicit=(this.implicit||[]).concat(T),k.explicit=(this.explicit||[]).concat(x),k.compiledImplicit=L(k,"implicit"),k.compiledExplicit=L(k,"explicit"),k.compiledTypeMap=function b(){var y,T,_={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function x(k){k.multi?(_.multi[k.kind].push(k),_.multi.fallback.push(k)):_[k.kind][k.tag]=_.fallback[k.tag]=k}for(y=0,T=arguments.length;y<T;y+=1)arguments[y].forEach(x);return _}(k.compiledImplicit,k.compiledExplicit),k},v.exports=c},3698:(v,w,A)=>{"use strict";v.exports=A(5495)},3467:(v,w,A)=>{"use strict";v.exports=A(3698).extend({implicit:[A(5714),A(4959)],explicit:[A(6857),A(9461),A(866),A(3852)]})},8830:(v,w,A)=>{"use strict";var I=A(6627);v.exports=new I({explicit:[A(2103),A(1801),A(1556)]})},5495:(v,w,A)=>{"use strict";v.exports=A(8830).extend({implicit:[A(4332),A(1990),A(4222),A(3518)]})},378:(v,w,A)=>{"use strict";var I=A(2620);function F(c,_,y,T,x){var k="",V="",K=Math.floor(x/2)-1;return T-_>K&&(_=T-K+(k=" ... ").length),y-T>K&&(y=T+K-(V=" ...").length),{str:k+c.slice(_,y).replace(/\t/g,"\u2192")+V,pos:T-_+k.length}}function L(c,_){return I.repeat(" ",_-c.length)+c}v.exports=function b(c,_){if(_=Object.create(_||null),!c.buffer)return null;_.maxLength||(_.maxLength=79),"number"!=typeof _.indent&&(_.indent=1),"number"!=typeof _.linesBefore&&(_.linesBefore=3),"number"!=typeof _.linesAfter&&(_.linesAfter=2);for(var k,y=/\r?\n|\r|\0/g,T=[0],x=[],V=-1;k=y.exec(c.buffer);)x.push(k.index),T.push(k.index+k[0].length),c.position<=k.index&&V<0&&(V=T.length-2);V<0&&(V=T.length-1);var Y,he,K="",se=Math.min(c.line+_.linesAfter,x.length).toString().length,Se=_.maxLength-(_.indent+se+3);for(Y=1;Y<=_.linesBefore&&!(V-Y<0);Y++)he=F(c.buffer,T[V-Y],x[V-Y],c.position-(T[V]-T[V-Y]),Se),K=I.repeat(" ",_.indent)+L((c.line-Y+1).toString(),se)+" | "+he.str+"\n"+K;for(he=F(c.buffer,T[V],x[V],c.position,Se),K+=I.repeat(" ",_.indent)+L((c.line+1).toString(),se)+" | "+he.str+"\n",K+=I.repeat("-",_.indent+se+3+he.pos)+"^\n",Y=1;Y<=_.linesAfter&&!(V+Y>=x.length);Y++)he=F(c.buffer,T[V+Y],x[V+Y],c.position-(T[V]-T[V+Y]),Se),K+=I.repeat(" ",_.indent)+L((c.line+Y+1).toString(),se)+" | "+he.str+"\n";return K.replace(/\n$/,"")}},9798:(v,w,A)=>{"use strict";var I=A(5565),F=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],L=["scalar","sequence","mapping"];v.exports=function c(_,y){if(y=y||{},Object.keys(y).forEach(function(T){if(-1===F.indexOf(T))throw new I('Unknown option "'+T+'" is met in definition of "'+_+'" YAML type.')}),this.options=y,this.tag=_,this.kind=y.kind||null,this.resolve=y.resolve||function(){return!0},this.construct=y.construct||function(T){return T},this.instanceOf=y.instanceOf||null,this.predicate=y.predicate||null,this.represent=y.represent||null,this.representName=y.representName||null,this.defaultStyle=y.defaultStyle||null,this.multi=y.multi||!1,this.styleAliases=function b(_){var y={};return null!==_&&Object.keys(_).forEach(function(T){_[T].forEach(function(x){y[String(x)]=T})}),y}(y.styleAliases||null),-1===L.indexOf(this.kind))throw new I('Unknown kind "'+this.kind+'" is specified for "'+_+'" YAML type.')}},6857:(v,w,A)=>{"use strict";var I=A(9798),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";v.exports=new I("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function L(y){if(null===y)return!1;var T,x,k=0,V=y.length,K=F;for(x=0;x<V;x++)if(!((T=K.indexOf(y.charAt(x)))>64)){if(T<0)return!1;k+=6}return k%8==0},construct:function b(y){var T,x,k=y.replace(/[\r\n=]/g,""),V=k.length,K=F,Y=0,he=[];for(T=0;T<V;T++)T%4==0&&T&&(he.push(Y>>16&255),he.push(Y>>8&255),he.push(255&Y)),Y=Y<<6|K.indexOf(k.charAt(T));return 0==(x=V%4*6)?(he.push(Y>>16&255),he.push(Y>>8&255),he.push(255&Y)):18===x?(he.push(Y>>10&255),he.push(Y>>2&255)):12===x&&he.push(Y>>4&255),new Uint8Array(he)},predicate:function _(y){return"[object Uint8Array]"===Object.prototype.toString.call(y)},represent:function c(y){var k,V,T="",x=0,K=y.length,Y=F;for(k=0;k<K;k++)k%3==0&&k&&(T+=Y[x>>18&63],T+=Y[x>>12&63],T+=Y[x>>6&63],T+=Y[63&x]),x=(x<<8)+y[k];return 0==(V=K%3)?(T+=Y[x>>18&63],T+=Y[x>>12&63],T+=Y[x>>6&63],T+=Y[63&x]):2===V?(T+=Y[x>>10&63],T+=Y[x>>4&63],T+=Y[x<<2&63],T+=Y[64]):1===V&&(T+=Y[x>>2&63],T+=Y[x<<4&63],T+=Y[64],T+=Y[64]),T}})},1990:(v,w,A)=>{"use strict";var I=A(9798);v.exports=new I("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function F(c){if(null===c)return!1;var _=c.length;return 4===_&&("true"===c||"True"===c||"TRUE"===c)||5===_&&("false"===c||"False"===c||"FALSE"===c)},construct:function L(c){return"true"===c||"True"===c||"TRUE"===c},predicate:function b(c){return"[object Boolean]"===Object.prototype.toString.call(c)},represent:{lowercase:function(c){return c?"true":"false"},uppercase:function(c){return c?"TRUE":"FALSE"},camelcase:function(c){return c?"True":"False"}},defaultStyle:"lowercase"})},3518:(v,w,A)=>{"use strict";var I=A(2620),F=A(9798),L=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),_=/^[-+]?[0-9]+e/;v.exports=new F("tag:yaml.org,2002:float",{kind:"scalar",resolve:function b(x){return!(null===x||!L.test(x)||"_"===x[x.length-1])},construct:function c(x){var k,V;return V="-"===(k=x.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(k[0])>=0&&(k=k.slice(1)),".inf"===k?1===V?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===k?NaN:V*parseFloat(k,10)},predicate:function T(x){return"[object Number]"===Object.prototype.toString.call(x)&&(x%1!=0||I.isNegativeZero(x))},represent:function y(x,k){var V;if(isNaN(x))switch(k){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===x)switch(k){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===x)switch(k){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(I.isNegativeZero(x))return"-0.0";return V=x.toString(10),_.test(V)?V.replace("e",".e"):V},defaultStyle:"lowercase"})},4222:(v,w,A)=>{"use strict";var I=A(2620),F=A(9798);function L(x){return 48<=x&&x<=57||65<=x&&x<=70||97<=x&&x<=102}function b(x){return 48<=x&&x<=55}function c(x){return 48<=x&&x<=57}v.exports=new F("tag:yaml.org,2002:int",{kind:"scalar",resolve:function _(x){if(null===x)return!1;var Y,k=x.length,V=0,K=!1;if(!k)return!1;if(("-"===(Y=x[V])||"+"===Y)&&(Y=x[++V]),"0"===Y){if(V+1===k)return!0;if("b"===(Y=x[++V])){for(V++;V<k;V++)if("_"!==(Y=x[V])){if("0"!==Y&&"1"!==Y)return!1;K=!0}return K&&"_"!==Y}if("x"===Y){for(V++;V<k;V++)if("_"!==(Y=x[V])){if(!L(x.charCodeAt(V)))return!1;K=!0}return K&&"_"!==Y}if("o"===Y){for(V++;V<k;V++)if("_"!==(Y=x[V])){if(!b(x.charCodeAt(V)))return!1;K=!0}return K&&"_"!==Y}}if("_"===Y)return!1;for(;V<k;V++)if("_"!==(Y=x[V])){if(!c(x.charCodeAt(V)))return!1;K=!0}return!(!K||"_"===Y)},construct:function y(x){var K,k=x,V=1;if(-1!==k.indexOf("_")&&(k=k.replace(/_/g,"")),("-"===(K=k[0])||"+"===K)&&("-"===K&&(V=-1),K=(k=k.slice(1))[0]),"0"===k)return 0;if("0"===K){if("b"===k[1])return V*parseInt(k.slice(2),2);if("x"===k[1])return V*parseInt(k.slice(2),16);if("o"===k[1])return V*parseInt(k.slice(2),8)}return V*parseInt(k,10)},predicate:function T(x){return"[object Number]"===Object.prototype.toString.call(x)&&x%1==0&&!I.isNegativeZero(x)},represent:{binary:function(x){return x>=0?"0b"+x.toString(2):"-0b"+x.toString(2).slice(1)},octal:function(x){return x>=0?"0o"+x.toString(8):"-0o"+x.toString(8).slice(1)},decimal:function(x){return x.toString(10)},hexadecimal:function(x){return x>=0?"0x"+x.toString(16).toUpperCase():"-0x"+x.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},1556:(v,w,A)=>{"use strict";var I=A(9798);v.exports=new I("tag:yaml.org,2002:map",{kind:"mapping",construct:function(F){return null!==F?F:{}}})},4959:(v,w,A)=>{"use strict";var I=A(9798);v.exports=new I("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function F(L){return"<<"===L||null===L}})},4332:(v,w,A)=>{"use strict";var I=A(9798);v.exports=new I("tag:yaml.org,2002:null",{kind:"scalar",resolve:function F(c){if(null===c)return!0;var _=c.length;return 1===_&&"~"===c||4===_&&("null"===c||"Null"===c||"NULL"===c)},construct:function L(){return null},predicate:function b(c){return null===c},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})},9461:(v,w,A)=>{"use strict";var I=A(9798),F=Object.prototype.hasOwnProperty,L=Object.prototype.toString;v.exports=new I("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function b(_){if(null===_)return!0;var T,x,k,V,K,y=[],Y=_;for(T=0,x=Y.length;T<x;T+=1){if(K=!1,"[object Object]"!==L.call(k=Y[T]))return!1;for(V in k)if(F.call(k,V)){if(K)return!1;K=!0}if(!K)return!1;if(-1!==y.indexOf(V))return!1;y.push(V)}return!0},construct:function c(_){return null!==_?_:[]}})},866:(v,w,A)=>{"use strict";var I=A(9798),F=Object.prototype.toString;v.exports=new I("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function L(c){if(null===c)return!0;var _,y,T,x,k,V=c;for(k=new Array(V.length),_=0,y=V.length;_<y;_+=1){if("[object Object]"!==F.call(T=V[_])||1!==(x=Object.keys(T)).length)return!1;k[_]=[x[0],T[x[0]]]}return!0},construct:function b(c){if(null===c)return[];var _,y,T,x,k,V=c;for(k=new Array(V.length),_=0,y=V.length;_<y;_+=1)T=V[_],x=Object.keys(T),k[_]=[x[0],T[x[0]]];return k}})},1801:(v,w,A)=>{"use strict";var I=A(9798);v.exports=new I("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(F){return null!==F?F:[]}})},3852:(v,w,A)=>{"use strict";var I=A(9798),F=Object.prototype.hasOwnProperty;v.exports=new I("tag:yaml.org,2002:set",{kind:"mapping",resolve:function L(c){if(null===c)return!0;var _,y=c;for(_ in y)if(F.call(y,_)&&null!==y[_])return!1;return!0},construct:function b(c){return null!==c?c:{}}})},2103:(v,w,A)=>{"use strict";var I=A(9798);v.exports=new I("tag:yaml.org,2002:str",{kind:"scalar",construct:function(F){return null!==F?F:""}})},5714:(v,w,A)=>{"use strict";var I=A(9798),F=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),L=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");v.exports=new I("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function b(y){return null!==y&&(null!==F.exec(y)||null!==L.exec(y))},construct:function c(y){var T,x,k,V,K,Y,he,Me,se=0,Se=null;if(null===(T=F.exec(y))&&(T=L.exec(y)),null===T)throw new Error("Date resolve error");if(x=+T[1],k=+T[2]-1,V=+T[3],!T[4])return new Date(Date.UTC(x,k,V));if(K=+T[4],Y=+T[5],he=+T[6],T[7]){for(se=T[7].slice(0,3);se.length<3;)se+="0";se=+se}return T[9]&&(Se=6e4*(60*+T[10]+ +(T[11]||0)),"-"===T[9]&&(Se=-Se)),Me=new Date(Date.UTC(x,k,V,K,Y,he,se)),Se&&Me.setTime(Me.getTime()-Se),Me},instanceOf:Date,represent:function _(y){return y.toISOString()}})},1184:()=>{},1114:function(v,w,A){(v=A.nmd(v)).exports=function(){"use strict";var I;function F(){return I.apply(null,arguments)}function L(g){return g instanceof Array||"[object Array]"===Object.prototype.toString.call(g)}function b(g){return null!=g&&"[object Object]"===Object.prototype.toString.call(g)}function c(g,D){return Object.prototype.hasOwnProperty.call(g,D)}function _(g){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(g).length;for(var D in g)if(c(g,D))return;return 1}function y(g){return void 0===g}function T(g){return"number"==typeof g||"[object Number]"===Object.prototype.toString.call(g)}function x(g){return g instanceof Date||"[object Date]"===Object.prototype.toString.call(g)}function k(g,D){for(var N=[],W=g.length,Z=0;Z<W;++Z)N.push(D(g[Z],Z));return N}function V(g,D){for(var N in D)c(D,N)&&(g[N]=D[N]);return c(D,"toString")&&(g.toString=D.toString),c(D,"valueOf")&&(g.valueOf=D.valueOf),g}function K(g,D,N,W){return ji(g,D,N,W,!0).utc()}function Y(g){return null==g._pf&&(g._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),g._pf}function he(g){if(null==g._isValid){var D=Y(g),N=Se.call(D.parsedDateParts,function(W){return null!=W});if(N=!isNaN(g._d.getTime())&&D.overflow<0&&!D.empty&&!D.invalidEra&&!D.invalidMonth&&!D.invalidWeekday&&!D.weekdayMismatch&&!D.nullInput&&!D.invalidFormat&&!D.userInvalidated&&(!D.meridiem||D.meridiem&&N),g._strict&&(N=N&&0===D.charsLeftOver&&0===D.unusedTokens.length&&void 0===D.bigHour),null!=Object.isFrozen&&Object.isFrozen(g))return N;g._isValid=N}return g._isValid}function se(g){var D=K(NaN);return null!=g?V(Y(D),g):Y(D).userInvalidated=!0,D}var Se=Array.prototype.some||function(g){for(var D=Object(this),N=D.length>>>0,W=0;W<N;W++)if(W in D&&g.call(this,D[W],W,D))return!0;return!1},st=F.momentProperties=[],pe=!1;function Me(g,D){var N,W,Z,fe=st.length;if(y(D._isAMomentObject)||(g._isAMomentObject=D._isAMomentObject),y(D._i)||(g._i=D._i),y(D._f)||(g._f=D._f),y(D._l)||(g._l=D._l),y(D._strict)||(g._strict=D._strict),y(D._tzm)||(g._tzm=D._tzm),y(D._isUTC)||(g._isUTC=D._isUTC),y(D._offset)||(g._offset=D._offset),y(D._pf)||(g._pf=Y(D)),y(D._locale)||(g._locale=D._locale),0<fe)for(N=0;N<fe;N++)y(Z=D[W=st[N]])||(g[W]=Z);return g}function at(g){Me(this,g),this._d=new Date(null!=g._d?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===pe&&(pe=!0,F.updateOffset(this),pe=!1)}function Re(g){return g instanceof at||null!=g&&null!=g._isAMomentObject}function ht(g){!1===F.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+g)}function R(g,D){var N=!0;return V(function(){if(null!=F.deprecationHandler&&F.deprecationHandler(null,g),N){for(var W,Z,fe=[],_e=arguments.length,Pe=0;Pe<_e;Pe++){if(W="","object"==typeof arguments[Pe]){for(Z in W+="\n["+Pe+"] ",arguments[0])c(arguments[0],Z)&&(W+=Z+": "+arguments[0][Z]+", ");W=W.slice(0,-2)}else W=arguments[Pe];fe.push(W)}ht(g+"\nArguments: "+Array.prototype.slice.call(fe).join("")+"\n"+(new Error).stack),N=!1}return D.apply(this,arguments)},D)}var Mt={};function Yt(g,D){null!=F.deprecationHandler&&F.deprecationHandler(g,D),Mt[g]||(ht(D),Mt[g]=!0)}function ei(g){return typeof Function<"u"&&g instanceof Function||"[object Function]"===Object.prototype.toString.call(g)}function pn(g,D){var N,W=V({},g);for(N in D)c(D,N)&&(b(g[N])&&b(D[N])?(W[N]={},V(W[N],g[N]),V(W[N],D[N])):null!=D[N]?W[N]=D[N]:delete W[N]);for(N in g)c(g,N)&&!c(D,N)&&b(g[N])&&(W[N]=V({},W[N]));return W}function ti(g){null!=g&&this.set(g)}F.suppressDeprecationWarnings=!1,F.deprecationHandler=null;var wi=Object.keys||function(g){var D,N=[];for(D in g)c(g,D)&&N.push(D);return N};function ut(g,D,N){var W=""+Math.abs(g);return(0<=g?N?"+":"":"-")+Math.pow(10,Math.max(0,D-W.length)).toString().substr(1)+W}var ii=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Et=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ct={},Ri={};function gt(g,D,N,W){var Z="string"==typeof W?function(){return this[W]()}:W;g&&(Ri[g]=Z),D&&(Ri[D[0]]=function(){return ut(Z.apply(this,arguments),D[1],D[2])}),N&&(Ri[N]=function(){return this.localeData().ordinal(Z.apply(this,arguments),g)})}function _i(g,D){return g.isValid()?(D=tn(D,g.localeData()),ct[D]=ct[D]||function(N){for(var W,Z=N.match(ii),fe=0,_e=Z.length;fe<_e;fe++)Z[fe]=Ri[Z[fe]]?Ri[Z[fe]]:(W=Z[fe]).match(/\[[\s\S]/)?W.replace(/^\[|\]$/g,""):W.replace(/\\/g,"");return function(Pe){for(var qe="",tt=0;tt<_e;tt++)qe+=ei(Z[tt])?Z[tt].call(Pe,N):Z[tt];return qe}}(D),ct[D](g)):g.localeData().invalidDate()}function tn(g,D){var N=5;function W(Z){return D.longDateFormat(Z)||Z}for(Et.lastIndex=0;0<=N&&Et.test(g);)g=g.replace(Et,W),Et.lastIndex=0,--N;return g}var Yi={};function It(g,D){var N=g.toLowerCase();Yi[N]=Yi[N+"s"]=Yi[D]=g}function Qt(g){return"string"==typeof g?Yi[g]||Yi[g.toLowerCase()]:void 0}function gn(g){var D,N,W={};for(N in g)c(g,N)&&(D=Qt(N))&&(W[D]=g[N]);return W}var an={};function Ai(g,D){an[g]=D}function Mi(g){return g%4==0&&g%100!=0||g%400==0}function Pi(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function Lt(D){return 0!=(D=+D)&&isFinite(D)?Pi(D):0}function Wi(g,D){return function(N){return null!=N?(fo(this,g,N),F.updateOffset(this,D),this):Oi(this,g)}}function Oi(g,D){return g.isValid()?g._d["get"+(g._isUTC?"UTC":"")+D]():NaN}function fo(g,D,N){g.isValid()&&!isNaN(N)&&("FullYear"===D&&Mi(g.year())&&1===g.month()&&29===g.date()?(N=Lt(N),g._d["set"+(g._isUTC?"UTC":"")+D](N,g.month(),mt(N,g.month()))):g._d["set"+(g._isUTC?"UTC":"")+D](N))}var Ae=/\d/,Ze=/\d\d/,Ln=/\d{3}/,Pr=/\d{4}/,$e=/[+-]?\d{6}/,hi=/\d\d?/,St=/\d\d\d\d?/,qi=/\d\d\d\d\d\d?/,Ar=/\d{1,3}/,ve=/\d{1,4}/,Gr=/[+-]?\d{1,6}/,Or=/\d+/,Xr=/[+-]?\d+/,S=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function me(g,D,N){Qe[g]=ei(D)?D:function(W,Z){return W&&N?N:D}}function Ie(g,D){return c(Qe,g)?Qe[g](D._strict,D._locale):new RegExp(ze(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(N,W,Z,fe,_e){return W||Z||fe||_e})))}function ze(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Qe={},vt={};function _t(g,D){var N,W,Z=D;for("string"==typeof g&&(g=[g]),T(D)&&(Z=function(fe,_e){_e[D]=Lt(fe)}),W=g.length,N=0;N<W;N++)vt[g[N]]=Z}function Ft(g,D){_t(g,function(N,W,Z,fe){Z._w=Z._w||{},D(N,Z._w,Z,fe)})}var Zt;function mt(g,D){if(isNaN(g)||isNaN(D))return NaN;var N=(D%(N=12)+N)%N;return g+=(D-N)/12,1==N?Mi(g)?29:28:31-N%7%2}Zt=Array.prototype.indexOf||function(g){for(var D=0;D<this.length;++D)if(this[D]===g)return D;return-1},gt("M",["MM",2],"Mo",function(){return this.month()+1}),gt("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),gt("MMMM",0,0,function(g){return this.localeData().months(this,g)}),It("month","M"),Ai("month",8),me("M",hi),me("MM",hi,Ze),me("MMM",function(g,D){return D.monthsShortRegex(g)}),me("MMMM",function(g,D){return D.monthsRegex(g)}),_t(["M","MM"],function(g,D){D[1]=Lt(g)-1}),_t(["MMM","MMMM"],function(g,D,N,W){null!=(W=N._locale.monthsParse(g,W,N._strict))?D[1]=W:Y(N).invalidMonth=g});var Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ki=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ln=Ce,Li=Ce;function Hr(g,D){var N;if(g.isValid()){if("string"==typeof D)if(/^\d+$/.test(D))D=Lt(D);else if(!T(D=g.localeData().monthsParse(D)))return;N=Math.min(g.date(),mt(g.year(),D)),g._d["set"+(g._isUTC?"UTC":"")+"Month"](D,N)}}function $r(g){return null!=g?(Hr(this,g),F.updateOffset(this,!0),this):Oi(this,"Month")}function mr(){function g(_e,Pe){return Pe.length-_e.length}for(var D,N=[],W=[],Z=[],fe=0;fe<12;fe++)D=K([2e3,fe]),N.push(this.monthsShort(D,"")),W.push(this.months(D,"")),Z.push(this.months(D,"")),Z.push(this.monthsShort(D,""));for(N.sort(g),W.sort(g),Z.sort(g),fe=0;fe<12;fe++)N[fe]=ze(N[fe]),W[fe]=ze(W[fe]);for(fe=0;fe<24;fe++)Z[fe]=ze(Z[fe]);this._monthsRegex=new RegExp("^("+Z.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+W.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+N.join("|")+")","i")}function Un(g){return Mi(g)?366:365}gt("Y",0,0,function(){var g=this.year();return g<=9999?ut(g,4):"+"+g}),gt(0,["YY",2],0,function(){return this.year()%100}),gt(0,["YYYY",4],0,"year"),gt(0,["YYYYY",5],0,"year"),gt(0,["YYYYYY",6,!0],0,"year"),It("year","y"),Ai("year",1),me("Y",Xr),me("YY",hi,Ze),me("YYYY",ve,Pr),me("YYYYY",Gr,$e),me("YYYYYY",Gr,$e),_t(["YYYYY","YYYYYY"],0),_t("YYYY",function(g,D){D[0]=2===g.length?F.parseTwoDigitYear(g):Lt(g)}),_t("YY",function(g,D){D[0]=F.parseTwoDigitYear(g)}),_t("Y",function(g,D){D[0]=parseInt(g,10)}),F.parseTwoDigitYear=function(g){return Lt(g)+(68<Lt(g)?1900:2e3)};var Ne=Wi("FullYear",!0);function Vn(g,D,N,W,Z,fe,_e){var Pe;return g<100&&0<=g?(Pe=new Date(g+400,D,N,W,Z,fe,_e),isFinite(Pe.getFullYear())&&Pe.setFullYear(g)):Pe=new Date(g,D,N,W,Z,fe,_e),Pe}function po(g){var D;return g<100&&0<=g?((D=Array.prototype.slice.call(arguments))[0]=g+400,D=new Date(Date.UTC.apply(null,D)),isFinite(D.getUTCFullYear())&&D.setUTCFullYear(g)):D=new Date(Date.UTC.apply(null,arguments)),D}function ls(g,D,N){return(N=7+D-N)-(7+po(g,0,N).getUTCDay()-D)%7-1}function Ds(g,_e,Pe,W,Z){var fe;return Pe=(_e=1+7*(_e-1)+(7+Pe-W)%7+ls(g,W,Z))<=0?Un(fe=g-1)+_e:_e>Un(g)?(fe=g+1,_e-Un(g)):(fe=g,_e),{year:fe,dayOfYear:Pe}}function jo(g,D,N){var W,Z,fe=ls(g.year(),D,N);return(fe=Math.floor((g.dayOfYear()-fe-1)/7)+1)<1?W=fe+Hn(Z=g.year()-1,D,N):fe>Hn(g.year(),D,N)?(W=fe-Hn(g.year(),D,N),Z=g.year()+1):(Z=g.year(),W=fe),{week:W,year:Z}}function Hn(g,Z,N){var W=ls(g,Z,N);return Z=ls(g+1,Z,N),(Un(g)-W+Z)/7}function Oo(g,D){return g.slice(D,7).concat(g.slice(0,D))}gt("w",["ww",2],"wo","week"),gt("W",["WW",2],"Wo","isoWeek"),It("week","w"),It("isoWeek","W"),Ai("week",5),Ai("isoWeek",5),me("w",hi),me("ww",hi,Ze),me("W",hi),me("WW",hi,Ze),Ft(["w","ww","W","WW"],function(g,D,N,W){D[W.substr(0,1)]=Lt(g)}),gt("d",0,"do","day"),gt("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),gt("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),gt("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),gt("e",0,0,"weekday"),gt("E",0,0,"isoWeekday"),It("day","d"),It("weekday","e"),It("isoWeekday","E"),Ai("day",11),Ai("weekday",11),Ai("isoWeekday",11),me("d",hi),me("e",hi),me("E",hi),me("dd",function(g,D){return D.weekdaysMinRegex(g)}),me("ddd",function(g,D){return D.weekdaysShortRegex(g)}),me("dddd",function(g,D){return D.weekdaysRegex(g)}),Ft(["dd","ddd","dddd"],function(g,D,N,W){null!=(W=N._locale.weekdaysParse(g,W,N._strict))?D.d=W:Y(N).invalidWeekday=g}),Ft(["d","e","E"],function(g,D,N,W){D[W]=Lt(g)});var Zi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),er="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),on="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mn=Ce,Ji=Ce,zn=Ce;function us(){function g(tt,At){return At.length-tt.length}for(var D,N,W,Z=[],fe=[],_e=[],Pe=[],qe=0;qe<7;qe++)W=K([2e3,1]).day(qe),D=ze(this.weekdaysMin(W,"")),N=ze(this.weekdaysShort(W,"")),W=ze(this.weekdays(W,"")),Z.push(D),fe.push(N),_e.push(W),Pe.push(D),Pe.push(N),Pe.push(W);Z.sort(g),fe.sort(g),_e.sort(g),Pe.sort(g),this._weekdaysRegex=new RegExp("^("+Pe.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+_e.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+fe.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Z.join("|")+")","i")}function Br(){return this.hours()%12||12}function Qr(g,D){gt(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),D)})}function Io(g,D){return D._meridiemParse}gt("H",["HH",2],0,"hour"),gt("h",["hh",2],0,Br),gt("k",["kk",2],0,function(){return this.hours()||24}),gt("hmm",0,0,function(){return""+Br.apply(this)+ut(this.minutes(),2)}),gt("hmmss",0,0,function(){return""+Br.apply(this)+ut(this.minutes(),2)+ut(this.seconds(),2)}),gt("Hmm",0,0,function(){return""+this.hours()+ut(this.minutes(),2)}),gt("Hmmss",0,0,function(){return""+this.hours()+ut(this.minutes(),2)+ut(this.seconds(),2)}),Qr("a",!0),Qr("A",!1),It("hour","h"),Ai("hour",13),me("a",Io),me("A",Io),me("H",hi),me("h",hi),me("k",hi),me("HH",hi,Ze),me("hh",hi,Ze),me("kk",hi,Ze),me("hmm",St),me("hmmss",qi),me("Hmm",St),me("Hmmss",qi),_t(["H","HH"],3),_t(["k","kk"],function(g,D,N){g=Lt(g),D[3]=24===g?0:g}),_t(["a","A"],function(g,D,N){N._isPm=N._locale.isPM(g),N._meridiem=g}),_t(["h","hh"],function(g,D,N){D[3]=Lt(g),Y(N).bigHour=!0}),_t("hmm",function(g,D,N){var W=g.length-2;D[3]=Lt(g.substr(0,W)),D[4]=Lt(g.substr(W)),Y(N).bigHour=!0}),_t("hmmss",function(g,D,N){var W=g.length-4,Z=g.length-2;D[3]=Lt(g.substr(0,W)),D[4]=Lt(g.substr(W,2)),D[5]=Lt(g.substr(Z)),Y(N).bigHour=!0}),_t("Hmm",function(g,D,N){var W=g.length-2;D[3]=Lt(g.substr(0,W)),D[4]=Lt(g.substr(W))}),_t("Hmmss",function(g,D,N){var W=g.length-4,Z=g.length-2;D[3]=Lt(g.substr(0,W)),D[4]=Lt(g.substr(W,2)),D[5]=Lt(g.substr(Z))}),Ce=Wi("Hours",!0);var tr,Yn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:Gt,week:{dow:0,doy:6},weekdays:Zi,weekdaysMin:on,weekdaysShort:er,meridiemParse:/[ap]\.?m?\.?/i},Gi={},Ir={};function Zr(g){return g&&g.toLowerCase().replace("_","-")}function Rr(g){var D;if(void 0===Gi[g]&&v&&v.exports&&null!=g.match("^[^/\\\\]*$"))try{D=tr._abbr,A(1748)("./"+g),Mr(D)}catch{Gi[g]=null}return Gi[g]}function Mr(g,D){return g&&((D=y(D)?vr(g):Ro(g,D))?tr=D:typeof console<"u"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),tr._abbr}function Ro(g,D){if(null===D)return delete Gi[g],null;var N,W=Yn;if(D.abbr=g,null!=Gi[g])Yt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),W=Gi[g]._config;else if(null!=D.parentLocale)if(null!=Gi[D.parentLocale])W=Gi[D.parentLocale]._config;else{if(null==(N=Rr(D.parentLocale)))return Ir[D.parentLocale]||(Ir[D.parentLocale]=[]),Ir[D.parentLocale].push({name:g,config:D}),null;W=N._config}return Gi[g]=new ti(pn(W,D)),Ir[g]&&Ir[g].forEach(function(Z){Ro(Z.name,Z.config)}),Mr(g),Gi[g]}function vr(g){var D;if(!(g=g&&g._locale&&g._locale._abbr?g._locale._abbr:g))return tr;if(!L(g)){if(D=Rr(g))return D;g=[g]}return function ds(g){for(var D,N,W,Z,fe=0;fe<g.length;){for(D=(Z=Zr(g[fe]).split("-")).length,N=(N=Zr(g[fe+1]))?N.split("-"):null;0<D;){if(W=Rr(Z.slice(0,D).join("-")))return W;if(N&&N.length>=D&&function(_e,Pe){for(var qe=Math.min(_e.length,Pe.length),tt=0;tt<qe;tt+=1)if(_e[tt]!==Pe[tt])return tt;return qe}(Z,N)>=D-1)break;D--}fe++}return tr}(g)}function Tn(g){var D=g._a;return D&&-2===Y(g).overflow&&(D=D[1]<0||11<D[1]?1:D[2]<1||D[2]>mt(D[0],D[1])?2:D[3]<0||24<D[3]||24===D[3]&&(0!==D[4]||0!==D[5]||0!==D[6])?3:D[4]<0||59<D[4]?4:D[5]<0||59<D[5]?5:D[6]<0||999<D[6]?6:-1,Y(g)._overflowDayOfYear&&(D<0||2<D)&&(D=2),Y(g)._overflowWeeks&&-1===D&&(D=7),Y(g)._overflowWeekday&&-1===D&&(D=8),Y(g).overflow=D),g}var _r=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,si=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mo=/Z|[+-]\d\d(?::?\d\d)?/,go=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Jr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ui=/^\/?Date\((-?\d+)/i,ue=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,re={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function we(g){var D,N,W,Z,fe,_e,Pe=_r.exec(qe=g._i)||si.exec(qe),qe=go.length,tt=Jr.length;if(Pe){for(Y(g).iso=!0,D=0,N=qe;D<N;D++)if(go[D][1].exec(Pe[1])){Z=go[D][0],W=!1!==go[D][2];break}if(null==Z)g._isValid=!1;else{if(Pe[3]){for(D=0,N=tt;D<N;D++)if(Jr[D][1].exec(Pe[3])){fe=(Pe[2]||" ")+Jr[D][0];break}if(null==fe)return void(g._isValid=!1)}if(W||null==fe){if(Pe[4]){if(!Mo.exec(Pe[4]))return void(g._isValid=!1);_e="Z"}g._f=Z+(fe||"")+(_e||""),bi(g)}else g._isValid=!1}}else g._isValid=!1}function Fe(g){var D,N,W,Z,fe=ue.exec(g._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));fe?(W=D=function We(g,D,N,W,Z,fe){return g=[(_e=g,(_e=parseInt(_e,10))<=49?2e3+_e:_e<=999?1900+_e:_e),Gt.indexOf(D),parseInt(N,10),parseInt(W,10),parseInt(Z,10)],fe&&g.push(parseInt(fe,10)),g;var _e}(fe[4],fe[3],fe[2],fe[5],fe[6],fe[7]),Z=g,(N=fe[1])&&er.indexOf(N)!==new Date(W[0],W[1],W[2]).getDay()?(Y(Z).weekdayMismatch=!0,Z._isValid=!1):(g._a=D,g._tzm=(W=fe[9],Z=fe[10],(N=fe[8])?re[N]:W?0:((N=parseInt(Z,10))-(W=N%100))/100*60+W),g._d=po.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),Y(g).rfc2822=!0)):g._isValid=!1}function Ye(g,D,N){return g??D??N}function Dt(g){var D,N,W,Z,fe,_e,Pe,qe,tt,At,$t,kt=[];if(!g._d){for(W=g,Z=new Date(F.now()),N=W._useUTC?[Z.getUTCFullYear(),Z.getUTCMonth(),Z.getUTCDate()]:[Z.getFullYear(),Z.getMonth(),Z.getDate()],g._w&&null==g._a[2]&&null==g._a[1]&&(null!=(Z=(W=g)._w).GG||null!=Z.W||null!=Z.E?(qe=1,tt=4,fe=Ye(Z.GG,W._a[0],jo(Je(),1,4).year),_e=Ye(Z.W,1),((Pe=Ye(Z.E,1))<1||7<Pe)&&(At=!0)):(qe=W._locale._week.dow,tt=W._locale._week.doy,$t=jo(Je(),qe,tt),fe=Ye(Z.gg,W._a[0],$t.year),_e=Ye(Z.w,$t.week),null!=Z.d?((Pe=Z.d)<0||6<Pe)&&(At=!0):null!=Z.e?(Pe=Z.e+qe,(Z.e<0||6<Z.e)&&(At=!0)):Pe=qe),_e<1||_e>Hn(fe,qe,tt)?Y(W)._overflowWeeks=!0:null!=At?Y(W)._overflowWeekday=!0:($t=Ds(fe,_e,Pe,qe,tt),W._a[0]=$t.year,W._dayOfYear=$t.dayOfYear)),null!=g._dayOfYear&&(Z=Ye(g._a[0],N[0]),(g._dayOfYear>Un(Z)||0===g._dayOfYear)&&(Y(g)._overflowDayOfYear=!0),At=po(Z,0,g._dayOfYear),g._a[1]=At.getUTCMonth(),g._a[2]=At.getUTCDate()),D=0;D<3&&null==g._a[D];++D)g._a[D]=kt[D]=N[D];for(;D<7;D++)g._a[D]=kt[D]=g._a[D]??(2===D?1:0);24===g._a[3]&&0===g._a[4]&&0===g._a[5]&&0===g._a[6]&&(g._nextDay=!0,g._a[3]=0),g._d=(g._useUTC?po:Vn).apply(null,kt),fe=g._useUTC?g._d.getUTCDay():g._d.getDay(),null!=g._tzm&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[3]=24),g._w&&void 0!==g._w.d&&g._w.d!==fe&&(Y(g).weekdayMismatch=!0)}}function bi(g){if(g._f===F.ISO_8601)we(g);else if(g._f===F.RFC_2822)Fe(g);else{g._a=[],Y(g).empty=!0;for(var D,N,W,Z,fe,_e=""+g._i,Pe=_e.length,qe=0,tt=tn(g._f,g._locale).match(ii)||[],At=tt.length,$t=0;$t<At;$t++)(D=(_e.match(Ie(N=tt[$t],g))||[])[0])&&(0<(W=_e.substr(0,_e.indexOf(D))).length&&Y(g).unusedInput.push(W),_e=_e.slice(_e.indexOf(D)+D.length),qe+=D.length),Ri[N]?(D?Y(g).empty=!1:Y(g).unusedTokens.push(N),W=N,fe=g,null!=(Z=D)&&c(vt,W)&&vt[W](Z,fe._a,fe,W)):g._strict&&!D&&Y(g).unusedTokens.push(N);Y(g).charsLeftOver=Pe-qe,0<_e.length&&Y(g).unusedInput.push(_e),g._a[3]<=12&&!0===Y(g).bigHour&&0<g._a[3]&&(Y(g).bigHour=void 0),Y(g).parsedDateParts=g._a.slice(0),Y(g).meridiem=g._meridiem,g._a[3]=(kt=g._locale,Si=g._a[3],null==(Ct=g._meridiem)?Si:null!=kt.meridiemHour?kt.meridiemHour(Si,Ct):null!=kt.isPM?((kt=kt.isPM(Ct))&&Si<12&&(Si+=12),Si=kt||12!==Si?Si:0):Si),null!==(Pe=Y(g).era)&&(g._a[0]=g._locale.erasConvertYear(Pe,g._a[0])),Dt(g),Tn(g)}var kt,Si,Ct}function Ge(g){var D,N,W,Z=g._i,fe=g._f;return g._locale=g._locale||vr(g._l),null===Z||void 0===fe&&""===Z?se({nullInput:!0}):("string"==typeof Z&&(g._i=Z=g._locale.preparse(Z)),Re(Z)?new at(Tn(Z)):(x(Z)?g._d=Z:L(fe)?function(_e){var Pe,qe,tt,At,$t,kt,Si=!1,Ct=_e._f.length;if(0===Ct)return Y(_e).invalidFormat=!0,_e._d=new Date(NaN);for(At=0;At<Ct;At++)$t=0,kt=!1,Pe=Me({},_e),null!=_e._useUTC&&(Pe._useUTC=_e._useUTC),Pe._f=_e._f[At],bi(Pe),he(Pe)&&(kt=!0),$t=($t+=Y(Pe).charsLeftOver)+10*Y(Pe).unusedTokens.length,Y(Pe).score=$t,Si?$t<tt&&(tt=$t,qe=Pe):(null==tt||$t<tt||kt)&&(tt=$t,qe=Pe,kt&&(Si=!0));V(_e,qe||Pe)}(g):fe?bi(g):y(fe=(Z=g)._i)?Z._d=new Date(F.now()):x(fe)?Z._d=new Date(fe.valueOf()):"string"==typeof fe?null!==(D=Ui.exec((N=Z)._i))?N._d=new Date(+D[1]):(we(N),!1===N._isValid&&(delete N._isValid,Fe(N),!1===N._isValid&&(delete N._isValid,N._strict?N._isValid=!1:F.createFromInputFallback(N)))):L(fe)?(Z._a=k(fe.slice(0),function(_e){return parseInt(_e,10)}),Dt(Z)):b(fe)?(D=Z)._d||(W=void 0===(N=gn(D._i)).day?N.date:N.day,D._a=k([N.year,N.month,W,N.hour,N.minute,N.second,N.millisecond],function(_e){return _e&&parseInt(_e,10)}),Dt(D)):T(fe)?Z._d=new Date(fe):F.createFromInputFallback(Z),he(g)||(g._d=null),g))}function ji(g,D,N,W,Z){var fe={};return!0!==D&&!1!==D||(W=D,D=void 0),!0!==N&&!1!==N||(W=N,N=void 0),(b(g)&&_(g)||L(g)&&0===g.length)&&(g=void 0),fe._isAMomentObject=!0,fe._useUTC=fe._isUTC=Z,fe._l=N,fe._i=g,fe._f=D,fe._strict=W,(Z=new at(Tn(Ge(Z=fe))))._nextDay&&(Z.add(1,"d"),Z._nextDay=void 0),Z}function Je(g,D,N,W){return ji(g,D,N,W,!1)}function pi(g,D){var N,W;if(!(D=1===D.length&&L(D[0])?D[0]:D).length)return Je();for(N=D[0],W=1;W<D.length;++W)D[W].isValid()&&!D[W][g](N)||(N=D[W]);return N}F.createFromInputFallback=R("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))}),F.ISO_8601=function(){},F.RFC_2822=function(){},St=R("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Je.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:se()}),qi=R("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Je.apply(null,arguments);return this.isValid()&&g.isValid()?this<g?this:g:se()});var Yo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ts(D){var N=(D=gn(D)).year||0,W=D.quarter||0,Z=D.month||0,fe=D.week||D.isoWeek||0,_e=D.day||0,Pe=D.hour||0,qe=D.minute||0,tt=D.second||0,At=D.millisecond||0;this._isValid=function($t){var kt,Si,Ct=!1,ci=Yo.length;for(kt in $t)if(c($t,kt)&&(-1===Zt.call(Yo,kt)||null!=$t[kt]&&isNaN($t[kt])))return!1;for(Si=0;Si<ci;++Si)if($t[Yo[Si]]){if(Ct)return!1;parseFloat($t[Yo[Si]])!==Lt($t[Yo[Si]])&&(Ct=!0)}return!0}(D),this._milliseconds=+At+1e3*tt+6e4*qe+1e3*Pe*60*60,this._days=+_e+7*fe,this._months=+Z+3*W+12*N,this._data={},this._locale=vr(),this._bubble()}function qo(g){return g instanceof Ts}function Ur(g){return g<0?-1*Math.round(-1*g):Math.round(g)}function qn(g,D){gt(g,0,0,function(){var N=this.utcOffset(),W="+";return N<0&&(N=-N,W="-"),W+ut(~~(N/60),2)+D+ut(~~N%60,2)})}qn("Z",":"),qn("ZZ",""),me("Z",ce),me("ZZ",ce),_t(["Z","ZZ"],function(g,D,N){N._useUTC=!0,N._tzm=cs(ce,g)});var Ha=/([\+\-]|\d\d)/gi;function cs(g,N){return null===(N=(N||"").match(g))?null:0===(N=60*(g=((N[N.length-1]||[])+"").match(Ha)||["-",0,0])[1]+Lt(g[2]))?0:"+"===g[0]?N:-N}function xs(g,D){var N;return D._isUTC?(D=D.clone(),N=(Re(g)||x(g)?g:Je(g)).valueOf()-D.valueOf(),D._d.setTime(D._d.valueOf()+N),F.updateOffset(D,!1),D):Je(g).local()}function zr(g){return-Math.round(g._d.getTimezoneOffset())}function mo(){return!!this.isValid()&&this._isUTC&&0===this._offset}F.updateOffset=function(){};var Ws=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,dl=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wr(g,D){var N,fe,_e,Pe,W=g,Z=null;return qo(g)?W={ms:g._milliseconds,d:g._days,M:g._months}:T(g)||!isNaN(+g)?(W={},D?W[D]=+g:W.milliseconds=+g):(Z=Ws.exec(g))?(N="-"===Z[1]?-1:1,W={y:0,d:Lt(Z[2])*N,h:Lt(Z[3])*N,m:Lt(Z[4])*N,s:Lt(Z[5])*N,ms:Lt(Ur(1e3*Z[6]))*N}):(Z=dl.exec(g))?W={y:Ko(Z[2],N="-"===Z[1]?-1:1),M:Ko(Z[3],N),w:Ko(Z[4],N),d:Ko(Z[5],N),h:Ko(Z[6],N),m:Ko(Z[7],N),s:Ko(Z[8],N)}:null==W?W={}:"object"==typeof W&&("from"in W||"to"in W)&&(fe=Je(W.from),_e=Je(W.to),D=fe.isValid()&&_e.isValid()?(_e=xs(_e,fe),fe.isBefore(_e)?Pe=As(fe,_e):((Pe=As(_e,fe)).milliseconds=-Pe.milliseconds,Pe.months=-Pe.months),Pe):{milliseconds:0,months:0},(W={}).ms=D.milliseconds,W.M=D.months),Z=new Ts(W),qo(g)&&c(g,"_locale")&&(Z._locale=g._locale),qo(g)&&c(g,"_isValid")&&(Z._isValid=g._isValid),Z}function Ko(g,D){return g=g&&parseFloat(g.replace(",",".")),(isNaN(g)?0:g)*D}function As(g,D){var N={};return N.months=D.month()-g.month()+12*(D.year()-g.year()),g.clone().add(N.months,"M").isAfter(D)&&--N.months,N.milliseconds=+D-+g.clone().add(N.months,"M"),N}function eo(g,D){return function(N,W){var Z;return null===W||isNaN(+W)||(Yt(D,"moment()."+D+"(period, number) is deprecated. Please use moment()."+D+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Z=N,N=W,W=Z),$a(this,Wr(N,W),g),this}}function $a(g,_e,N,W){var Z=_e._milliseconds,fe=Ur(_e._days);_e=Ur(_e._months),g.isValid()&&(W=null==W||W,_e&&Hr(g,Oi(g,"Month")+_e*N),fe&&fo(g,"Date",Oi(g,"Date")+fe*N),Z&&g._d.setTime(g._d.valueOf()+Z*N),W&&F.updateOffset(g,fe||_e))}function ir(g){return"string"==typeof g||g instanceof String}function Vi(g){return Re(g)||x(g)||ir(g)||T(g)||(W=!1,(N=L(D=g))&&(W=0===D.filter(function(Z){return!T(Z)&&ir(D)}).length),N&&W)||function(D){var N,Z=b(D)&&!_(D),fe=!1,_e=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Pe=_e.length;for(N=0;N<Pe;N+=1)fe=fe||c(D,_e[N]);return Z&&fe}(g)||null==g;var D,N,W}function hs(g,Z){if(g.date()<Z.date())return-hs(Z,g);var N=12*(Z.year()-g.year())+(Z.month()-g.month()),W=g.clone().add(N,"months");return-(N+(Z=Z-W<0?(Z-W)/(W-g.clone().add(N-1,"months")):(Z-W)/(g.clone().add(1+N,"months")-W)))||0}function Ba(g){return void 0===g?this._locale._abbr:(null!=(g=vr(g))&&(this._locale=g),this)}function Ht(){return this._locale}Wr.fn=Ts.prototype,Wr.invalid=function(){return Wr(NaN)},Tt=eo(1,"add"),Zi=eo(-1,"subtract"),F.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",F.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",on=R("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return void 0===g?this.localeData():this.locale(g)});var nn,oe=126227808e5;function rt(g,D){return(g%D+D)%D}function ft(g,D,N){return g<100&&0<=g?new Date(g+400,D,N)-oe:new Date(g,D,N).valueOf()}function Ei(g,D,N){return g<100&&0<=g?Date.UTC(g+400,D,N)-oe:Date.UTC(g,D,N)}function Kn(g,D){return D.erasAbbrRegex(g)}function Pn(){for(var g=[],D=[],N=[],W=[],Z=this.eras(),fe=0,_e=Z.length;fe<_e;++fe)D.push(ze(Z[fe].name)),g.push(ze(Z[fe].abbr)),N.push(ze(Z[fe].narrow)),W.push(ze(Z[fe].name)),W.push(ze(Z[fe].abbr)),W.push(ze(Z[fe].narrow));this._erasRegex=new RegExp("^("+W.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+D.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+N.join("|")+")","i")}function un(g,D){gt(0,[g,g.length],0,D)}function fs(g,D,N,W,Z){var fe;return null==g?jo(this,W,Z).year:(fe=Hn(g,W,Z),function(_e,Pe,qe,tt,At){return Pe=po((_e=Ds(_e,Pe,qe,tt,At)).year,0,_e.dayOfYear),this.year(Pe.getUTCFullYear()),this.month(Pe.getUTCMonth()),this.date(Pe.getUTCDate()),this}.call(this,g,D=fe<D?fe:D,N,W,Z))}for(gt("N",0,0,"eraAbbr"),gt("NN",0,0,"eraAbbr"),gt("NNN",0,0,"eraAbbr"),gt("NNNN",0,0,"eraName"),gt("NNNNN",0,0,"eraNarrow"),gt("y",["y",1],"yo","eraYear"),gt("y",["yy",2],0,"eraYear"),gt("y",["yyy",3],0,"eraYear"),gt("y",["yyyy",4],0,"eraYear"),me("N",Kn),me("NN",Kn),me("NNN",Kn),me("NNNN",function(g,D){return D.erasNameRegex(g)}),me("NNNNN",function(g,D){return D.erasNarrowRegex(g)}),_t(["N","NN","NNN","NNNN","NNNNN"],function(g,D,N,W){(W=N._locale.erasParse(g,W,N._strict))?Y(N).era=W:Y(N).invalidEra=g}),me("y",Or),me("yy",Or),me("yyy",Or),me("yyyy",Or),me("yo",function(g,D){return D._eraYearOrdinalRegex||Or}),_t(["y","yy","yyy","yyyy"],0),_t(["yo"],function(g,D,N,W){var Z;N._locale._eraYearOrdinalRegex&&(Z=g.match(N._locale._eraYearOrdinalRegex)),D[0]=N._locale.eraYearOrdinalParse?N._locale.eraYearOrdinalParse(g,Z):parseInt(g,10)}),gt(0,["gg",2],0,function(){return this.weekYear()%100}),gt(0,["GG",2],0,function(){return this.isoWeekYear()%100}),un("gggg","weekYear"),un("ggggg","weekYear"),un("GGGG","isoWeekYear"),un("GGGGG","isoWeekYear"),It("weekYear","gg"),It("isoWeekYear","GG"),Ai("weekYear",1),Ai("isoWeekYear",1),me("G",Xr),me("g",Xr),me("GG",hi,Ze),me("gg",hi,Ze),me("GGGG",ve,Pr),me("gggg",ve,Pr),me("GGGGG",Gr,$e),me("ggggg",Gr,$e),Ft(["gggg","ggggg","GGGG","GGGGG"],function(g,D,N,W){D[W.substr(0,2)]=Lt(g)}),Ft(["gg","GG"],function(g,D,N,W){D[W]=F.parseTwoDigitYear(g)}),gt("Q",0,"Qo","quarter"),It("quarter","Q"),Ai("quarter",7),me("Q",Ae),_t("Q",function(g,D){D[1]=3*(Lt(g)-1)}),gt("D",["DD",2],"Do","date"),It("date","D"),Ai("date",9),me("D",hi),me("DD",hi,Ze),me("Do",function(g,D){return g?D._dayOfMonthOrdinalParse||D._ordinalParse:D._dayOfMonthOrdinalParseLenient}),_t(["D","DD"],2),_t("Do",function(g,D){D[2]=Lt(g.match(hi)[0])}),ve=Wi("Date",!0),gt("DDD",["DDDD",3],"DDDo","dayOfYear"),It("dayOfYear","DDD"),Ai("dayOfYear",4),me("DDD",Ar),me("DDDD",Ln),_t(["DDD","DDDD"],function(g,D,N){N._dayOfYear=Lt(g)}),gt("m",["mm",2],0,"minute"),It("minute","m"),Ai("minute",14),me("m",hi),me("mm",hi,Ze),_t(["m","mm"],4),Pr=Wi("Minutes",!1),gt("s",["ss",2],0,"second"),It("second","s"),Ai("second",15),me("s",hi),me("ss",hi,Ze),_t(["s","ss"],5),Gr=Wi("Seconds",!1),gt("S",0,0,function(){return~~(this.millisecond()/100)}),gt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),gt(0,["SSS",3],0,"millisecond"),gt(0,["SSSS",4],0,function(){return 10*this.millisecond()}),gt(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),gt(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),gt(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),gt(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),gt(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),It("millisecond","ms"),Ai("millisecond",16),me("S",Ar,Ae),me("SS",Ar,Ze),me("SSS",Ar,Ln),nn="SSSS";nn.length<=9;nn+="S")me(nn,Or);function cl(g,D){D[6]=Lt(1e3*("0."+g))}for(nn="S";nn.length<=9;nn+="S")_t(nn,cl);function f(g){return g}function C(g,D,N,fe){var Z=vr();return fe=K().set(fe,D),Z[N](fe,g)}function O(g,D,N){if(T(g)&&(D=g,g=void 0),g=g||"",null!=D)return C(g,D,N,"month");for(var W=[],Z=0;Z<12;Z++)W[Z]=C(g,Z,N,"month");return W}function M(g,D,N,W){"boolean"==typeof g?T(D)&&(N=D,D=void 0):(D=g,g=!1,T(N=D)&&(N=D,D=void 0)),D=D||"";var Z,fe=vr(),_e=g?fe._week.dow:0,Pe=[];if(null!=N)return C(D,(N+_e)%7,W,"day");for(Z=0;Z<7;Z++)Pe[Z]=C(D,(Z+_e)%7,W,"day");return Pe}$e=Wi("Milliseconds",!1),gt("z",0,0,"zoneAbbr"),gt("zz",0,0,"zoneName"),(Ae=at.prototype).add=Tt,Ae.calendar=function(N,Z){1===arguments.length&&(arguments[0]?Vi(arguments[0])?(N=arguments[0],Z=void 0):function(fe){for(var _e=b(fe)&&!_(fe),Pe=!1,qe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],tt=0;tt<qe.length;tt+=1)Pe=Pe||c(fe,qe[tt]);return _e&&Pe}(arguments[0])&&(Z=arguments[0],N=void 0):Z=N=void 0);var W=xs(N=N||Je(),this).startOf("day");return W=F.calendarFormat(this,W)||"sameElse",Z=Z&&(ei(Z[W])?Z[W].call(this,N):Z[W]),this.format(Z||this.localeData().calendar(W,this,Je(N)))},Ae.clone=function(){return new at(this)},Ae.diff=function(g,D,N){var W,Z,fe;if(!this.isValid())return NaN;if(!(W=xs(g,this)).isValid())return NaN;switch(Z=6e4*(W.utcOffset()-this.utcOffset()),D=Qt(D)){case"year":fe=hs(this,W)/12;break;case"month":fe=hs(this,W);break;case"quarter":fe=hs(this,W)/3;break;case"second":fe=(this-W)/1e3;break;case"minute":fe=(this-W)/6e4;break;case"hour":fe=(this-W)/36e5;break;case"day":fe=(this-W-Z)/864e5;break;case"week":fe=(this-W-Z)/6048e5;break;default:fe=this-W}return N?fe:Pi(fe)},Ae.endOf=function(g){var D,N;if(void 0===(g=Qt(g))||"millisecond"===g||!this.isValid())return this;switch(N=this._isUTC?Ei:ft,g){case"year":D=N(this.year()+1,0,1)-1;break;case"quarter":D=N(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":D=N(this.year(),this.month()+1,1)-1;break;case"week":D=N(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":D=N(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":D=N(this.year(),this.month(),this.date()+1)-1;break;case"hour":D=this._d.valueOf(),D+=36e5-rt(D+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":D=this._d.valueOf(),D+=6e4-rt(D,6e4)-1;break;case"second":D=this._d.valueOf(),D+=1e3-rt(D,1e3)-1}return this._d.setTime(D),F.updateOffset(this,!0),this},Ae.format=function(g){return g=_i(this,g=g||(this.isUtc()?F.defaultFormatUtc:F.defaultFormat)),this.localeData().postformat(g)},Ae.from=function(g,D){return this.isValid()&&(Re(g)&&g.isValid()||Je(g).isValid())?Wr({to:this,from:g}).locale(this.locale()).humanize(!D):this.localeData().invalidDate()},Ae.fromNow=function(g){return this.from(Je(),g)},Ae.to=function(g,D){return this.isValid()&&(Re(g)&&g.isValid()||Je(g).isValid())?Wr({from:this,to:g}).locale(this.locale()).humanize(!D):this.localeData().invalidDate()},Ae.toNow=function(g){return this.to(Je(),g)},Ae.get=function(g){return ei(this[g=Qt(g)])?this[g]():this},Ae.invalidAt=function(){return Y(this).overflow},Ae.isAfter=function(g,D){return g=Re(g)?g:Je(g),!(!this.isValid()||!g.isValid())&&("millisecond"===(D=Qt(D)||"millisecond")?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(D).valueOf())},Ae.isBefore=function(g,D){return g=Re(g)?g:Je(g),!(!this.isValid()||!g.isValid())&&("millisecond"===(D=Qt(D)||"millisecond")?this.valueOf()<g.valueOf():this.clone().endOf(D).valueOf()<g.valueOf())},Ae.isBetween=function(g,D,N,W){return g=Re(g)?g:Je(g),D=Re(D)?D:Je(D),!!(this.isValid()&&g.isValid()&&D.isValid())&&("("===(W=W||"()")[0]?this.isAfter(g,N):!this.isBefore(g,N))&&(")"===W[1]?this.isBefore(D,N):!this.isAfter(D,N))},Ae.isSame=function(N,D){return N=Re(N)?N:Je(N),!(!this.isValid()||!N.isValid())&&("millisecond"===(D=Qt(D)||"millisecond")?this.valueOf()===N.valueOf():(N=N.valueOf(),this.clone().startOf(D).valueOf()<=N&&N<=this.clone().endOf(D).valueOf()))},Ae.isSameOrAfter=function(g,D){return this.isSame(g,D)||this.isAfter(g,D)},Ae.isSameOrBefore=function(g,D){return this.isSame(g,D)||this.isBefore(g,D)},Ae.isValid=function(){return he(this)},Ae.lang=on,Ae.locale=Ba,Ae.localeData=Ht,Ae.max=qi,Ae.min=St,Ae.parsingFlags=function(){return V({},Y(this))},Ae.set=function(g,D){if("object"==typeof g)for(var N=function(fe){var _e,Pe=[];for(_e in fe)c(fe,_e)&&Pe.push({unit:_e,priority:an[_e]});return Pe.sort(function(qe,tt){return qe.priority-tt.priority}),Pe}(g=gn(g)),W=N.length,Z=0;Z<W;Z++)this[N[Z].unit](g[N[Z].unit]);else if(ei(this[g=Qt(g)]))return this[g](D);return this},Ae.startOf=function(g){var D,N;if(void 0===(g=Qt(g))||"millisecond"===g||!this.isValid())return this;switch(N=this._isUTC?Ei:ft,g){case"year":D=N(this.year(),0,1);break;case"quarter":D=N(this.year(),this.month()-this.month()%3,1);break;case"month":D=N(this.year(),this.month(),1);break;case"week":D=N(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":D=N(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":D=N(this.year(),this.month(),this.date());break;case"hour":D=this._d.valueOf(),D-=rt(D+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":D=this._d.valueOf(),D-=rt(D,6e4);break;case"second":D=this._d.valueOf(),D-=rt(D,1e3)}return this._d.setTime(D),F.updateOffset(this,!0),this},Ae.subtract=Zi,Ae.toArray=function(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]},Ae.toObject=function(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}},Ae.toDate=function(){return new Date(this.valueOf())},Ae.toISOString=function(g){if(!this.isValid())return null;var D=(g=!0!==g)?this.clone().utc():this;return D.year()<0||9999<D.year()?_i(D,g?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ei(Date.prototype.toISOString)?g?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",_i(D,"Z")):_i(D,g?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ae.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g,D="moment",N="";return this.isLocal()||(D=0===this.utcOffset()?"moment.utc":"moment.parseZone",N="Z"),D="["+D+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(D+g+"-MM-DD[T]HH:mm:ss.SSS"+N+'[")]')},typeof Symbol<"u"&&null!=Symbol.for&&(Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ae.toJSON=function(){return this.isValid()?this.toISOString():null},Ae.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ae.unix=function(){return Math.floor(this.valueOf()/1e3)},Ae.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ae.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ae.eraName=function(){for(var g,D=this.localeData().eras(),N=0,W=D.length;N<W;++N)if(g=this.clone().startOf("day").valueOf(),D[N].since<=g&&g<=D[N].until||D[N].until<=g&&g<=D[N].since)return D[N].name;return""},Ae.eraNarrow=function(){for(var g,D=this.localeData().eras(),N=0,W=D.length;N<W;++N)if(g=this.clone().startOf("day").valueOf(),D[N].since<=g&&g<=D[N].until||D[N].until<=g&&g<=D[N].since)return D[N].narrow;return""},Ae.eraAbbr=function(){for(var g,D=this.localeData().eras(),N=0,W=D.length;N<W;++N)if(g=this.clone().startOf("day").valueOf(),D[N].since<=g&&g<=D[N].until||D[N].until<=g&&g<=D[N].since)return D[N].abbr;return""},Ae.eraYear=function(){for(var g,D,N=this.localeData().eras(),W=0,Z=N.length;W<Z;++W)if(g=N[W].since<=N[W].until?1:-1,D=this.clone().startOf("day").valueOf(),N[W].since<=D&&D<=N[W].until||N[W].until<=D&&D<=N[W].since)return(this.year()-F(N[W].since).year())*g+N[W].offset;return this.year()},Ae.year=Ne,Ae.isLeapYear=function(){return Mi(this.year())},Ae.weekYear=function(g){return fs.call(this,g,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ae.isoWeekYear=function(g){return fs.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)},Ae.quarter=Ae.quarters=function(g){return null==g?Math.ceil((this.month()+1)/3):this.month(3*(g-1)+this.month()%3)},Ae.month=$r,Ae.daysInMonth=function(){return mt(this.year(),this.month())},Ae.week=Ae.weeks=function(g){var D=this.localeData().week(this);return null==g?D:this.add(7*(g-D),"d")},Ae.isoWeek=Ae.isoWeeks=function(g){var D=jo(this,1,4).week;return null==g?D:this.add(7*(g-D),"d")},Ae.weeksInYear=function(){var g=this.localeData()._week;return Hn(this.year(),g.dow,g.doy)},Ae.weeksInWeekYear=function(){var g=this.localeData()._week;return Hn(this.weekYear(),g.dow,g.doy)},Ae.isoWeeksInYear=function(){return Hn(this.year(),1,4)},Ae.isoWeeksInISOWeekYear=function(){return Hn(this.isoWeekYear(),1,4)},Ae.date=ve,Ae.day=Ae.days=function(g){if(!this.isValid())return null!=g?this:NaN;var D,N,W=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=g?(D=g,N=this.localeData(),g="string"!=typeof D?D:isNaN(D)?"number"==typeof(D=N.weekdaysParse(D))?D:null:parseInt(D,10),this.add(g-W,"d")):W},Ae.weekday=function(g){if(!this.isValid())return null!=g?this:NaN;var D=(this.day()+7-this.localeData()._week.dow)%7;return null==g?D:this.add(g-D,"d")},Ae.isoWeekday=function(g){return this.isValid()?null!=g?(D=g,N=this.localeData(),N="string"==typeof D?N.weekdaysParse(D)%7||7:isNaN(D)?null:D,this.day(this.day()%7?N:N-7)):this.day()||7:null!=g?this:NaN;var D,N},Ae.dayOfYear=function(g){var D=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==g?D:this.add(g-D,"d")},Ae.hour=Ae.hours=Ce,Ae.minute=Ae.minutes=Pr,Ae.second=Ae.seconds=Gr,Ae.millisecond=Ae.milliseconds=$e,Ae.utcOffset=function(g,D,N){var W,Z=this._offset||0;if(!this.isValid())return null!=g?this:NaN;if(null==g)return this._isUTC?Z:zr(this);if("string"==typeof g){if(null===(g=cs(ce,g)))return this}else Math.abs(g)<16&&!N&&(g*=60);return!this._isUTC&&D&&(W=zr(this)),this._offset=g,this._isUTC=!0,null!=W&&this.add(W,"m"),Z!==g&&(!D||this._changeInProgress?$a(this,Wr(g-Z,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,F.updateOffset(this,!0),this._changeInProgress=null)),this},Ae.utc=function(g){return this.utcOffset(0,g)},Ae.local=function(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(zr(this),"m")),this},Ae.parseZone=function(){var g;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(g=cs(S,this._i))?this.utcOffset(g):this.utcOffset(0,!0)),this},Ae.hasAlignedHourOffset=function(g){return!!this.isValid()&&(g=g?Je(g).utcOffset():0,(this.utcOffset()-g)%60==0)},Ae.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ae.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ae.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ae.isUtc=mo,Ae.isUTC=mo,Ae.zoneAbbr=function(){return this._isUTC?"UTC":""},Ae.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ae.dates=R("dates accessor is deprecated. Use date instead.",ve),Ae.months=R("months accessor is deprecated. Use month instead",$r),Ae.years=R("years accessor is deprecated. Use year instead",Ne),Ae.zone=R("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(g,D){return null!=g?(this.utcOffset(g="string"!=typeof g?-g:g,D),this):-this.utcOffset()}),Ae.isDSTShifted=R("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!y(this._isDSTShifted))return this._isDSTShifted;var g,D={};return Me(D,this),(D=Ge(D))._a?(g=(D._isUTC?K:Je)(D._a),this._isDSTShifted=this.isValid()&&0<function(N,W,Z){for(var fe=Math.min(N.length,W.length),_e=Math.abs(N.length-W.length),Pe=0,qe=0;qe<fe;qe++)Lt(N[qe])!==Lt(W[qe])&&Pe++;return Pe+_e}(D._a,g.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),(Ze=ti.prototype).calendar=function(g,D,N){return ei(g=this._calendar[g]||this._calendar.sameElse)?g.call(D,N):g},Ze.longDateFormat=function(g){var D=this._longDateFormat[g],N=this._longDateFormat[g.toUpperCase()];return D||!N?D:(this._longDateFormat[g]=N.match(ii).map(function(W){return"MMMM"===W||"MM"===W||"DD"===W||"dddd"===W?W.slice(1):W}).join(""),this._longDateFormat[g])},Ze.invalidDate=function(){return this._invalidDate},Ze.ordinal=function(g){return this._ordinal.replace("%d",g)},Ze.preparse=f,Ze.postformat=f,Ze.relativeTime=function(g,D,N,W){var Z=this._relativeTime[N];return ei(Z)?Z(g,D,N,W):Z.replace(/%d/i,g)},Ze.pastFuture=function(g,D){return ei(g=this._relativeTime[0<g?"future":"past"])?g(D):g.replace(/%s/i,D)},Ze.set=function(g){var D,N;for(N in g)c(g,N)&&(ei(D=g[N])?this[N]=D:this["_"+N]=D);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ze.eras=function(g,D){for(var N,W=this._eras||vr("en")._eras,Z=0,fe=W.length;Z<fe;++Z)switch("string"==typeof W[Z].since&&(N=F(W[Z].since).startOf("day"),W[Z].since=N.valueOf()),typeof W[Z].until){case"undefined":W[Z].until=1/0;break;case"string":N=F(W[Z].until).startOf("day").valueOf(),W[Z].until=N.valueOf()}return W},Ze.erasParse=function(g,D,N){var W,Z,fe,_e,Pe,qe=this.eras();for(g=g.toUpperCase(),W=0,Z=qe.length;W<Z;++W)if(fe=qe[W].name.toUpperCase(),_e=qe[W].abbr.toUpperCase(),Pe=qe[W].narrow.toUpperCase(),N)switch(D){case"N":case"NN":case"NNN":if(_e===g)return qe[W];break;case"NNNN":if(fe===g)return qe[W];break;case"NNNNN":if(Pe===g)return qe[W]}else if(0<=[fe,_e,Pe].indexOf(g))return qe[W]},Ze.erasConvertYear=function(g,D){var N=g.since<=g.until?1:-1;return void 0===D?F(g.since).year():F(g.since).year()+(D-g.offset)*N},Ze.erasAbbrRegex=function(g){return c(this,"_erasAbbrRegex")||Pn.call(this),g?this._erasAbbrRegex:this._erasRegex},Ze.erasNameRegex=function(g){return c(this,"_erasNameRegex")||Pn.call(this),g?this._erasNameRegex:this._erasRegex},Ze.erasNarrowRegex=function(g){return c(this,"_erasNarrowRegex")||Pn.call(this),g?this._erasNarrowRegex:this._erasRegex},Ze.months=function(g,D){return g?(L(this._months)?this._months:this._months[(this._months.isFormat||Ki).test(D)?"format":"standalone"])[g.month()]:L(this._months)?this._months:this._months.standalone},Ze.monthsShort=function(g,D){return g?(L(this._monthsShort)?this._monthsShort:this._monthsShort[Ki.test(D)?"format":"standalone"])[g.month()]:L(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ze.monthsParse=function(g,D,N){var W,Z;if(this._monthsParseExact)return function($t,_e,Pe){var qe,tt,At;if($t=$t.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],qe=0;qe<12;++qe)At=K([2e3,qe]),this._shortMonthsParse[qe]=this.monthsShort(At,"").toLocaleLowerCase(),this._longMonthsParse[qe]=this.months(At,"").toLocaleLowerCase();return Pe?"MMM"===_e?-1!==(tt=Zt.call(this._shortMonthsParse,$t))?tt:null:-1!==(tt=Zt.call(this._longMonthsParse,$t))?tt:null:"MMM"===_e?-1!==(tt=Zt.call(this._shortMonthsParse,$t))||-1!==(tt=Zt.call(this._longMonthsParse,$t))?tt:null:-1!==(tt=Zt.call(this._longMonthsParse,$t))||-1!==(tt=Zt.call(this._shortMonthsParse,$t))?tt:null}.call(this,g,D,N);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),W=0;W<12;W++)if(Z=K([2e3,W]),N&&!this._longMonthsParse[W]&&(this._longMonthsParse[W]=new RegExp("^"+this.months(Z,"").replace(".","")+"$","i"),this._shortMonthsParse[W]=new RegExp("^"+this.monthsShort(Z,"").replace(".","")+"$","i")),N||this._monthsParse[W]||(Z="^"+this.months(Z,"")+"|^"+this.monthsShort(Z,""),this._monthsParse[W]=new RegExp(Z.replace(".",""),"i")),N&&"MMMM"===D&&this._longMonthsParse[W].test(g)||N&&"MMM"===D&&this._shortMonthsParse[W].test(g)||!N&&this._monthsParse[W].test(g))return W},Ze.monthsRegex=function(g){return this._monthsParseExact?(c(this,"_monthsRegex")||mr.call(this),g?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Li),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)},Ze.monthsShortRegex=function(g){return this._monthsParseExact?(c(this,"_monthsRegex")||mr.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=ln),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)},Ze.week=function(g){return jo(g,this._week.dow,this._week.doy).week},Ze.firstDayOfYear=function(){return this._week.doy},Ze.firstDayOfWeek=function(){return this._week.dow},Ze.weekdays=function(g,D){return D=L(this._weekdays)?this._weekdays:this._weekdays[g&&!0!==g&&this._weekdays.isFormat.test(D)?"format":"standalone"],!0===g?Oo(D,this._week.dow):g?D[g.day()]:D},Ze.weekdaysMin=function(g){return!0===g?Oo(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin},Ze.weekdaysShort=function(g){return!0===g?Oo(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort},Ze.weekdaysParse=function(g,D,N){var W,Z;if(this._weekdaysParseExact)return function($t,_e,Pe){var qe,tt,At;if($t=$t.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],qe=0;qe<7;++qe)At=K([2e3,1]).day(qe),this._minWeekdaysParse[qe]=this.weekdaysMin(At,"").toLocaleLowerCase(),this._shortWeekdaysParse[qe]=this.weekdaysShort(At,"").toLocaleLowerCase(),this._weekdaysParse[qe]=this.weekdays(At,"").toLocaleLowerCase();return Pe?"dddd"===_e?-1!==(tt=Zt.call(this._weekdaysParse,$t))?tt:null:"ddd"===_e?-1!==(tt=Zt.call(this._shortWeekdaysParse,$t))?tt:null:-1!==(tt=Zt.call(this._minWeekdaysParse,$t))?tt:null:"dddd"===_e?-1!==(tt=Zt.call(this._weekdaysParse,$t))||-1!==(tt=Zt.call(this._shortWeekdaysParse,$t))||-1!==(tt=Zt.call(this._minWeekdaysParse,$t))?tt:null:"ddd"===_e?-1!==(tt=Zt.call(this._shortWeekdaysParse,$t))||-1!==(tt=Zt.call(this._weekdaysParse,$t))||-1!==(tt=Zt.call(this._minWeekdaysParse,$t))?tt:null:-1!==(tt=Zt.call(this._minWeekdaysParse,$t))||-1!==(tt=Zt.call(this._weekdaysParse,$t))||-1!==(tt=Zt.call(this._shortWeekdaysParse,$t))?tt:null}.call(this,g,D,N);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),W=0;W<7;W++)if(Z=K([2e3,1]).day(W),N&&!this._fullWeekdaysParse[W]&&(this._fullWeekdaysParse[W]=new RegExp("^"+this.weekdays(Z,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[W]=new RegExp("^"+this.weekdaysShort(Z,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[W]=new RegExp("^"+this.weekdaysMin(Z,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[W]||(Z="^"+this.weekdays(Z,"")+"|^"+this.weekdaysShort(Z,"")+"|^"+this.weekdaysMin(Z,""),this._weekdaysParse[W]=new RegExp(Z.replace(".",""),"i")),N&&"dddd"===D&&this._fullWeekdaysParse[W].test(g)||N&&"ddd"===D&&this._shortWeekdaysParse[W].test(g)||N&&"dd"===D&&this._minWeekdaysParse[W].test(g)||!N&&this._weekdaysParse[W].test(g))return W},Ze.weekdaysRegex=function(g){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||us.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=mn),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)},Ze.weekdaysShortRegex=function(g){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||us.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ji),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ze.weekdaysMinRegex=function(g){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||us.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zn),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ze.isPM=function(g){return"p"===(g+"").toLowerCase().charAt(0)},Ze.meridiem=function(g,D,N){return 11<g?N?"pm":"PM":N?"am":"AM"},Mr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var D=g%10;return g+(1===Lt(g%100/10)?"th":1==D?"st":2==D?"nd":3==D?"rd":"th")}}),F.lang=R("moment.lang is deprecated. Use moment.locale instead.",Mr),F.langData=R("moment.langData is deprecated. Use moment.localeData instead.",vr);var B=Math.abs;function z(g,D,N,W){return D=Wr(D,N),g._milliseconds+=W*D._milliseconds,g._days+=W*D._days,g._months+=W*D._months,g._bubble()}function G(g){return g<0?Math.floor(g):Math.ceil(g)}function le(g){return 4800*g/146097}function ie(g){return 146097*g/4800}function ye(g){return function(){return this.as(g)}}function Oe(g){return function(){return this.isValid()?this._data[g]:NaN}}Ar=ye("ms"),Ln=ye("s"),Tt=ye("m"),qi=ye("h"),St=ye("d"),Zi=ye("w"),Ce=ye("M"),Pr=ye("Q"),Gr=ye("y"),$e=Oe("milliseconds"),ve=Oe("seconds"),Ne=Oe("minutes"),Ze=Oe("hours");var ai=Oe("days"),pt=Oe("months"),xn=Oe("years"),Xi=Math.round,$n={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var qt=Math.abs;function yn(g){return(0<g)-(g<0)||+g}function Ii(){if(!this.isValid())return this.localeData().invalidDate();var g,D,N,W,Z,fe,_e,Pe=qt(this._milliseconds)/1e3,qe=qt(this._days),tt=qt(this._months),At=this.asSeconds();return At?(g=Pi(Pe/60),D=Pi(g/60),Pe%=60,g%=60,N=Pi(tt/12),tt%=12,W=Pe?Pe.toFixed(3).replace(/\.?0+$/,""):"",Z=yn(this._months)!==yn(At)?"-":"",fe=yn(this._days)!==yn(At)?"-":"",_e=yn(this._milliseconds)!==yn(At)?"-":"",(At<0?"-":"")+"P"+(N?Z+N+"Y":"")+(tt?Z+tt+"M":"")+(qe?fe+qe+"D":"")+(D||g||Pe?"T":"")+(D?_e+D+"H":"")+(g?_e+g+"M":"")+(Pe?_e+W+"S":"")):"P0D"}var Nt=Ts.prototype;return Nt.isValid=function(){return this._isValid},Nt.abs=function(){var g=this._data;return this._milliseconds=B(this._milliseconds),this._days=B(this._days),this._months=B(this._months),g.milliseconds=B(g.milliseconds),g.seconds=B(g.seconds),g.minutes=B(g.minutes),g.hours=B(g.hours),g.months=B(g.months),g.years=B(g.years),this},Nt.add=function(g,D){return z(this,g,D,1)},Nt.subtract=function(g,D){return z(this,g,D,-1)},Nt.as=function(g){if(!this.isValid())return NaN;var D,N,W=this._milliseconds;if("month"===(g=Qt(g))||"quarter"===g||"year"===g)switch(D=this._days+W/864e5,N=this._months+le(D),g){case"month":return N;case"quarter":return N/3;case"year":return N/12}else switch(D=this._days+Math.round(ie(this._months)),g){case"week":return D/7+W/6048e5;case"day":return D+W/864e5;case"hour":return 24*D+W/36e5;case"minute":return 1440*D+W/6e4;case"second":return 86400*D+W/1e3;case"millisecond":return Math.floor(864e5*D)+W;default:throw new Error("Unknown unit "+g)}},Nt.asMilliseconds=Ar,Nt.asSeconds=Ln,Nt.asMinutes=Tt,Nt.asHours=qi,Nt.asDays=St,Nt.asWeeks=Zi,Nt.asMonths=Ce,Nt.asQuarters=Pr,Nt.asYears=Gr,Nt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Lt(this._months/12):NaN},Nt._bubble=function(){var g=this._milliseconds,D=this._days,N=this._months,W=this._data;return 0<=g&&0<=D&&0<=N||g<=0&&D<=0&&N<=0||(g+=864e5*G(ie(N)+D),N=D=0),W.milliseconds=g%1e3,g=Pi(g/1e3),W.seconds=g%60,g=Pi(g/60),W.minutes=g%60,g=Pi(g/60),W.hours=g%24,D+=Pi(g/24),N+=g=Pi(le(D)),D-=G(ie(g)),g=Pi(N/12),N%=12,W.days=D,W.months=N,W.years=g,this},Nt.clone=function(){return Wr(this)},Nt.get=function(g){return g=Qt(g),this.isValid()?this[g+"s"]():NaN},Nt.milliseconds=$e,Nt.seconds=ve,Nt.minutes=Ne,Nt.hours=Ze,Nt.days=ai,Nt.weeks=function(){return Pi(this.days()/7)},Nt.months=pt,Nt.years=xn,Nt.humanize=function(g,D){if(!this.isValid())return this.localeData().invalidDate();var N=!1,W=$n;return"object"==typeof g&&(D=g,g=!1),"boolean"==typeof g&&(N=g),"object"==typeof D&&(W=Object.assign({},$n,D),null!=D.s&&null==D.ss&&(W.ss=D.s-1)),D=function en(g,D,N,W){var tt=Wr(g).abs(),At=Xi(tt.as("s")),Z=Xi(tt.as("m")),fe=Xi(tt.as("h")),_e=Xi(tt.as("d")),Pe=Xi(tt.as("M")),qe=Xi(tt.as("w"));return tt=Xi(tt.as("y")),At=(At<=N.ss?["s",At]:At<N.s&&["ss",At])||Z<=1&&["m"]||Z<N.m&&["mm",Z]||fe<=1&&["h"]||fe<N.h&&["hh",fe]||_e<=1&&["d"]||_e<N.d&&["dd",_e],(At=(At=null!=N.w?At||qe<=1&&["w"]||qe<N.w&&["ww",qe]:At)||Pe<=1&&["M"]||Pe<N.M&&["MM",Pe]||tt<=1&&["y"]||["yy",tt])[2]=D,At[3]=0<+g,At[4]=W,function($t,kt,Si,Ct,ci){return ci.relativeTime(kt||1,!!Si,$t,Ct)}.apply(null,At)}(this,!N,W,g=this.localeData()),N&&(D=g.pastFuture(+this,D)),g.postformat(D)},Nt.toISOString=Ii,Nt.toString=Ii,Nt.toJSON=Ii,Nt.locale=Ba,Nt.localeData=Ht,Nt.toIsoString=R("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ii),Nt.lang=on,gt("X",0,0,"unix"),gt("x",0,0,"valueOf"),me("x",Xr),me("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",function(g,D,N){N._d=new Date(1e3*parseFloat(g))}),_t("x",function(g,D,N){N._d=new Date(Lt(g))}),F.version="2.29.4",I=Je,F.fn=Ae,F.min=function(){return pi("isBefore",[].slice.call(arguments,0))},F.max=function(){return pi("isAfter",[].slice.call(arguments,0))},F.now=function(){return Date.now?Date.now():+new Date},F.utc=K,F.unix=function(g){return Je(1e3*g)},F.months=function(g,D){return O(g,D,"months")},F.isDate=x,F.locale=Mr,F.invalid=se,F.duration=Wr,F.isMoment=Re,F.weekdays=function(g,D,N){return M(g,D,N,"weekdays")},F.parseZone=function(){return Je.apply(null,arguments).parseZone()},F.localeData=vr,F.isDuration=qo,F.monthsShort=function(g,D){return O(g,D,"monthsShort")},F.weekdaysMin=function(g,D,N){return M(g,D,N,"weekdaysMin")},F.defineLocale=Ro,F.updateLocale=function(g,D){var N,W;return null!=D?(W=Yn,null!=Gi[g]&&null!=Gi[g].parentLocale?Gi[g].set(pn(Gi[g]._config,D)):(D=pn(W=null!=(N=Rr(g))?N._config:W,D),null==N&&(D.abbr=g),(W=new ti(D)).parentLocale=Gi[g],Gi[g]=W),Mr(g)):null!=Gi[g]&&(null!=Gi[g].parentLocale?(Gi[g]=Gi[g].parentLocale,g===Mr()&&Mr(g)):null!=Gi[g]&&delete Gi[g]),Gi[g]},F.locales=function(){return wi(Gi)},F.weekdaysShort=function(g,D,N){return M(g,D,N,"weekdaysShort")},F.normalizeUnits=Qt,F.relativeTimeRounding=function(g){return void 0===g?Xi:"function"==typeof g&&(Xi=g,!0)},F.relativeTimeThreshold=function(g,D){return void 0!==$n[g]&&(void 0===D?$n[g]:($n[g]=D,"s"===g&&($n.ss=D-1),!0))},F.calendarFormat=function(g,D){return(g=g.diff(D,"days",!0))<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"},F.prototype=Ae,F.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},F}()},380:()=>{!function(v){"use strict";var w=function(c){var _=arguments,y=!0,T=1;return c=c.replace(/%s/g,function(){var x=_[T++];return typeof x>"u"?(y=!1,""):x}),y?c:""},I=function(c){for(var _=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],y=0;y<_.length;y++)c=c.replace(_[y].letters,_[y].base);return c};function L(c,_){var T=c.attr("name")||_.name||"";this.options=_,this.$el=c.hide(),this.$label=this.$el.closest("label"),0===this.$label.length&&this.$el.attr("id")&&(this.$label=v(w('label[for="%s"]',this.$el.attr("id").replace(/:/g,"\\:")))),this.$parent=v(w('<div class="ms-parent %s" %s/>',c.attr("class")||"",w('title="%s"',c.attr("title")))),this.$choice=v(w(['<button type="button" class="ms-choice">','<span class="placeholder">%s</span>',"<div></div>","</button>"].join(""),this.options.placeholder)),this.$drop=v(w('<div name="%s" class="ms-drop %s"%s></div>',c.attr("name")||_.name||"",this.options.position,w(' style="width: %s"',this.options.dropWidth))),this.$el.after(this.$parent),this.$parent.append(this.$choice),this.$parent.append(this.$drop),this.$el.prop("disabled")&&this.$choice.addClass("disabled"),this.$parent.css("width",this.options.width||this.$el.css("width")||this.$el.outerWidth()+20),this.selectAllName='data-name="selectAll'+T+'"',this.selectGroupName='data-name="selectGroup'+T+'"',this.selectItemName='data-name="selectItem'+T+'"',this.options.keepOpen||v("body").on("click",b.bind(this,c)),this.options.onAfterCreate()}function b(c,_){var y=v(_.target),T=y&&y[0],x=this.$choice&&this.$choice[0],k=this.$drop&&this.$drop[0],V=y.parents(".ms-choice"),K=V&&V[0],Y=y.parents(".ms-drop");T===x||K===x||(T===k||(Y&&Y[0])!==k&&_.target!==(c&&c[0]))&&this.options&&this.options.isOpen&&this.close()}L.prototype={constructor:L,init:function(){var c=this,_=v("<ul></ul>");this.$drop.html(""),this.options.filter&&this.$drop.append(['<div class="ms-search">','<input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false">',"</div>"].join("")),this.options.selectAll&&!this.options.single&&this.$drop.append(['<div class="ms-select-all" style="width: 100%">','<label style="width: 100%">',w('<input type="checkbox" %s />',this.selectAllName),w("<span>%s%s%s</span>",this.options.selectAllDelimiter[0],this.options.selectAllText,this.options.selectAllDelimiter[1]),"</label>","</div>"].join("")),v.each(this.$el.children(),function(T,x){_.append(c.optionToHtml(T,x))}),_.append(w('<li class="ms-no-results">%s</li>',this.options.noMatchesFound)),this.$drop.append(_),this.options.okButton&&(this.$okButton=v('<button type="button" class="ms-ok-button">'+this.options.okButtonText+"</button>"),this.$drop.append(this.$okButton));var y=isNaN(this.options.width)?this.options.width:this.options.width+"px";this.$drop.css("width",y),this.$drop.find("ul").css("max-height",this.options.maxHeight+"px"),this.$drop.find(".multiple").css("width",this.options.multipleWidth+"px"),this.$searchInput=this.$drop.find(".ms-search input"),this.$selectAll=this.$drop.find("input["+this.selectAllName+"]"),this.$selectGroups=this.$drop.find("input["+this.selectGroupName+"]"),this.$selectItems=this.$drop.find("input["+this.selectItemName+"]:enabled"),this.$disableItems=this.$drop.find("input["+this.selectItemName+"]:disabled"),this.$noResults=this.$drop.find(".ms-no-results"),this.events(),this.updateSelectAll(!0),this.update(!0),this.options.isOpen&&this.open(),this.options.openOnHover&&v(".ms-parent").hover(function(T){c.open()})},optionToHtml:function(c,_,y,T){var se,x=this,k=v(_),V=k.attr("class")||"",K=w('label="%s"',k.attr("label")||""),Y=w('title="%s"',k.attr("title")),he=this.options.multiple?"multiple":"",Se=this.options.single?"radio":"checkbox";if(k.is("option")){var ht,st=k.val(),pe=this.options.styler(st),Me=pe?`style="${pe}"`:"",at=x.options.textTemplate(k),Re=k.prop("selected");return se=T||k.prop("disabled"),(ht=v([w('<li class="%s %s" %s %s %s>',he,V,Y,Me,K),w('<label class="%s">',se?"disabled":""),w('<input type="%s" %s%s%s%s>',Se,this.selectItemName,Re?' checked="checked"':"",se?' disabled="disabled"':"",w(' data-group="%s"',y)),w("<span>%s</span>",at),"</label>","</li>"].join(""))).find("input").val(st),ht}if(k.is("optgroup")){K=x.options.labelTemplate(k);var R=v("<div/>");return y="group_"+c,se=k.prop("disabled"),R.append(['<li class="group">',w('<label class="optgroup %s" data-group="%s">',se?"disabled":"",y),this.options.hideOptgroupCheckboxes||this.options.single?"":w('<input type="checkbox" %s %s>',this.selectGroupName,se?'disabled="disabled"':""),K,"</label>","</li>"].join("")),v.each(k.children(),function(Yt,ei){R.append(x.optionToHtml(Yt,ei,y,se))}),R.html()}},events:function(){var c=this,_=function(y){y.preventDefault(),c[c.options.isOpen?"close":"open"]()};this.$label&&this.$label.off("click").on("click",function(y){"label"!==y.target.nodeName.toLowerCase()||y.target!==this||(_(y),(!c.options.filter||!c.options.isOpen)&&c.focus(),y.stopPropagation())}),this.options.okButton&&this.$okButton.off("click").on("click",function(y){_(y),y.stopPropagation()}),this.$choice.off("click").on("click",_).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",this.options.onBlur),this.$parent.off("keydown").on("keydown",function(y){27===y.which&&(c.close(),c.$choice.focus())}),this.$searchInput.off("keydown").on("keydown",function(y){9===y.keyCode&&y.shiftKey&&c.close()}).off("keyup").on("keyup",function(y){if(c.options.filterAcceptOnEnter&&(13===y.which||32===y.which)&&c.$searchInput.val())return c.$selectAll.click(),c.close(),void c.focus();c.filter()}),this.$selectAll.off("click").on("click",function(){var y=v(this).prop("checked"),T=c.$selectItems.filter(":visible");T.length===c.$selectItems.length?c[y?"checkAll":"uncheckAll"]():(c.$selectGroups&&c.$selectGroups.prop("checked",y),T&&T.prop("checked",y),c.options[y?"onCheckAll":"onUncheckAll"](),c.update())}),this.$selectGroups.off("click").on("click",function(){var y=v(this).parent().attr("data-group"),x=c.$selectItems.filter(":visible").filter(w('[data-group="%s"]',y)),k=x.length!==x.filter(":checked").length;x&&x.prop("checked",k),c.updateSelectAll(),c.update(),c.options.onOptgroupClick({label:v(this).parent().text(),checked:k,children:x.get(),instance:c})}),this.$selectItems.off("click").on("click",function(){if(c.updateSelectAll(),c.update(),c.updateOptGroupSelect(),c.options.onClick({label:v(this).parent().text(),value:v(this).val(),checked:v(this).prop("checked"),instance:c}),c.options.single){var y=v(this).val();c.$selectItems.filter(function(){return v(this).val()!==y}).each(function(){v(this).prop("checked",!1)}),c.update()}c.options.single&&c.options.isOpen&&!c.options.keepOpen&&c.close()})},open:function(){if(!this.$choice.hasClass("disabled")){if(this.options.isOpen=!0,this.$parent.addClass("ms-parent-open"),this.$choice.find(">div").addClass("open"),this.$drop[this.animateMethod("show")](),this.$selectAll&&this.$selectAll.parent().show(),this.$noResults&&this.$noResults.hide(),this.$el.children().length||(this.$selectAll&&this.$selectAll.parent().hide(),this.$noResults&&this.$noResults.show()),this.options.offsetLeft){var c=this.$drop.offset();this.$drop.offset({top:c.top,left:_=c.left-this.options.offsetLeft})}if(this.options.container){c=this.$drop.offset();var _=this.options.offsetLeft?c.left-this.options.offsetLeft:c.left;this.$drop.appendTo(v(this.options.container)),this.$drop.offset({top:c.top,left:_})}this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter()),this.options.autoAdjustDropWidthByTextSize?this.adjustDropWidthByText():!this.options.width&&this.options.autoDropWidth&&this.$drop.css("width",this.$parent.width());var y=this.options.position;if(this.options.autoAdjustDropHeight){if(this.options.autoAdjustDropPosition){var T=this.availableSpaceBottom(),x=this.availableSpaceTop();y=T<(this.$drop.outerHeight()||0)&&x>T?"top":"bottom"}this.adjustDropHeight(y)}this.options.autoAdjustDropPosition&&this.adjustDropPosition(this.options.autoAdjustDropHeight),this.options.onOpen()}},close:function(){this.options.isOpen=!1,this.$parent.removeClass("ms-parent-open"),this.$choice.find(">div").removeClass("open"),this.$drop[this.animateMethod("hide")](),this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"})),this.options.onClose()},animateMethod:function(c){return{show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}}[c][this.options.animate]||c},adjustDropHeight:function(c){var Y,_="top"!==c,k=(this.options.filter?this.options.domElmFilterHeight:0)+(this.options.single?0:this.options.domElmOkButtonHeight)+(this.options.single?0:this.options.domElmSelectAllHeight)+5,V=this.availableSpaceBottom(),K=this.availableSpaceTop();return Y=_?V-k-this.options.adjustHeightPadding:K-k-this.options.adjustHeightPadding,!(this.options.maxHeight&&!(this.options.maxHeight&&Y<this.options.maxHeight)||(this.$drop.find("ul").css("max-height",Y+"px"),0))},adjustDropPosition:function(c){var _="bottom",y=this.$drop.outerHeight()||0,T=this.$drop.outerWidth()||0,x=this.$parent.offset().top,k=this.$parent.offset().left,V=this.$parent.width(),K=this.availableSpaceBottom(),Y=this.availableSpaceTop(),he=v(window).width();if(K>y)_="bottom";else if(y>K&&Y>K){if(this.options.container){var se=x-y;se<0&&(se=0),(se>0||c)&&(_="top",this.$drop.offset({top:se<0?0:se}))}else this.$drop.addClass(_="top");this.$drop.removeClass("bottom")}return he-T<k&&this.$drop.offset({left:k-(T-V)}),_},adjustDropWidthByText:function(){var c=this.$parent.width();(this.options.dropWidth||this.options.width)&&(c=this.options.dropWidth||this.options.width);var _=this.$parent.width(),y=v("span",this.$drop).width()+this.options.domElmSelectSidePadding,x=v("ul",this.$drop).hasScrollBar()?this.getScrollbarWidth():0,k=0;v("li span",this.$drop).each(function(V,K){var Y=v(K).width();Y>k&&(k=Y)}),(k+=this.options.domElmSelectSidePadding+x)<y&&(k=y),this.options.maxWidth&&k>this.options.maxWidth&&(k=this.options.maxWidth),this.options.minWidth&&k<this.options.minWidth&&(k=this.options.minWidth),k<_&&(k=_),(c>k||this.$drop.width()>k||"100%"===c)&&this.$drop.css({width:k,"max-width":k})},availableSpaceBottom:function(){var c=v(window).innerHeight()||this.options.maxHeight,_=v(window).scrollTop()||0;return c-(this.$drop.offset().top-_)},availableSpaceTop:function(){var c=v(window).scrollTop()||0;return this.$parent.offset().top-c},update:function(c){var _=this.options.displayValues?this.getSelects():this.getSelects("text"),y=this.$choice.find(">span"),T=_.length;if(0===T)y.addClass("placeholder").html(this.options.placeholder);else if(this.options.allSelected&&T===this.$selectItems.length+this.$disableItems.length)y.removeClass("placeholder").html(this.options.allSelected);else if(this.options.ellipsis&&T>this.options.minimumCountSelected)y.removeClass("placeholder").text(_.slice(0,this.options.minimumCountSelected).join(this.options.delimiter)+"...");else if(this.options.countSelected&&T>this.options.minimumCountSelected)y.removeClass("placeholder").html(this.options.countSelected.replace("#",_.length).replace("%",this.$selectItems.length+this.$disableItems.length));else if(this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml){var x=this.getSelects("label").join(this.options.delimiter);if(this.options.useSelectOptionLabelToHtml){var k=function(c){var _=document.createElement("div");_.innerHTML=c;for(var y=_.getElementsByTagName("script"),T=y.length;T--;)y[T].parentNode.removeChild(y[T]);return _.innerHTML}(x);y.removeClass("placeholder").html(k)}else y.removeClass("placeholder").text(x)}else y.removeClass("placeholder").text(_.join(this.options.delimiter));this.options.addTitle&&y&&y.prop("title",this.getSelects(this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml?"label":"text").join(this.options.delimiter)),this.$el.val(this.getSelects()),this.$drop.find("li").removeClass("selected"),this.$drop.find("input:checked").each(function(){v(this).parents("li").first().addClass("selected")}),c||this.$el.trigger("change")},updateSelectAll:function(c){var _=this.$selectItems;c||(_=_.filter(":visible")),this.$selectAll&&(this.$selectAll.prop("checked",_.length&&_.length===_.filter(":checked").length),!c&&this.$selectAll.prop("checked")&&this.options.onCheckAll())},updateOptGroupSelect:function(){var c=this.$selectItems.filter(":visible");v.each(this.$selectGroups,function(_,y){var T=v(y).parent().attr("data-group"),x=c.filter(w('[data-group="%s"]',T));v(y).prop("checked",x.length&&x.length===x.filter(":checked").length)})},getOptions:function(){const c=v.extend({},this.options);return delete c.data,v.extend(!0,{},c)},refreshOptions:function(c){(function(c,_,y){var T=Object.keys(c),x=Object.keys(_);if(T.length!==x.length)return!1;for(var k=0;k<T.length;k++){var V=T[k];if(x.indexOf(V)>=0&&c[V]!==_[V])return!1}return!0})(this.options,c)||(this.options=v.extend(this.options,c),this.init())},getSelects:function(c){var _=this,y=[],T=[],x=[];switch(this.$drop.find(w("input[%s]:checked",this.selectItemName)).each(function(){y.push(v(this).parents("li").first().text()),T.push(v(this).parents("li").attr("label")||""),x.push(v(this).val())}),"text"===c&&this.$selectGroups&&this.$selectGroups.length?(y=[],this.$selectGroups.each(function(){var k=[],V=v.trim(v(this).parent().text()),K=v(this).parent().data("group"),Y=_.$drop.find(w('[%s][data-group="%s"]',_.selectItemName,K)),he=Y.filter(":checked");if(he&&he.length){if(k.push("["),k.push(V),(Y&&Y.length)>(he&&he.length)){var se=[];he.each(function(){se.push(v(this).parent().text())}),k.push(": "+se.join(", "))}k.push("]"),y.push(k.join(""))}})):"label"===c&&this.$selectGroups&&this.$selectGroups.length&&(T=[],this.$selectGroups.each(function(){var k=[],V=v.trim(v(this).attr("label")||""),K=v(this).parent().data("group"),Y=_.$drop.find(w('[%s][data-group="%s"]',_.selectItemName,K)),he=Y.filter(":checked");if(he&&he.length){if(k.push("["),k.push(V),(Y&&Y.length)>(he&&he.length)){var se=[];he.each(function(){se.push(v(this).attr("label")||"")}),k.push(": "+se.join(", "))}k.push("]"),T.push(k.join(""))}})),c){case"text":return y;case"label":return T;default:return x}},getScrollbarWidth:function(){var c=document.createElement("div");c.style.visibility="hidden",c.style.width="100px",c.style.msOverflowStyle="scrollbar",document.body.appendChild(c);var _=c.offsetWidth;c.style.overflow="scroll";var y=document.createElement("div");y.style.width="100%",c.appendChild(y);var T=y.offsetWidth;return c.parentNode.removeChild(c),_-T},setSelects:function(c){var _=this;this.$selectItems&&this.$disableItems&&(this.$selectItems.prop("checked",!1),this.$disableItems.prop("checked",!1),v.each(c,function(y,T){var x=_.$selectItems.filter(w('[value="%s"]',T)),k=_.$disableItems.filter(w('[value="%s"]',T));x&&x.prop("checked",!0),k&&k.prop("checked",!0)}),this.$selectItems&&this.$selectAll&&this.$selectAll.prop("checked",this.$selectItems.length===this.$selectItems.filter(":checked").length+this.$disableItems.filter(":checked").length),v.each(_.$selectGroups,function(y,T){var x=v(T).parent().attr("data-group"),k=_.$selectItems.filter('[data-group="'+x+'"]');v(T).prop("checked",k.length&&k.length===k.filter(":checked").length)})),this.update(!1)},enable:function(){this.$choice.removeClass("disabled")},disable:function(){this.$choice.addClass("disabled")},destroy:function(){v("body").off("click"),this.$el.before(this.$parent).show(),this.$parent.remove(),this.$choice=null,this.$el=null,this.$selectItems=null,this.$selectGroups=null,this.$noResults=null,this.options=null,this.$parent=null},checkAll:function(){this.$selectItems&&this.$selectItems.prop("checked",!0),this.$selectGroups&&this.$selectGroups.prop("checked",!0),this.$selectAll&&this.$selectAll.prop("checked",!0),this.update(),this.options.onCheckAll()},uncheckAll:function(){this.$selectItems&&this.$selectItems.prop("checked",!1),this.$selectGroups&&this.$selectGroups.prop("checked",!1),this.$selectAll&&this.$selectAll.prop("checked",!1),this.update(),this.options.onUncheckAll()},focus:function(){this.$choice&&this.$choice.focus(),this.options.onFocus()},blur:function(){this.$choice&&this.$choice.blur(),this.options.onBlur()},refresh:function(){this.init()},filter:function(){var c=this,_=v.trim(this.$searchInput.val()).toLowerCase();0===_.length?(this.$selectAll&&this.$selectAll.parent().show(),this.$selectItems&&this.$selectItems.parent().show(),this.$disableItems&&this.$disableItems.parent().show(),this.$selectGroups&&this.$selectGroups.parent().show(),this.$noResults.hide(),this.$selectItems.each(function(){v(this).closest("li").show()})):(this.$selectItems.each(function(){var y=v(this).parent();y.parent("li")[I(y.text().toLowerCase()).indexOf(I(_))<0?"hide":"show"]()}),this.$disableItems&&this.$disableItems.parent().hide(),this.$selectGroups.each(function(){var y=v(this).parent(),T=y.parent("li"),x=y.attr("data-group");T[c.$selectItems.filter(":visible").filter(w('[data-group="%s"]',x)).length?"show":"hide"]()}),this.$selectItems&&this.$selectItems.parent().filter(":visible").length?(this.$selectAll.parent().show(),this.$noResults.hide()):(this.$selectAll&&this.$selectAll.parent().hide(),this.$noResults.show())),this.updateOptGroupSelect(),this.updateSelectAll(),this.options.onFilter(_)}},v.fn.hasScrollBar=function(){return this.get(0)&&this.get(0).scrollHeight&&this.get(0).scrollHeight>this.height()},v.fn.multipleSelect=function(){var y,c=arguments[0],_=arguments,T=["getSelects","setSelects","getOptions","refreshOptions","enable","disable","open","close","checkAll","uncheckAll","focus","blur","refresh","destroy"];return this.each(function(){var x=v(this),k=x.data("multipleSelect"),V=v.extend({},v.fn.multipleSelect.defaults,x.data(),"object"==typeof c&&c);if(k||(k=new L(x,V),x.data("multipleSelect",k)),"string"==typeof c){if(v.inArray(c,T)<0)throw"Unknown method: "+c;y=k[c](_[1])}else k.init(),_[1]&&(y=k[_[1]].apply(k,[].slice.call(_,2)))}),typeof y<"u"?y:this},v.fn.multipleSelect.defaults={domElmFilterHeight:32,domElmSelectSidePadding:26,domElmOkButtonHeight:26,domElmSelectAllHeight:39,adjustHeightPadding:10,name:"",isOpen:!1,placeholder:"",selectAll:!0,selectAllDelimiter:["[","]"],minimumCountSelected:3,ellipsis:!1,multiple:!1,multipleWidth:80,single:!1,filter:!1,offsetLeft:0,autoAdjustDropHeight:!1,autoAdjustDropPosition:!1,autoDropWidth:!1,autoAdjustDropWidthByTextSize:!1,width:void 0,dropWidth:void 0,maxHeight:250,maxWidth:500,minWidth:void 0,container:null,position:"bottom",keepOpen:!1,animate:"none",displayValues:!1,delimiter:", ",addTitle:!1,filterAcceptOnEnter:!1,hideOptgroupCheckboxes:!1,openOnHover:!1,okButton:!1,okButtonText:"OK",selectAllText:"Select all",allSelected:"All selected",countSelected:"# of % selected",noMatchesFound:"No matches found",styler:function(){return!1},textTemplate:function(c){return c.html()},labelTemplate:function(c){return c.attr("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1},onAfterCreate:function(){return!1}}}(jQuery)},481:()=>{!function(v){v.fn.drag=function(L,b,c){var _="string"==typeof L?L:"",y=v.isFunction(L)?L:v.isFunction(b)?b:null;return 0!==_.indexOf("drag")&&(_="drag"+_),c=(L==y?b:c)||{},y?this.on(_,c,y):this.trigger(_)};var w=v.event,A=w.special,I=A.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(L){var b=v.data(this,I.datakey),c=L.data||{};b.related+=1,v.each(I.defaults,function(_,y){void 0!==c[_]&&(b[_]=c[_])})},remove:function(){var L=v.data(this,I.datakey);L&&(L.related-=1)},setup:function(){if(!v.data(this,I.datakey)){var L=v.extend({related:0},I.defaults);v.data(this,I.datakey,L),w.add(this,"touchstart mousedown",I.init,L),this.attachEvent&&this.attachEvent("ondragstart",I.dontstart)}},teardown:function(){(v.data(this,I.datakey)||{}).related||(v.removeData(this,I.datakey),w.remove(this,"touchstart mousedown",I.init),I.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",I.dontstart))},init:function(L){if(!I.touched){var c,b=L.data;if(!(0!=L.which&&b.which>0&&L.which!=b.which)){var _=v(L.target).attr("class")||"";if(!v(L.target).is(b.not)&&_&&-1!==_.toString().indexOf("slick")&&(!b.handle||v(L.target).closest(b.handle,L.currentTarget).length)&&(I.touched="touchstart"==L.type?this:null,b.propagates=1,b.mousedown=this,b.interactions=[I.interaction(this,b)],b.target=L.target,b.pageX=L.pageX,b.pageY=L.pageY,b.dragging=null,c=I.hijack(L,"draginit",b),b.propagates&&((c=I.flatten(c))&&c.length&&(b.interactions=[],v.each(c,function(){b.interactions.push(I.interaction(this,b))})),b.propagates=b.interactions.length,!1!==b.drop&&A.drop&&A.drop.handler(L,b),I.textselect(!1),I.touched?w.add(I.touched,"touchmove touchend",I.handler,b):w.add(document,"mousemove mouseup",I.handler,b),!I.touched||b.live)))return!1}}},interaction:function(L,b){var c=L&&L.ownerDocument&&v(L)[b.relative?"position":"offset"]()||{top:0,left:0};return{drag:L,callback:new I.callback,droppable:[],offset:c}},handler:function(L){var b=L.data;switch(L.type){case!b.dragging&&"touchmove":L.preventDefault();case!b.dragging&&"mousemove":if(Math.pow(L.pageX-b.pageX,2)+Math.pow(L.pageY-b.pageY,2)<Math.pow(b.distance,2))break;L.target=b.target,I.hijack(L,"dragstart",b),b.propagates&&(b.dragging=!0);case"touchmove":L.preventDefault();case"mousemove":if(b.dragging){if(I.hijack(L,"drag",b),b.propagates){!1!==b.drop&&A.drop&&A.drop.handler(L,b);break}L.type="mouseup"}default:I.touched?w.remove(I.touched,"touchmove touchend",I.handler):w.remove(document,"mousemove mouseup",I.handler),b.dragging&&(!1!==b.drop&&A.drop&&A.drop.handler(L,b),I.hijack(L,"dragend",b)),I.textselect(!0),!1===b.click&&b.dragging&&v.data(b.mousedown,"suppress.click",(new Date).getTime()+5),b.dragging=I.touched=!1}},hijack:function(L,b,c,_,y){if(c){var k,K,he,T={event:L.originalEvent,type:L.type},x=b.indexOf("drop")?"drag":"drop",V=_||0,se=isNaN(_)?c.interactions.length:_;L.type=b;var Se=function(){};L.originalEvent=new jQuery.Event(T.event,{preventDefault:Se,stopPropagation:Se,stopImmediatePropagation:Se}),c.results=[];do{if(K=c.interactions[V]){if("dragend"!==b&&K.cancelled)continue;he=I.properties(L,c,K),K.results=[],v(y||K[x]||c.droppable).each(function(st,pe){if(he.target=pe,L.isPropagationStopped=function(){return!1},!1===(k=pe?w.dispatch.call(pe,L,he):null)?("drag"==x&&(K.cancelled=!0,c.propagates-=1),"drop"==b&&(K[x][st]=null)):"dropinit"==b&&K.droppable.push(I.element(k)||pe),"dragstart"==b&&(K.proxy=v(I.element(k)||K.drag)[0]),K.results.push(k),delete L.result,"dropinit"!==b)return k}),c.results[V]=I.flatten(K.results),"dropinit"==b&&(K.droppable=I.flatten(K.droppable)),"dragstart"==b&&!K.cancelled&&he.update()}}while(++V<se);return L.type=T.type,L.originalEvent=T.event,I.flatten(c.results)}},properties:function(L,b,c){var _=c.callback;return _.drag=c.drag,_.proxy=c.proxy||c.drag,_.startX=b.pageX,_.startY=b.pageY,_.deltaX=L.pageX-b.pageX,_.deltaY=L.pageY-b.pageY,_.originalX=c.offset.left,_.originalY=c.offset.top,_.offsetX=_.originalX+_.deltaX,_.offsetY=_.originalY+_.deltaY,_.drop=I.flatten((c.drop||[]).slice()),_.available=I.flatten((c.droppable||[]).slice()),_},element:function(L){if(L&&(L.jquery||1==L.nodeType))return L},flatten:function(L){return v.map(L,function(b){return b&&b.jquery?v.makeArray(b):b&&b.length?I.flatten(b):b})},textselect:function(L){v(document)[L?"off":"on"]("selectstart",I.dontstart).css("MozUserSelect",L?"":"none"),document.unselectable=L?"off":"on"},dontstart:function(){return!1},callback:function(){}};I.callback.prototype={update:function(){A.drop&&this.available.length&&v.each(this.available,function(L){A.drop.locate(this,L)})}};var F=w.dispatch;w.dispatch=function(L){if(!(v.data(this,"suppress."+L.type)-(new Date).getTime()>0))return F.apply(this,arguments);v.removeData(this,"suppress."+L.type)},A.draginit=A.dragstart=A.dragend=I}(jQuery)},4348:()=>{!function(v){var w=["DOMMouseScroll","mousewheel"];if(v.event.fixHooks)for(var A=w.length;A;)v.event.fixHooks[w[--A]]=v.event.mouseHooks;function I(F){var L=F||window.event,b=[].slice.call(arguments,1),c=0,y=0,T=0;return(F=v.event.fix(L)).type="mousewheel",L.wheelDelta&&(c=L.wheelDelta/120),L.detail&&(c=-L.detail/3),T=c,void 0!==L.axis&&L.axis===L.HORIZONTAL_AXIS&&(T=0,y=-1*c),void 0!==L.wheelDeltaY&&(T=L.wheelDeltaY/120),void 0!==L.wheelDeltaX&&(y=-1*L.wheelDeltaX/120),b.unshift(F,c,y,T),(v.event.dispatch||v.event.handle).apply(this,b)}v.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var F=w.length;F;)this.addEventListener(w[--F],I,!1);else this.onmousewheel=I},teardown:function(){if(this.removeEventListener)for(var F=w.length;F;)this.removeEventListener(w[--F],I,!1);else this.onmousewheel=null}},v.fn.extend({mousewheel:function(F){return F?this.bind("mousewheel",F):this.trigger("mousewheel")},unmousewheel:function(F){return this.unbind("mousewheel",F)}})}(jQuery)},187:()=>{!function(v){function w(){var k=!1,V=!1;this.stopPropagation=function(){k=!0},this.isPropagationStopped=function(){return k},this.stopImmediatePropagation=function(){V=!0},this.isImmediatePropagationStopped=function(){return V}}function L(){this.__nonDataRow=!0}function b(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.selectChecked=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function c(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function _(){var k=null;this.isActive=function(V){return V?k===V:null!==k},this.activate=function(V){if(V!==k){if(null!==k)throw new Error("SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController");if(!V.commitCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()");if(!V.cancelCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()");k=V}},this.deactivate=function(V){if(k){if(k!==V)throw new Error("SlickGrid.EditorLock.deactivate: specified editController is not the currently active one");k=null}},this.commitCurrentEdit=function(){return!k||k.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!k||k.cancelCurrentEdit()}}(b.prototype=new L).equals=function(k){return this.value===k.value&&this.count===k.count&&this.collapsed===k.collapsed&&this.title===k.title},c.prototype=new L;var T="Map"in window?window.Map:function(){var V={};this.get=function(K){return V[K]},this.set=function(K,Y){V[K]=Y},this.has=function(K){return K in V},this.delete=function(K){delete V[K]}};v.extend(!0,window,{Slick:{Event:function A(){var k=[];this.subscribe=function(V){k.push(V)},this.unsubscribe=function(V){for(var K=k.length-1;K>=0;K--)k[K]===V&&k.splice(K,1)},this.notify=function(V,K,Y){K=K||new w,Y=Y||this;for(var he,se=0;se<k.length&&!K.isPropagationStopped()&&!K.isImmediatePropagationStopped();se++)he=k[se].call(Y,K,V);return he}},EventData:w,EventHandler:function I(){var k=[];this.subscribe=function(V,K){return k.push({event:V,handler:K}),V.subscribe(K),this},this.unsubscribe=function(V,K){for(var Y=k.length;Y--;)if(k[Y].event===V&&k[Y].handler===K)return k.splice(Y,1),void V.unsubscribe(K);return this},this.unsubscribeAll=function(){for(var V=k.length;V--;)k[V].event.unsubscribe(k[V].handler);return k=[],this}},Range:function F(k,V,K,Y){void 0===K&&void 0===Y&&(K=k,Y=V),this.fromRow=Math.min(k,K),this.fromCell=Math.min(V,Y),this.toRow=Math.max(k,K),this.toCell=Math.max(V,Y),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(he,se){return he>=this.fromRow&&he<=this.toRow&&se>=this.fromCell&&se<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},Map:T,NonDataRow:L,Group:b,GroupTotals:c,RegexSanitizer:function x(k){return k.replace(/(\b)(on[a-z]+)(\s*)=|javascript:([^>]*)[^>]*|(<\s*)(\/*)script([<>]*).*(<\s*)(\/*)script(>*)|(&lt;)(\/*)(script|script defer)(.*)(&gt;|&gt;">)/gi,"")},EditorLock:_,GlobalEditorLock:new _,TreeColumns:function y(k){var V={};function Y(Re){Re.forEach(function(ht){V[ht.id]=ht,ht.columns&&Y(ht.columns)})}function he(Re,ht){return Re.filter(function(R){var Mt=ht.call(R);return Mt&&R.columns&&(R.columns=he(R.columns,ht)),Mt&&(!R.columns||R.columns.length)})}function se(Re,ht){Re.sort(function(R,Mt){return Se(ht.getColumnIndex(R.id))-Se(ht.getColumnIndex(Mt.id))}).forEach(function(R){R.columns&&se(R.columns,ht)})}function Se(Re){return typeof Re>"u"?-1:Re}function st(Re){if(!Re.length)return Re.columns?1+st(Re.columns):1;for(var ht in Re)return st(Re[ht])}function pe(Re,ht,R){var Mt=[];if(ht==(R=R||0))return Re.length&&Re.forEach(function(ei){ei.columns&&(ei.extractColumns=function(){return Me(ei)})}),Re;for(var Yt in Re)Re[Yt].columns&&(Mt=Mt.concat(pe(Re[Yt].columns,ht,R+1)));return Mt}function Me(Re){var ht=[];if(Re.hasOwnProperty("length"))for(var R=0;R<Re.length;R++)ht=ht.concat(Me(Re[R]));else{if(!Re.hasOwnProperty("columns"))return Re;ht=ht.concat(Me(Re.columns))}return ht}function at(){return v.extend(!0,[],k)}(function K(){Y(k)})(),this.hasDepth=function(){for(var Re in k)if(k[Re].hasOwnProperty("columns"))return!0;return!1},this.getTreeColumns=function(){return k},this.extractColumns=function(){return this.hasDepth()?Me(k):k},this.getDepth=function(){return st(k)},this.getColumnsInDepth=function(Re){return pe(k,Re)},this.getColumnsInGroup=function(Re){return Me(Re)},this.visibleColumns=function(){return he(at(),function(){return this.visible})},this.filter=function(Re){return he(at(),Re)},this.reOrder=function(Re){return se(k,Re)},this.getById=function(Re){return V[Re]},this.getInIds=function(Re){return Re.map(function(ht){return V[ht]})}},keyCode:{SPACE:8,BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,A:65},preClickClassName:"slick-edit-preclick",GridAutosizeColsMode:{None:"NOA",LegacyOff:"LOF",LegacyForceFit:"LFF",IgnoreViewport:"IGV",FitColsToViewport:"FCV",FitViewportToCols:"FVC"},ColAutosizeMode:{Locked:"LCK",Guide:"GUI",Content:"CON",ContentIntelligent:"CTI"},RowSelectionMode:{FirstRow:"FS1",FirstNRows:"FSN",AllRows:"ALL",LastRow:"LS1"},ValueFilterMode:{None:"NONE",DeDuplicate:"DEDP",GetGreatestAndSub:"GR8T",GetLongestTextAndSub:"LNSB",GetLongestText:"LNSC"},WidthEvalMode:{CanvasTextSize:"CANV",HTML:"HTML"}}})}(jQuery)},7492:()=>{var v;(v=jQuery).extend(!0,window,{Slick:{Data:{DataView:function w(c){var Me,at,R,Yt,ei,_=this,T="id",x=[],k=[],V=new Slick.Map,K=null,Y=null,he=null,se=!1,Se=!1,st=new Slick.Map,pe=!0,Re={},ht={},Mt=[],pn=[],ti=null,wi={getter:null,formatter:null,comparer:function(ue,re){return ue.value===re.value?0:ue.value>re.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},ut=[],ii=[],Et=[],ct=":|:",Ri=null,gt=0,_i=0,tn=0,Yi=new Slick.Event,It=new Slick.Event,Qt=new Slick.Event,gn=new Slick.Event,an=new Slick.Event,Ai=new Slick.Event,Mi=new Slick.Event,Pi=new Slick.Event;function hi(ue){if(!Se)for(var re,we=ue=ue||0,We=x.length;we<We;we++){if(void 0===(re=x[we][T]))throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");V.set(re,we)}}function St(){if(!Se)for(var ue,re=0,we=x.length;re<we;re++)if(void 0===(ue=x[re][T])||V.get(ue)!==re)throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property")}function S(){var ue=gt?Math.max(1,Math.ceil(tn/gt)):1;return{pageSize:gt,pageNum:_i,totalRows:tn,totalPages:ue,dataView:_}}function ce(ue,re){pe=re,at=ue,Me=null,!1===re&&x.reverse(),x.sort(ue),!1===re&&x.reverse(),V=new Slick.Map,hi(),si()}function Ce(ue,re){pe=re,Me=ue,at=null;var we=Object.prototype.toString;Object.prototype.toString="function"==typeof ue?ue:function(){return this[ue]},!1===re&&x.reverse(),x.sort(),Object.prototype.toString=we,!1===re&&x.reverse(),V=new Slick.Map,hi(),si()}function Ft(ue){c.groupItemMetadataProvider||(c.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),ii=[],Et=[],ut=(ue=ue||[])instanceof Array?ue:[ue];for(var re=0;re<ut.length;re++){var we=ut[re]=v.extend(!0,{},wi,ut[re]);we.getterIsAFn="function"==typeof we.getter,we.compiledAccumulators=[];for(var We=we.aggregators.length;We--;)we.compiledAccumulators[We]=Ir(we.aggregators[We]);Et[re]={}}si()}function Te(){if(!K){K={};for(var ue=0,re=k.length;ue<re;ue++)K[k[ue][T]]=ue}}function Ke(ue){return x[V.get(ue)]}function Tt(ue,re){if(!V.has(ue))throw new Error("[SlickGrid DataView] Invalid id");if(ue!==re[T]){var we=re[T];if(null==we)throw new Error("[SlickGrid DataView] Cannot update item to associate with a null id");if(V.has(we))throw new Error("[SlickGrid DataView] Cannot update item to associate with a non-unique id");V.set(we,V.get(ue)),V.delete(ue),he&&he[ue]&&delete he[ue],ue=we}x[V.get(ue)]=re,he||(he={}),he[ue]=!0}function Gt(ue,re){Tt(ue,re),si()}function ln(ue,re){x.splice(ue,0,re),hi(ue),si()}function mr(ue){if(Se)st.set(ue,!0);else{var re=V.get(ue);if(void 0===re)throw new Error("[SlickGrid DataView] Invalid id");V.delete(ue),x.splice(re,1),hi(re),si()}}function Vn(ue){if(!at)throw new Error("[SlickGrid DataView] sortedAddItem() requires a sort comparer, use sort()");ln(function ls(ue){for(var re=0,we=x.length;re<we;){var We=re+we>>>1;-1===at(x[We],ue)?re=We+1:we=We}return re}(ue),ue)}function Zi(ue,re){if(null==ue)for(var we=0;we<ut.length;we++)Et[we]={},ut[we].collapsed=re,!0===re?Pi.notify({level:we,groupingKey:null}):Mi.notify({level:we,groupingKey:null});else Et[ue]={},ut[ue].collapsed=re,!0===re?Pi.notify({level:ue,groupingKey:null}):Mi.notify({level:ue,groupingKey:null});si()}function mn(ue,re,we){Et[ue][re]=ut[ue].collapsed^we,si()}function Br(ue,re){for(var we,We,Dt,Fe=[],Ye={},bi=re?re.level+1:0,Ge=ut[bi],ji=0,Je=Ge.predefinedValues.length;ji<Je;ji++)(we=Ye[We=Ge.predefinedValues[ji]])||((we=new Slick.Group).value=We,we.level=bi,we.groupingKey=(re?re.groupingKey+ct:"")+We,Fe[Fe.length]=we,Ye[We]=we);for(ji=0,Je=ue.length;ji<Je;ji++)Dt=ue[ji],(we=Ye[We=Ge.getterIsAFn?Ge.getter(Dt):Dt[Ge.getter]])||((we=new Slick.Group).value=We,we.level=bi,we.groupingKey=(re?re.groupingKey+ct:"")+We,Fe[Fe.length]=we,Ye[We]=we),we.rows[we.count++]=Dt;if(bi<ut.length-1)for(ji=0;ji<Fe.length;ji++)(we=Fe[ji]).groups=Br(we.rows,we);return Fe.length&&tr(Fe,bi),Fe.sort(ut[bi].comparer),Fe}function Qr(ue){var Fe,re=ue.group,we=ut[re.level],We=re.level==ut.length,Ye=we.aggregators.length;if(!We&&we.aggregateChildGroups)for(var Dt=re.groups.length;Dt--;)re.groups[Dt].totals.initialized||Qr(re.groups[Dt].totals);for(;Ye--;)(Fe=we.aggregators[Ye]).init(),we.compiledAccumulators[Ye].call(Fe,!We&&we.aggregateChildGroups?re.groups:re.rows),Fe.storeResult(ue);ue.initialized=!0}function Io(ue){var re=ut[ue.level],we=new Slick.GroupTotals;we.group=ue,ue.totals=we,re.lazyTotalsCalculation||Qr(we)}function tr(ue,re){for(var Dt,we=ut[re=re||0],We=we.collapsed,Fe=Et[re],Ye=ue.length;Ye--;)(!(Dt=ue[Ye]).collapsed||we.aggregateCollapsed)&&(Dt.groups&&tr(Dt.groups,re+1),we.aggregators.length&&(we.aggregateEmpty||Dt.rows.length||Dt.groups&&Dt.groups.length)&&Io(Dt),Dt.collapsed=We^Fe[Dt.groupingKey],Dt.title=we.formatter?we.formatter(Dt):Dt.value)}function Yn(ue,re){for(var Fe,Dt,we=ut[re=re||0],We=[],Ye=0,bi=0,Ge=ue.length;bi<Ge;bi++){if(We[Ye++]=Dt=ue[bi],!Dt.collapsed)for(var ji=0,Je=(Fe=Dt.groups?Yn(Dt.groups,re+1):Dt.rows).length;ji<Je;ji++)We[Ye++]=Fe[ji];Dt.totals&&we.displayTotalsRow&&(!Dt.collapsed||we.aggregateCollapsed)&&(We[Ye++]=Dt.totals)}return We}function Gi(ue){var We=ue.toString().indexOf("function")>=0?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,Fe=ue.toString().match(We);return{params:Fe[1].split(","),body:Fe[2]}}function Ir(ue){if(ue.accumulate){var re=Gi(ue.accumulate),we=new Function("_items","for (var "+re.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+re.params[0]+" = _items[_i]; "+re.body+"}"),We="compiledAccumulatorLoop";return we.displayName=We,we.name=Rr(we,We),we}return function(){}}function Rr(ue,re){try{Object.defineProperty(ue,"name",{writable:!0,value:re})}catch{ue.name=re}}function Mr(ue,re){for(var we=[],We=0,Fe=0,Ye=ue.length;Fe<Ye;Fe++)Y(ue[Fe],re)&&(we[We++]=ue[Fe]);return we}function Ro(ue,re,we){for(var Ye,We=[],Fe=0,Dt=0,bi=ue.length;Dt<bi;Dt++)Ye=ue[Dt],we[Dt]?We[Fe++]=Ye:Y(Ye,re)&&(We[Fe++]=Ye,we[Dt]=!0);return We}function _r(ue){K=null,(Re.isFilterNarrowing!=ht.isFilterNarrowing||Re.isFilterExpanding!=ht.isFilterExpanding)&&(pn=[]);var re=function vr(ue){if(Y){var re=c.inlineFilters?Yt:Mr,we=c.inlineFilters?ei:Ro;Re.isFilterNarrowing?Mt=re(Mt,R):Re.isFilterExpanding?Mt=we(ue,R,pn):Re.isFilterUnchanged||(Mt=re(ue,R))}else Mt=gt?ue:ue.concat();var We;return gt?(Mt.length<=_i*gt&&(_i=0===Mt.length?0:Math.floor((Mt.length-1)/gt)),We=Mt.slice(gt*_i,gt*_i+gt)):We=Mt,{totalRows:Mt.length,rows:We}}(ue);tn=re.totalRows;var we=re.rows;ii=[],ut.length&&(ii=Br(we)).length&&(we=Yn(ii));var We=function Tn(ue,re){var we,We,Fe,Ye=[],Dt=0,bi=Math.max(re.length,ue.length);Re&&Re.ignoreDiffsBefore&&(Dt=Math.max(0,Math.min(re.length,Re.ignoreDiffsBefore))),Re&&Re.ignoreDiffsAfter&&(bi=Math.min(re.length,Math.max(0,Re.ignoreDiffsAfter)));for(var Ge=Dt,ji=ue.length;Ge<bi;Ge++)Ge>=ji?Ye[Ye.length]=Ge:(We=ue[Ge],(!(we=re[Ge])||ut.length&&(Fe=we.__nonDataRow||We.__nonDataRow)&&we.__group!==We.__group||we.__group&&!we.equals(We)||Fe&&(we.__groupTotals||We.__groupTotals)||we[T]!=We[T]||he&&he[we[T]])&&(Ye[Ye.length]=Ge));return Ye}(k,we);return k=we,We}function si(){if(!se){var ue=v.extend(!0,{},S()),re=k.length,we=tn,We=_r(x);gt&&tn<_i*gt&&(_i=Math.max(0,Math.ceil(tn/gt)-1),We=_r(x)),he=null,ht=Re,Re={},we!==tn&&!1!==an.notify(ue,null,_)&&Ai.notify(S(),null,_),re!==k.length&&It.notify({previous:re,current:k.length,itemCount:x.length,dataView:_,callingOnRowsChanged:We.length>0},null,_),We.length>0&&Qt.notify({rows:We,itemCount:x.length,dataView:_,calledOnRowCountChanged:re!==k.length},null,_),(re!==k.length||We.length>0)&&gn.notify({rowsDiff:We,previousRowCount:re,currentRowCount:k.length,itemCount:x.length,rowCountChanged:re!==k.length,rowsChanged:We.length>0,dataView:_},null,_)}}function go(){return Ri}c=v.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},c),v.extend(this,{beginUpdate:function Lt(ue){se=!0,Se=!0===ue},endUpdate:function Wi(){var ue=Se;Se=!1,se=!1,ue&&(function Ln(){for(var ue,re,we=0,We=0,Fe=x.length;We<Fe;We++){if(void 0===(ue=(re=x[We])[T]))throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");st.has(ue)?V.delete(ue):(x[we]=re,V.set(ue,we),++we)}x.length=we,st=new Slick.Map}(),St()),si()},destroy:function Oi(){x=[],V=null,K=null,Y=null,he=null,at=null,pn=[],Mt=[],Yt=null,ei=null,ti&&ti.onSelectedRowsChanged&&ti.onCellCssStylesChanged&&(ti.onSelectedRowsChanged.unsubscribe(),ti.onCellCssStylesChanged.unsubscribe()),_.onRowsOrCountChanged&&_.onRowsOrCountChanged.unsubscribe()},setPagingOptions:function Xr(ue){!1!==an.notify(S(),null,_)&&(null!=ue.pageSize&&(_i=(gt=ue.pageSize)?Math.min(_i,Math.max(0,Math.ceil(tn/gt)-1)):0),null!=ue.pageNum&&(_i=Math.min(ue.pageNum,Math.max(0,Math.ceil(tn/gt)-1))),Ai.notify(S(),null,_),si())},getPagingInfo:S,getIdPropertyName:function Ar(){return T},getItems:function qi(){return x},setItems:function Or(ue,re){void 0!==re&&(T=re),x=Mt=ue,Yi.notify({idProperty:re,itemCount:x.length},null,_),V=new Slick.Map,hi(),St(),si()},setFilter:function vt(ue){Y=ue,c.inlineFilters&&(Yt=function Zr(){var ue=Gi(Y),re="{ continue _coreloop; }$1",we="{ _retval[_idx++] = $item$; continue _coreloop; }$1",We=ue.body.replace(/return false\s*([;}]|\}|$)/gi,re).replace(/return!1([;}]|\}|$)/gi,re).replace(/return true\s*([;}]|\}|$)/gi,we).replace(/return!0([;}]|\}|$)/gi,we).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),Fe=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");Fe=(Fe=(Fe=Fe.replace(/\$filter\$/gi,We)).replace(/\$item\$/gi,ue.params[0])).replace(/\$args\$/gi,ue.params[1]);var Ye=new Function("_items,_args",Fe),Dt="compiledFilter";return Ye.displayName=Dt,Ye.name=Rr(Ye,Dt),Ye}(),ei=function ds(){var ue=Gi(Y),re="{ continue _coreloop; }$1",we="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",We=ue.body.replace(/return false\s*([;}]|\}|$)/gi,re).replace(/return!1([;}]|\}|$)/gi,re).replace(/return true\s*([;}]|\}|$)/gi,we).replace(/return!0([;}]|\}|$)/gi,we).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),Fe=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");Fe=(Fe=(Fe=Fe.replace(/\$filter\$/gi,We)).replace(/\$item\$/gi,ue.params[0])).replace(/\$args\$/gi,ue.params[1]);var Ye=new Function("_items,_args,_cache",Fe),Dt="compiledFilterWithCaching";return Ye.displayName=Dt,Ye.name=Rr(Ye,Dt),Ye}()),si()},getFilter:function Qe(){return Y},getFilteredItems:function Ie(){return Mt},getFilteredItemCount:function ze(){return Mt.length},sort:ce,fastSort:Ce,reSort:function me(){at?ce(at,pe):Me&&Ce(Me,pe)},setGrouping:Ft,getGrouping:function _t(){return ut},groupBy:function Zt(ue,re,we){Ft(null!=ue?{getter:ue,formatter:re,comparer:we}:[])},setAggregators:function yt(ue,re){if(!ut.length)throw new Error("[SlickGrid DataView] At least one grouping must be specified before calling setAggregators().");ut[0].aggregators=ue,ut[0].aggregateCollapsed=re,Ft(ut)},collapseAllGroups:function er(ue){Zi(ue,!0)},expandAllGroups:function on(ue){Zi(ue,!1)},collapseGroup:function Ji(ue){var We,Fe,re=Array.prototype.slice.call(arguments),we=re[0];1===re.length&&-1!==we.indexOf(ct)?(We=we,Fe=we.split(ct).length-1):(We=re.join(ct),Fe=re.length-1),mn(Fe,We,!0),Pi.notify({level:Fe,groupingKey:We})},expandGroup:function zn(ue){var We,Fe,re=Array.prototype.slice.call(arguments),we=re[0];1===re.length&&-1!==we.indexOf(ct)?(Fe=we.split(ct).length-1,We=we):(Fe=re.length-1,We=re.join(ct)),mn(Fe,We,!1),Mi.notify({level:Fe,groupingKey:We})},getGroups:function us(){return ii},getAllSelectedIds:go,getAllSelectedItems:function Jr(){var ue=[];return go().forEach(function(we){ue.push(_.getItemById(we))}),ue},getIdxById:function j(ue){return V.get(ue)},getRowByItem:function Ve(ue){return Te(),K[ue[T]]},getRowById:function ke(ue){return Te(),K[ue]},getItemById:Ke,getItemByIdx:function ki(ue){return x[ue]},mapItemsToRows:function dt(ue){var re=[];Te();for(var we=0,We=ue.length;we<We;we++){var Fe=K[ue[we][T]];null!=Fe&&(re[re.length]=Fe)}return re},mapRowsToIds:function mt(ue){for(var re=[],we=0,We=ue.length;we<We;we++)ue[we]<k.length&&(re[re.length]=k[ue[we]][T]);return re},mapIdsToRows:function Pt(ue){var re=[];Te();for(var we=0,We=ue.length;we<We;we++){var Fe=K[ue[we]];null!=Fe&&(re[re.length]=Fe)}return re},setRefreshHints:function fo(ue){Re=ue},setFilterArgs:function Ae(ue){R=ue},refresh:si,updateItem:Gt,updateItems:function Ki(ue,re){if(ue.length!==re.length)throw new Error("[SlickGrid DataView] Mismatch on the length of ids and items provided to update");for(var we=0,We=re.length;we<We;we++)Tt(ue[we],re[we]);si()},insertItem:ln,insertItems:function Li(ue,re){Array.prototype.splice.apply(x,[ue,0].concat(re)),hi(ue),si()},addItem:function Hr(ue){x.push(ue),hi(x.length-1),si()},addItems:function $r(ue){hi((x=x.concat(ue)).length-ue.length),si()},deleteItem:mr,deleteItems:function Un(ue){if(0!==ue.length)if(Se)for(var re=0,we=ue.length;re<we;re++){if(void 0===(Fe=V.get(We=ue[re])))throw new Error("[SlickGrid DataView] Invalid id");st.set(We,!0)}else{var Ye=[];for(re=0,we=ue.length;re<we;re++){var We,Fe;if(void 0===(Fe=V.get(We=ue[re])))throw new Error("[SlickGrid DataView] Invalid id");V.delete(We),Ye.push(Fe)}for(Ye.sort(),re=Ye.length-1;re>=0;--re)x.splice(Ye[re],1);hi(Ye[0]),si()}},sortedAddItem:Vn,sortedUpdateItem:function po(ue,re){if(!V.has(ue)||ue!==re[T])throw new Error("[SlickGrid DataView] Invalid or non-matching id "+V.get(ue));if(!at)throw new Error("[SlickGrid DataView] sortedUpdateItem() requires a sort comparer, use sort()");var we=Ke(ue);0!==at(we,re)?(mr(ue),Vn(re)):Gt(ue,re)},syncGridSelection:function Mo(ue,re,we){var Fe,We=this;ti=ue,Ri=We.mapRowsToIds(ue.getSelectedRows());var Ye=new Slick.Event;function Dt(Ge){Ri.join(",")!=Ge.join(",")&&Ye.notify({grid:ue,ids:Ri=Ge,dataView:We},new Slick.EventData,We)}return ue.onSelectedRowsChanged.subscribe(function(Ge,ji){if(!Fe){var Je=We.mapRowsToIds(ue.getSelectedRows());we&&ue.getOptions().multiSelect?Dt(v.grep(Ri,function(Yo){return void 0===We.getRowById(Yo)}).concat(Je)):Dt(Je)}}),this.onRowsOrCountChanged.subscribe(function bi(){if(Ri.length>0){Fe=!0;var Ge=We.mapIdsToRows(Ri);re||Dt(We.mapRowsToIds(Ge)),ue.setSelectedRows(Ge),Fe=!1}}),Ye},syncGridCellCssStyles:function Ui(ue,re){var we,We;function Fe(Dt){for(var bi in we={},Dt)we[k[bi][T]]=Dt[bi]}function Ye(){if(we){We=!0,Te();var Dt={};for(var bi in we){var Ge=K[bi];null!=Ge&&(Dt[Ge]=we[bi])}ue.setCellCssStyles(re,Dt),We=!1}}Fe(ue.getCellCssStyles(re)),ue.onCellCssStylesChanged.subscribe(function(Dt,bi){We||re==bi.key&&(bi.hash?Fe(bi.hash):(ue.onCellCssStylesChanged.unsubscribe(),_.onRowsOrCountChanged.unsubscribe(Ye)))}),this.onRowsOrCountChanged.subscribe(Ye)},getItemCount:function Ds(){return x.length},getLength:function jo(){return k.length},getItem:function Hn(ue){var re=k[ue];if(re&&re.__group&&re.totals&&!re.totals.initialized){var we=ut[re.level];we.displayTotalsRow||(Qr(re.totals),re.title=we.formatter?we.formatter(re):re.value)}else re&&re.__groupTotals&&!re.initialized&&Qr(re);return re},getItemMetadata:function Oo(ue){var re=k[ue];return void 0===re?null:re.__group?c.groupItemMetadataProvider.getGroupRowMetadata(re):re.__groupTotals?c.groupItemMetadataProvider.getTotalsRowMetadata(re):null},onSetItemsCalled:Yi,onRowCountChanged:It,onRowsChanged:Qt,onRowsOrCountChanged:gn,onBeforePagingInfoChanged:an,onPagingInfoChanged:Ai,onGroupExpanded:Mi,onGroupCollapsed:Pi})},Aggregators:{Avg:function A(c){this.field_=c,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(_){var y=_[this.field_];this.count_++,null!=y&&""!==y&&!isNaN(y)&&(this.nonNullCount_++,this.sum_+=parseFloat(y))},this.storeResult=function(_){_.avg||(_.avg={}),0!==this.nonNullCount_&&(_.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function I(c){this.field_=c,this.init=function(){this.min_=null},this.accumulate=function(_){var y=_[this.field_];null!=y&&""!==y&&!isNaN(y)&&(null==this.min_||y<this.min_)&&(this.min_=y)},this.storeResult=function(_){_.min||(_.min={}),_.min[this.field_]=this.min_}},Max:function F(c){this.field_=c,this.init=function(){this.max_=null},this.accumulate=function(_){var y=_[this.field_];null!=y&&""!==y&&!isNaN(y)&&(null==this.max_||y>this.max_)&&(this.max_=y)},this.storeResult=function(_){_.max||(_.max={}),_.max[this.field_]=this.max_}},Sum:function L(c){this.field_=c,this.init=function(){this.sum_=null},this.accumulate=function(_){var y=_[this.field_];null!=y&&""!==y&&!isNaN(y)&&(this.sum_+=parseFloat(y))},this.storeResult=function(_){_.sum||(_.sum={}),_.sum[this.field_]=this.sum_}},Count:function b(c){this.field_=c,this.init=function(){},this.storeResult=function(_){_.count||(_.count={}),_.count[this.field_]=_.group.rows.length}}}}}})},7221:()=>{if(typeof jQuery>"u")throw new Error("SlickGrid requires jquery module to be loaded");if(!jQuery.fn.drag)throw new Error("SlickGrid requires jquery.event.drag module to be loaded");if(typeof Slick>"u")throw new Error("slick.core.js not loaded");(function($){"use strict";var scrollbarDimensions,maxSupportedCssHeight;function SlickGrid(container,data,columns,options){var defaults={alwaysShowVerticalScroll:!1,alwaysAllowHorizontalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showColumnHeader:!0,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,showPreHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,frozenRightViewportMinWidth:100,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,showCellSelection:!0,viewportClass:null,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1,enableMouseWheelScrollHandler:!0,doPaging:!0,autosizeColsMode:Slick.GridAutosizeColsMode.LegacyOff,autosizeColPaddingPx:4,autosizeTextAvgToMWidthRatio:.75,viewportSwitchToScrollModeWidthPercent:void 0,viewportMinWidthPx:void 0,viewportMaxWidthPx:void 0,suppressCssChangesOnHiddenInit:!1,ffMaxSupportedCssHeight:6e6,maxSupportedCssHeight:1e9,sanitizer:void 0,logSanitizedHtml:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,maxWidth:void 0,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},columnAutosizeDefaults={ignoreHeaderText:!1,colValueArray:void 0,allowAddlPercent:void 0,formatterOverride:void 0,autosizeMode:Slick.ColAutosizeMode.ContentIntelligent,rowSelectionModeOnInit:void 0,rowSelectionMode:Slick.RowSelectionMode.FirstNRows,rowSelectionCount:100,valueFilterMode:Slick.ValueFilterMode.None,widthEvalMode:Slick.WidthEvalMode.CanvasTextSize,sizeToRemaining:void 0,widthPx:void 0,colDataTypeOf:void 0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$groupHeaders=$(),$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR,$footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR,$preHeaderPanel,$preHeaderPanelScroller,$preHeaderPanelSpacer,$preHeaderPanelR,$preHeaderPanelScrollerR,$preHeaderPanelSpacerR,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,treeColumns,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,canvasWidthL,canvasWidthR,headersWidth,headersWidthL,headersWidthR,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode,$activeViewportNode,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],pagingActive=!1,pagingIsLastPage=!1,scrollThrottle=ActionThrottle(render,50),h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,$paneHeaderL,$paneHeaderR,$paneTopL,$paneTopR,$paneBottomL,$paneBottomR,$headerScrollerL,$headerScrollerR,$headerL,$headerR,$groupHeadersL,$groupHeadersR,$headerRowScrollerL,$headerRowScrollerR,$footerRowScrollerL,$footerRowScrollerR,$headerRowL,$headerRowR,$footerRowL,$footerRowR,$topPanelScrollerL,$topPanelScrollerR,$topPanelL,$topPanelR,$viewportTopL,$viewportTopR,$viewportBottomL,$viewportBottomR,$canvasTopL,$canvasTopR,$canvasBottomL,$canvasBottomR,$viewportScrollContainerX,$viewportScrollContainerY,$headerScrollContainer,$headerRowScrollContainer,$footerRowScrollContainer,cssShow={position:"absolute",visibility:"hidden",display:"block"},$hiddenParents,oldProps=[],columnResizeDragging=!1;function init(){if(($container=container instanceof jQuery?container:$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");if(maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,options.suppressCssChangesOnHiddenInit||cacheCssForHiddenInit(),treeColumns=new Slick.TreeColumns(columns),columns=treeColumns.extractColumns(),updateColumnProps(),options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit,cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$paneHeaderL=$("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo($container),$paneHeaderR=$("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo($container),$paneTopL=$("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo($container),$paneTopR=$("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo($container),$paneBottomL=$("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo($container),$paneBottomR=$("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo($container),options.createPreHeaderPanel&&($preHeaderPanelScroller=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderL),$preHeaderPanel=$("<div />").appendTo($preHeaderPanelScroller),$preHeaderPanelSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScroller),$preHeaderPanelScrollerR=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderR),$preHeaderPanelR=$("<div />").appendTo($preHeaderPanelScrollerR),$preHeaderPanelSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScrollerR),options.showPreHeaderPanel||($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide())),$headerScrollerL=$("<div class='slick-header ui-state-default slick-header-left' />").appendTo($paneHeaderL),$headerScrollerR=$("<div class='slick-header ui-state-default slick-header-right' />").appendTo($paneHeaderR),$headerScroller=$().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var v=0;v<treeColumns.getDepth()-1;v++)$groupHeadersL[v]=$("<div class='slick-group-header-columns slick-group-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[v]=$("<div class='slick-group-header-columns slick-group-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR);$groupHeaders=$().add($groupHeadersL).add($groupHeadersR)}$headerL=$("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$headerR=$("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR),$headers=$().add($headerL).add($headerR),$headerRowScrollerL=$("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopL),$headerRowScrollerR=$("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopR),$headerRowScroller=$().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerL),$headerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerR),$headerRowL=$("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo($headerRowScrollerL),$headerRowR=$("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo($headerRowScrollerR),$headerRow=$().add($headerRowL).add($headerRowR),$topPanelScrollerL=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopL),$topPanelScrollerR=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopR),$topPanelScroller=$().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=$().add($topPanelL).add($topPanelR),options.showColumnHeader||$headerScroller.hide(),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=$("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=$("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=$().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=$("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=$("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportBottomR),options.viewportClass&&$viewport.toggleClass(options.viewportClass,!0),$canvas=$().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),$activeCanvasNode=$canvasTopL,$preHeaderPanelSpacer&&$preHeaderPanelSpacer.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headers.width(getHeadersWidth()),$headerRowSpacerL.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headerRowSpacerR.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),options.createFooterRow&&($footerRowScrollerR=$("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopR),$footerRowScrollerL=$("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopL),$footerRowScroller=$().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=$("<div class='slick-footerrow-columns slick-footerrow-columns-left' />").appendTo($footerRowScrollerL),$footerRowR=$("<div class='slick-footerrow-columns slick-footerrow-columns-right' />").appendTo($footerRowScrollerR),$footerRow=$().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide()),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.on("selectstart.ui",function(v){return $(v.target).is("input,textarea")}),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.on("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),jQuery.fn.mousewheel&&options.enableMouseWheelScrollHandler&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.on("contextmenu",handleHeaderContextMenu).on("click",handleHeaderClick).on("mouseenter",".slick-header-column",handleHeaderMouseEnter).on("mouseleave",".slick-header-column",handleHeaderMouseLeave),$headerRowScroller.on("scroll",handleHeaderRowScroll),options.showHeaderRow&&$headerRow.on("mouseenter",".slick-headerrow-column",handleHeaderRowMouseEnter).on("mouseleave",".slick-headerrow-column",handleHeaderRowMouseLeave),options.createFooterRow&&($footerRow.on("contextmenu",handleFooterContextMenu).on("click",handleFooterClick),$footerRowScroller.on("scroll",handleFooterRowScroll)),options.createPreHeaderPanel&&$preHeaderPanelScroller.on("scroll",handlePreHeaderPanelScroll),$focusSink.add($focusSink2).on("keydown",handleKeyDown),$canvas.on("keydown",handleKeyDown).on("click",handleClick).on("dblclick",handleDblClick).on("contextmenu",handleContextMenu).on("draginit",handleDragInit).on("dragstart",{distance:3},handleDragStart).on("drag",handleDrag).on("dragend",handleDragEnd).on("mouseenter",".slick-cell",handleMouseEnter).on("mouseleave",".slick-cell",handleMouseLeave),options.suppressCssChangesOnHiddenInit||restoreCssFromHiddenInit())}function cacheCssForHiddenInit(){($hiddenParents=$container.parents().addBack().not(":visible")).each(function(){var v={};for(var w in cssShow)v[w]=this.style[w],this.style[w]=cssShow[w];oldProps.push(v)})}function restoreCssFromHiddenInit(){$hiddenParents.each(function(v){var w=oldProps[v];for(var A in cssShow)this.style[A]=w[A]})}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(v){plugins.unshift(v),v.init(self)}function unregisterPlugin(v){for(var w=plugins.length;w>=0;w--)if(plugins[w]===v){plugins[w].destroy&&plugins[w].destroy(),plugins.splice(w,1);break}}function getPluginByName(v){for(var w=plugins.length-1;w>=0;w--)if(plugins[w].pluginName===v)return plugins[w]}function setSelectionModel(v){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=v)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(v,w){return _getContainerElement(getCanvases(),v,w)}function getActiveCanvasNode(v){return setActiveCanvasNode(v),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(v){v&&($activeCanvasNode=$(v.target).closest(".grid-canvas"))}function getViewportNode(v,w){return _getContainerElement(getViewports(),v,w)}function getViewports(){return $viewport}function getActiveViewportNode(v){return setActiveViewportNode(v),$activeViewportNode[0]}function setActiveViewportNode(v){v&&($activeViewportNode=$(v.target).closest(".slick-viewport"))}function _getContainerElement(v,w,A){if(v){w||(w=0),A||(A=0);var I="number"==typeof w?w:getColumnIndex(w);return v[(hasFrozenRows&&A>=actualFrozenRow+(options.frozenBottom?0:1)?2:0)+(hasFrozenColumns()&&I>options.frozenColumn?1:0)]}}function measureScrollbar(){var v=$('<div class="'+$viewport.className+'" style="position:absolute; top:-10000px; left:-10000px; overflow:auto; width:100px; height:100px;"></div>').appendTo("body"),w=$('<div style="width:200px; height:200px; overflow:auto;"></div>').appendTo(v),A={width:v[0].offsetWidth-v[0].clientWidth,height:v[0].offsetHeight-v[0].clientHeight};return w.remove(),v.remove(),A}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var v=!options.autoHeight,w=0,A=columns.length;w<A;w++){var I=columns[w].width;options.frozenColumn>-1&&w>options.frozenColumn?headersWidthR+=I:headersWidthL+=I}return v&&(options.frozenColumn>-1&&w>options.frozenColumn?headersWidthR+=scrollbarDimensions.width:headersWidthL+=scrollbarDimensions.width),hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR,Math.max(headersWidth,viewportW)+1e3}function getHeadersWidthL(){return headersWidthL=0,columns.forEach(function(v,w){options.frozenColumn>-1&&w>options.frozenColumn||(headersWidthL+=v.width)}),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach(function(v,w){options.frozenColumn>-1&&w>options.frozenColumn&&(headersWidthR+=v.width)}),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var v=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,w=columns.length;for(canvasWidthL=canvasWidthR=0;w--;)hasFrozenColumns()&&w>options.frozenColumn?canvasWidthR+=columns[w].width:canvasWidthL+=columns[w].width;var A=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(A,v):A}function updateCanvasWidth(v){var F,w=canvasWidth,A=canvasWidthL,I=canvasWidthR;((F=(canvasWidth=getCanvasWidth())!==w||canvasWidthL!==A||canvasWidthR!==I)||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css("left",canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css("left",canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),options.createFooterRow&&($footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR)),options.createPreHeaderPanel&&$preHeaderPanel.width(canvasWidth),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css("left",canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.width("100%"),$paneTopL.width("100%"),$headerRowScrollerL.width("100%"),$headerRowL.width(canvasWidth),options.createFooterRow&&($footerRowScrollerL.width("100%"),$footerRowL.width(canvasWidth)),options.createPreHeaderPanel&&($preHeaderPanel.width("100%"),$preHeaderPanel.width(canvasWidth)),$viewportTopL.width("100%"),hasFrozenRows&&($viewportBottomL.width("100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>=viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),options.createFooterRow&&($footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0))),(F||v)&&applyColumnWidths()}function disableSelection(v){v&&v.jquery&&v.attr("unselectable","on").css("MozUserSelect","none").on("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var v=1e6,w=navigator.userAgent.toLowerCase().match(/firefox/)?options.ffMaxSupportedCssHeight:options.maxSupportedCssHeight,A=$("<div style='display:none' />").appendTo(document.body);;){var I=2*v;if(A.css("height",I),I>w||A.height()!==I)break;v=I}return A.remove(),v}function getUID(){return uid}function getHeaderColumnWidthDiff(){return headerColumnWidthDiff}function getScrollbarDimensions(){return scrollbarDimensions}function getDisplayedScrollbarDimensions(){return{width:viewportHasVScroll?scrollbarDimensions.width:0,height:viewportHasHScroll?scrollbarDimensions.height:0}}function getAbsoluteColumnMinWidth(){return absoluteColumnMinWidth}function bindAncestorScrollEvents(){for(var v=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(v=v.parentNode)!=document.body&&null!=v;)if(v==$viewportTopL[0]||v.scrollWidth!=v.clientWidth||v.scrollHeight!=v.clientHeight){var w=$(v);$boundAncestors=$boundAncestors?$boundAncestors.add(w):w,w.on("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){!$boundAncestors||($boundAncestors.off("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(v,w,A){if(initialized){var I=getColumnIndex(v);if(null!=I){var F=columns[I],L=$headers.children().eq(I);L&&(void 0!==w&&(columns[I].name=w),void 0!==A&&(columns[I].toolTip=A),trigger(self.onBeforeHeaderCellDestroy,{node:L[0],column:F,grid:self}),L.attr("title",A||"").children().eq(0).html(w),trigger(self.onHeaderCellRendered,{node:L[0],column:F,grid:self}))}}}function getHeader(v){if(!v)return hasFrozenColumns()?$headers:$headerL;var w=getColumnIndex(v.id);return hasFrozenColumns()?w<=options.frozenColumn?$headerL:$headerR:$headerL}function getHeaderColumn(v){var w="number"==typeof v?v:getColumnIndex(v),A=hasFrozenColumns()?w<=options.frozenColumn?$headerL:$headerR:$headerL,I=hasFrozenColumns()?w<=options.frozenColumn?w:w-options.frozenColumn-1:w,F=A.children().eq(I);return F&&F[0]}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getPreHeaderPanel(){return $preHeaderPanel[0]}function getPreHeaderPanelRight(){return $preHeaderPanelR[0]}function getHeaderRowColumn(v){var A,w="number"==typeof v?v:getColumnIndex(v);hasFrozenColumns()?w<=options.frozenColumn?A=$headerRowL:(A=$headerRowR,w-=options.frozenColumn+1):A=$headerRowL;var I=A.children().eq(w);return I&&I[0]}function getFooterRowColumn(v){var A,w="number"==typeof v?v:getColumnIndex(v);hasFrozenColumns()?w<=options.frozenColumn?A=$footerRowL:(A=$footerRowR,w-=options.frozenColumn+1):A=$footerRowL;var I=A&&A.children().eq(w);return I&&I[0]}function createColumnFooter(){if(options.createFooterRow){$footerRow.find(".slick-footerrow-column").each(function(){var I=$(this).data("column");I&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:I,grid:self})}),$footerRowL.empty(),$footerRowR.empty();for(var v=0;v<columns.length;v++){var w=columns[v],A=$("<div class='ui-state-default slick-footerrow-column l"+v+" r"+v+"'></div>").data("column",w).addClass(hasFrozenColumns()&&v<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&v>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:A[0],column:w,grid:self})}}}function createColumnGroupHeaders(){var v=0,w=!1;if(treeColumns.hasDepth()){for(var A=0;A<$groupHeadersL.length;A++){$groupHeadersL[A].empty(),$groupHeadersR[A].empty();var I=treeColumns.getColumnsInDepth(A);for(var F in I){var L=I[F];v+=L.extractColumns().length,hasFrozenColumns()&&0===A&&v-1===options.frozenColumn&&(w=!0),$("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+L.name+"</span>").attr("id",""+uid+L.id).attr("title",L.toolTip||"").data("column",L).addClass(L.headerCssClass||"").addClass(hasFrozenColumns()&&v-1>options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&v-1>options.frozenColumn?$groupHeadersR[A]:$groupHeadersL[A])}if(hasFrozenColumns()&&0===A&&!w){$groupHeadersL[A].empty(),$groupHeadersR[A].empty(),alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function v(){$(this).addClass("ui-state-hover")}function w(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var T=$(this).data("column");T&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:T,grid:self})}),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each(function(){var T=$(this).data("column");T&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:T,grid:self})}),$headerRowL.empty(),$headerRowR.empty(),options.createFooterRow&&($footerRowL.find(".slick-footerrow-column").each(function(){var T=$(this).data("column");T&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:T,grid:self})}),$footerRowL.empty(),hasFrozenColumns()&&($footerRowR.find(".slick-footerrow-column").each(function(){var T=$(this).data("column");T&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:T,grid:self})}),$footerRowR.empty()));for(var A=0;A<columns.length;A++){var I=columns[A],F=hasFrozenColumns()?A<=options.frozenColumn?$headerL:$headerR:$headerL,L=hasFrozenColumns()?A<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,b=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+I.name+"</span>").width(I.width-headerColumnWidthDiff).attr("id",""+uid+I.id).attr("title",I.toolTip||"").data("column",I).addClass(I.headerCssClass||"").addClass(hasFrozenColumns()&&A<=options.frozenColumn?"frozen":"").appendTo(F);if((options.enableColumnReorder||I.sortable)&&b.on("mouseenter",v).on("mouseleave",w),I.hasOwnProperty("headerCellAttrs")&&I.headerCellAttrs instanceof Object)for(var c in I.headerCellAttrs)I.headerCellAttrs.hasOwnProperty(c)&&b.attr(c,I.headerCellAttrs[c]);if(I.sortable&&(b.addClass("slick-header-sortable"),b.append("<span class='slick-sort-indicator"+(options.numberedMultiColumnSort&&!options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":"")+"' />"),options.numberedMultiColumnSort&&options.sortColNumberInSeparateSpan&&b.append("<span class='slick-sort-indicator-numbered' />")),trigger(self.onHeaderCellRendered,{node:b[0],column:I,grid:self}),options.showHeaderRow){var _=$("<div class='ui-state-default slick-headerrow-column l"+A+" r"+A+"'></div>").data("column",I).addClass(hasFrozenColumns()&&A<=options.frozenColumn?"frozen":"").appendTo(L);trigger(self.onHeaderRowCellRendered,{node:_[0],column:I,grid:self})}if(options.createFooterRow&&options.showFooterRow){var y=$("<div class='ui-state-default slick-footerrow-column l"+A+" r"+A+"'></div>").data("column",I).appendTo($footerRow);trigger(self.onFooterRowCellRendered,{node:y[0],column:I,grid:self})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&("function"==typeof options.enableColumnReorder?options.enableColumnReorder(self,$headers,headerColumnWidthDiff,setColumns,setupColumnResize,columns,getColumnIndex,uid,trigger):setupColumnReorder())}function setupColumnSort(){$headers.click(function(v){if(!columnResizeDragging&&(v.metaKey=v.metaKey||v.ctrlKey,!$(v.target).hasClass("slick-resizable-handle"))){var w=$(v.target).closest(".slick-header-column");if(w.length){var A=w.data("column");if(A.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var I=$.extend(!0,[],sortColumns),F=null,L=0;L<sortColumns.length;L++)if(sortColumns[L].columnId==A.id){(F=sortColumns[L]).sortAsc=!F.sortAsc;break}var c,b=!!F;options.tristateMultiColumnSort?(F||(F={columnId:A.id,sortAsc:A.defaultSortAsc}),b&&F.sortAsc&&(sortColumns.splice(L,1),F=null),options.multiColumnSort||(sortColumns=[]),F&&(!b||!options.multiColumnSort)&&sortColumns.push(F)):v.metaKey&&options.multiColumnSort?F&&sortColumns.splice(L,1):((!v.shiftKey&&!v.metaKey||!options.multiColumnSort)&&(sortColumns=[]),F?0===sortColumns.length&&sortColumns.push(F):sortColumns.push(F={columnId:A.id,sortAsc:A.defaultSortAsc})),c=options.multiColumnSort?{multiColumnSort:!0,previousSortColumns:I,sortCols:$.map(sortColumns,function(_){return{columnId:columns[getColumnIndex(_.columnId)].id,sortCol:columns[getColumnIndex(_.columnId)],sortAsc:_.sortAsc}})}:{multiColumnSort:!1,previousSortColumns:I,columnId:sortColumns.length>0?A.id:null,sortCol:sortColumns.length>0?A:null,sortAsc:!(sortColumns.length>0)||sortColumns[0].sortAsc},!1!==trigger(self.onBeforeSort,c,v)&&(setSortColumns(sortColumns),trigger(self.onSort,c,v))}}}})}function currentPositionInHeader(v){var w=0;return $headers.find(".slick-header-column").each(function(A){if(this.id==v)return w=A,!1}),w}function limitPositionInGroup(v){var w,A=0,I=0;return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some(function(F){return A=I,I+=F.columns.length,F.columns.some(function(L){return L.id===v&&(w=F),w}),w}),I--,{start:A,end:I,group:w}}function remove(v,w){var A=v.lastIndexOf(w);A>-1&&(v.splice(A,1),remove(v,w))}function columnPositionValidInGroup(v){var w=currentPositionInHeader(v[0].id),A=limitPositionInGroup(v.data("column").id),I=A.start<=w&&w<=A.end;return{limit:A,valid:I,message:I?"":'Column "'.concat(v.text(),'" can be reordered only within the "',A.group.name,'" group!')}}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy");var I,v=null;function w(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft+10}function A(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft-10}$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(F,L){L.placeholder.width(L.helper.outerWidth()-headerColumnWidthDiff),I=!hasFrozenColumns()||L.placeholder.offset().left+L.placeholder.width()>$viewportScrollContainerX.offset().left,$(L.helper).addClass("slick-header-column-active")},beforeStop:function(F,L){$(L.helper).removeClass("slick-header-column-active")},sort:function(F,L){I&&F.originalEvent.pageX>$container[0].clientWidth?v||(v=setInterval(w,100)):I&&F.originalEvent.pageX<$viewportScrollContainerX.offset().left?v||(v=setInterval(A,100)):(clearInterval(v),v=null)},stop:function(F,L){var b=!1;clearInterval(v),v=null;var c=null;if(treeColumns.hasDepth()){var _=columnPositionValidInGroup(L.item);c=_.limit,(b=!_.valid)&&alert(_.message)}if(!b&&getEditorLock().commitCurrentEdit()){var y=$headerL.sortable("toArray");y=y.concat($headerR.sortable("toArray"));for(var T=[],x=0;x<y.length;x++)T.push(columns[getColumnIndex(y[x].replace(uid,""))]);setColumns(T),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(c)}),F.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function getImpactedColumns(v){var w=[];if(v)for(var A=v.start;A<=v.end;A++)w.push(columns[A]);else w=columns;return w}function setupColumnResize(){var w,A,I,F,L,b,c,_,y,T=0;(L=$headers.children()).find(".slick-resizable-handle").remove(),L.each(function(x,k){x>=columns.length||columns[x].resizable&&(void 0===_&&(_=x),y=x)}),void 0!==_&&L.each(function(x,k){x>=columns.length||x<_||options.forceFitColumns&&x>=y||($(k),$("<div class='slick-resizable-handle' />").appendTo(k).on("dragstart",function(V,K){if(!getEditorLock().commitCurrentEdit())return!1;F=V.pageX,T=0,$(this).parent().addClass("slick-header-column-active");var Y=null,he=null;if(L.each(function(st,pe){st>=columns.length||(columns[st].previousWidth=$(pe).outerWidth())}),options.forceFitColumns)for(Y=0,he=0,w=x+1;w<columns.length;w++)(I=columns[w]).resizable&&(null!==he&&(I.maxWidth?he+=I.maxWidth-I.previousWidth:he=null),Y+=I.previousWidth-Math.max(I.minWidth||0,absoluteColumnMinWidth));var se=0,Se=0;for(w=0;w<=x;w++)(I=columns[w]).resizable&&(null!==Se&&(I.maxWidth?Se+=I.maxWidth-I.previousWidth:Se=null),se+=I.previousWidth-Math.max(I.minWidth||0,absoluteColumnMinWidth));null===Y&&(Y=1e5),null===se&&(se=1e5),null===he&&(he=1e5),null===Se&&(Se=1e5),c=F+Math.min(Y,Se),b=F-Math.min(se,he)}).on("drag",function(V,K){columnResizeDragging=!0;var Y,se,he=Math.min(c,Math.max(b,V.pageX))-F,Se=0,pe=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;if(he<0){for(se=he,w=x;w>=0;w--)(I=columns[w]).resizable&&(Y=Math.max(I.minWidth||0,absoluteColumnMinWidth),se&&I.previousWidth+se<Y?(se+=I.previousWidth-Y,I.width=Y):(I.width=I.previousWidth+se,se=0));for(A=0;A<=x;A++)I=columns[A],hasFrozenColumns()&&A>options.frozenColumn||(Se+=I.width);if(options.forceFitColumns)for(se=-he,w=x+1;w<columns.length;w++)(I=columns[w]).resizable&&(se&&I.maxWidth&&I.maxWidth-I.previousWidth<se?(se-=I.maxWidth-I.previousWidth,I.width=I.maxWidth):(I.width=I.previousWidth+se,se=0),hasFrozenColumns()&&w>options.frozenColumn||(Se+=I.width));else for(w=x+1;w<columns.length;w++)I=columns[w],hasFrozenColumns()&&w>options.frozenColumn||(Se+=I.width);if(options.forceFitColumns)for(se=-he,w=x+1;w<columns.length;w++)(I=columns[w]).resizable&&(se&&I.maxWidth&&I.maxWidth-I.previousWidth<se?(se-=I.maxWidth-I.previousWidth,I.width=I.maxWidth):(I.width=I.previousWidth+se,se=0))}else{for(se=he,Se=0,w=x;w>=0;w--)if((I=columns[w]).resizable)if(se&&I.maxWidth&&I.maxWidth-I.previousWidth<se)se-=I.maxWidth-I.previousWidth,I.width=I.maxWidth;else{var Me=I.previousWidth+se,at=canvasWidthL+se;hasFrozenColumns()&&w<=options.frozenColumn?(Me>T&&at<pe-options.frozenRightViewportMinWidth&&(T=Me),I.width=at+options.frozenRightViewportMinWidth>pe?T:Me):I.width=Me,se=0}for(A=0;A<=x;A++)I=columns[A],hasFrozenColumns()&&A>options.frozenColumn||(Se+=I.width);if(options.forceFitColumns)for(se=-he,w=x+1;w<columns.length;w++)(I=columns[w]).resizable&&(Y=Math.max(I.minWidth||0,absoluteColumnMinWidth),se&&I.previousWidth+se<Y?(se+=I.previousWidth-Y,I.width=Y):(I.width=I.previousWidth+se,se=0),hasFrozenColumns()&&w>options.frozenColumn||(Se+=I.width));else for(w=x+1;w<columns.length;w++)I=columns[w],hasFrozenColumns()&&w>options.frozenColumn||(Se+=I.width)}hasFrozenColumns()&&Se!=canvasWidthL&&($headerL.width(Se+1e3),$paneHeaderR.css("left",Se)),applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths(),trigger(self.onColumnsDrag,{triggeredByColumn:$(this).parent().attr("id").replace(uid,""),resizeHandle:$(this)})}).on("dragend",function(V,K){$(this).parent().removeClass("slick-header-column-active");var he,Y=$(this).parent().attr("id").replace(uid,"");for(!0===trigger(self.onBeforeColumnsResize,{triggeredByColumn:Y})&&(applyColumnHeaderWidths(),applyColumnGroupHeaderWidths()),w=0;w<columns.length;w++)I=columns[w],he=$(L[w]).outerWidth(),I.previousWidth!==he&&I.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{triggeredByColumn:Y}),setTimeout(function(){columnResizeDragging=!1},300)}).on("dblclick",function(){var V=$(this).parent().attr("id").replace(uid,"");trigger(self.onColumnsResizeDblClick,{triggeredByColumn:V})}))})}function getVBoxDelta(v){var A=0;return v&&"function"==typeof v.css&&$.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(I,F){A+=parseFloat(v.css(F))||0}),A}function setFrozenOptions(){if(options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1,options.frozenRow>-1){hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight;var v=getDataLength();actualFrozenRow=options.frozenBottom?v-options.frozenRow:options.frozenRow}else hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":!hasFrozenColumns()&&options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),hasFrozenRows?"scroll":"auto")}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto","overflow-y":!hasFrozenColumns()&&options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto","overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),"auto")}),options.viewportClass&&($viewportTopL.toggleClass(options.viewportClass,!0),$viewportTopR.toggleClass(options.viewportClass,!0),$viewportBottomL.toggleClass(options.viewportClass,!0),$viewportBottomR.toggleClass(options.viewportClass,!0))}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var v,w=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],A=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],I=$.fn.jquery.split(".");jQueryNewWidthBehaviour=1==I[0]&&I[1]>=8||I[0]>=2,v=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=v.css("box-sizing")&&"border-box"!=v.css("-moz-box-sizing")&&"border-box"!=v.css("-webkit-box-sizing")&&($.each(w,function(L,b){headerColumnWidthDiff+=parseFloat(v.css(b))||0}),$.each(A,function(L,b){headerColumnHeightDiff+=parseFloat(v.css(b))||0})),v.remove();var F=$("<div class='slick-row' />").appendTo($canvas);v=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(F),cellWidthDiff=cellHeightDiff=0,"border-box"!=v.css("box-sizing")&&"border-box"!=v.css("-moz-box-sizing")&&"border-box"!=v.css("-webkit-box-sizing")&&($.each(w,function(L,b){cellWidthDiff+=parseFloat(v.css(b))||0}),$.each(A,function(L,b){cellHeightDiff+=parseFloat(v.css(b))||0})),F.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var w=["."+uid+" .slick-group-header-column { left: 1000px; }","."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-preheader-panel { height:"+options.preHeaderPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }","."+uid+" .slick-cell { height:"+(options.rowHeight-cellHeightDiff)+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],A=0;A<columns.length;A++)w.push("."+uid+" .l"+A+" { }"),w.push("."+uid+" .r"+A+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=w.join(" "):$style[0].appendChild(document.createTextNode(w.join(" ")))}function getColumnCssRules(v){var w;if(!stylesheet){var A=document.styleSheets;for(w=0;w<A.length;w++)if((A[w].ownerNode||A[w].owningElement)==$style[0]){stylesheet=A[w];break}if(!stylesheet)throw new Error("SlickGrid Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var F,L,I=stylesheet.cssRules||stylesheet.rules;for(w=0;w<I.length;w++){var b=I[w].selectorText;(F=/\.l\d+/.exec(b))?(L=parseInt(F[0].substr(2,F[0].length-2),10),columnCssRulesL[L]=I[w]):(F=/\.r\d+/.exec(b))&&(L=parseInt(F[0].substr(2,F[0].length-2),10),columnCssRulesR[L]=I[w])}}return{left:columnCssRulesL[v],right:columnCssRulesR[v]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(v){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var w=plugins.length;w--;)unregisterPlugin(plugins[w]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.off(".slickgrid"),removeCssRules(),$canvas.off(),$viewport.off(),$headerScroller.off(),$headerRowScroller.off(),$footerRow&&$footerRow.off(),$footerRowScroller&&$footerRowScroller.off(),$preHeaderPanelScroller&&$preHeaderPanelScroller.off(),$focusSink.off(),$(".slick-resizable-handle").off(),$(".slick-header-column").off(),$container.empty().removeClass(uid),v&&destroyAllElements()}function destroyAllElements(){$activeCanvasNode=null,$activeViewportNode=null,$boundAncestors=null,$canvas=null,$canvasTopL=null,$canvasTopR=null,$canvasBottomL=null,$canvasBottomR=null,$container=null,$focusSink=null,$focusSink2=null,$groupHeaders=null,$groupHeadersL=null,$groupHeadersR=null,$headerL=null,$headerR=null,$headers=null,$headerRow=null,$headerRowL=null,$headerRowR=null,$headerRowSpacerL=null,$headerRowSpacerR=null,$headerRowScrollContainer=null,$headerRowScroller=null,$headerRowScrollerL=null,$headerRowScrollerR=null,$headerScrollContainer=null,$headerScroller=null,$headerScrollerL=null,$headerScrollerR=null,$hiddenParents=null,$footerRow=null,$footerRowL=null,$footerRowR=null,$footerRowSpacerL=null,$footerRowSpacerR=null,$footerRowScroller=null,$footerRowScrollerL=null,$footerRowScrollerR=null,$footerRowScrollContainer=null,$preHeaderPanel=null,$preHeaderPanelR=null,$preHeaderPanelScroller=null,$preHeaderPanelScrollerR=null,$preHeaderPanelSpacer=null,$preHeaderPanelSpacerR=null,$topPanel=null,$topPanelScroller=null,$style=null,$topPanelScrollerL=null,$topPanelScrollerR=null,$topPanelL=null,$topPanelR=null,$paneHeaderL=null,$paneHeaderR=null,$paneTopL=null,$paneTopR=null,$paneBottomL=null,$paneBottomR=null,$viewport=null,$viewportTopL=null,$viewportTopR=null,$viewportBottomL=null,$viewportBottomR=null,$viewportScrollContainerX=null,$viewportScrollContainerY=null}var canvas=null,canvas_context=null;function autosizeColumn(v,w){var A=v;if("number"==typeof v)A=columns[v];else if("string"==typeof v)for(var I=0;I<columns.length;I++)columns[I].Id===v&&(A=columns[I]);getColAutosizeWidth(A,$(getCanvasNode(0,0)),w)}function autosizeColumns(v,w){if((v=v||options.autosizeColsMode)!==Slick.GridAutosizeColsMode.LegacyForceFit&&v!==Slick.GridAutosizeColsMode.LegacyOff){if(v!==Slick.GridAutosizeColsMode.None){(canvas=document.createElement("canvas"))&&canvas.getContext&&(canvas_context=canvas.getContext("2d"));var F,L,b,c,A=$(getCanvasNode(0,0)),I=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,_=0,y=0,T=0,x=0,k=0;for(F=0;F<columns.length;F++)getColAutosizeWidth(L=columns[F],A,w),k+=L.autoSize.autosizeMode===Slick.ColAutosizeMode.Locked?L.width:0,x+=L.autoSize.autosizeMode===Slick.ColAutosizeMode.Locked?L.width:L.minWidth,_+=L.autoSize.widthPx,y+=L.autoSize.sizeToRemaining?0:L.autoSize.widthPx,T+=L.autoSize.sizeToRemaining&&L.minWidth||0;var V=_-y;if(v===Slick.GridAutosizeColsMode.FitViewportToCols){var K=_+scrollbarDimensions.width;v=Slick.GridAutosizeColsMode.IgnoreViewport,options.viewportMaxWidthPx&&K>options.viewportMaxWidthPx?(K=options.viewportMaxWidthPx,v=Slick.GridAutosizeColsMode.FitColsToViewport):options.viewportMinWidthPx&&K<options.viewportMinWidthPx&&(K=options.viewportMinWidthPx,v=Slick.GridAutosizeColsMode.FitColsToViewport),$container.width(K)}if(v===Slick.GridAutosizeColsMode.FitColsToViewport)if(V>0&&y<I-T)for(F=0;F<columns.length;F++)b=(L=columns[F]).autoSize.sizeToRemaining?(I-y)*L.autoSize.widthPx/V:L.autoSize.widthPx,L.rerenderOnResize&&L.width!=b&&(c=!0),L.width=b;else if(options.viewportSwitchToScrollModeWidthPercent&&y+T>I*options.viewportSwitchToScrollModeWidthPercent/100||x>I)v=Slick.GridAutosizeColsMode.IgnoreViewport;else{var he=y-k,se=I-k-T;for(F=0;F<columns.length;F++)b=(L=columns[F]).width,L.autoSize.autosizeMode!==Slick.ColAutosizeMode.Locked&&(L.autoSize.sizeToRemaining?b=L.minWidth:((b=se/he*L.autoSize.widthPx)<L.minWidth&&(b=L.minWidth),he-=L.autoSize.widthPx,se-=b)),L.rerenderOnResize&&L.width!=b&&(c=!0),L.width=b}if(v===Slick.GridAutosizeColsMode.IgnoreViewport)for(F=0;F<columns.length;F++)b=columns[F].autoSize.widthPx,columns[F].rerenderOnResize&&columns[F].width!=b&&(c=!0),columns[F].width=b;reRenderColumns(c)}}else legacyAutosizeColumns()}function LogColWidths(){for(var v="Col Widths:",w=0;w<columns.length;w++)v+=" "+columns[w].width;console.log(v)}function getColAutosizeWidth(v,w,A){var I=v.autoSize;if(I.widthPx=v.width,I.autosizeMode!==Slick.ColAutosizeMode.Locked&&I.autosizeMode!==Slick.ColAutosizeMode.Guide){var F=getDataLength();if(I.autosizeMode===Slick.ColAutosizeMode.ContentIntelligent){var b,L=I.colDataTypeOf;if(F>0){var c=getDataItem(0);c&&"object"==(L=typeof(b=c[v.field]))&&(b instanceof Date&&(L="date"),typeof moment<"u"&&b instanceof moment&&(L="moment"))}"boolean"===L&&(I.colValueArray=[!0,!1]),"number"===L&&(I.valueFilterMode=Slick.ValueFilterMode.GetGreatestAndSub,I.rowSelectionMode=Slick.RowSelectionMode.AllRows),"string"===L&&(I.valueFilterMode=Slick.ValueFilterMode.GetLongestText,I.rowSelectionMode=Slick.RowSelectionMode.AllRows,I.allowAddlPercent=5),"date"===L&&(I.colValueArray=[new Date(2009,8,30,12,20,20)]),"moment"===L&&typeof moment<"u"&&(I.colValueArray=[moment([2009,8,30,12,20,20])])}var _=getColContentSize(v,w,A);_=_*(I.allowAddlPercent?1+I.allowAddlPercent/100:1)+options.autosizeColPaddingPx,v.minWidth&&_<v.minWidth&&(_=v.minWidth),v.maxWidth&&_>v.maxWidth&&(_=v.maxWidth),I.widthPx=_}}function getColContentSize(v,w,A){var b,I=v.autoSize,F=1,c=0,_=0;if(I.ignoreHeaderText||(_=getColHeaderWidth(v)),0===_&&(_=v.width?v.width:v.maxWidth?v.maxWidth:v.minWidth?v.minWidth:20),I.colValueArray)return c=getColWidth(v,w,I.colValueArray),Math.max(_,c);var y=getData();if(y.getItems&&(y=y.getItems()),0===y.length)return _;var T=(A?I.rowSelectionModeOnInit:void 0)||I.rowSelectionMode;if(T===Slick.RowSelectionMode.FirstRow&&(y=y.slice(0,1)),T===Slick.RowSelectionMode.LastRow&&(y=y.slice(y.length-1,y.length)),T===Slick.RowSelectionMode.FirstNRows&&(y=y.slice(0,I.rowSelectionCount)),I.valueFilterMode===Slick.ValueFilterMode.DeDuplicate){var x={};for(L=0,b=y.length;L<b;L++)x[y[L][v.field]]=!0;if(Object.keys)y=Object.keys(x);else for(var L in y=[],x)y.push(L)}if(I.valueFilterMode===Slick.ValueFilterMode.GetGreatestAndSub){var V=0,K=0;for(L=0,b=y.length;L<b;L++)k=y[L][v.field],Math.abs(k)>K&&(V=k,K=Math.abs(k));V=""+V,y=[V=+(V=Array(V.length+1).join("9"))]}if(I.valueFilterMode===Slick.ValueFilterMode.GetLongestTextAndSub){var Y=0;for(L=0,b=y.length;L<b;L++)((k=y[L][v.field])||"").length>Y&&(Y=k.length);k=Array(Y+1).join("m"),F=options.autosizeTextAvgToMWidthRatio,y=[k]}if(I.valueFilterMode===Slick.ValueFilterMode.GetLongestText){var k="",he=(Y=0,0);for(L=0,b=y.length;L<b;L++)((k=y[L][v.field])||"").length>Y&&(Y=k.length,he=L);y=[k=y[he][v.field]]}return c=getColWidth(v,w,y)*F,Math.max(_,c)}function getColWidth(v,w,A){var I=getColumnIndex(v.id),F=$('<div class="slick-row ui-widget-content"></div>'),L=$('<div class="slick-cell"></div>');L.css({position:"absolute",visibility:"hidden","text-overflow":"initial","white-space":"nowrap"}),F.append(L),w.append(F);var b,_,y,k,c=0;return canvas_context&&v.autoSize.widthEvalMode===Slick.WidthEvalMode.CanvasTextSize?(canvas_context.font=L.css("font-size")+" "+L.css("font-family"),$(A).each(function(V,K){k=Array.isArray(K)?K[v.field]:K,(b=(_=""+k)?canvas_context.measureText(_).width:0)>c&&(c=b,y=_)}),L.html(y),b=L.outerWidth(),F.remove(),L=null,b):($(A).each(function(V,K){k=Array.isArray(K)?K[v.field]:K,applyFormatResultToCellNode(v.formatterOverride?v.formatterOverride(V,I,k,v,K,self):v.formatter?v.formatter(V,I,k,v,K,self):""+k,L[0]),(b=L.outerWidth())>c&&(c=b)}),F.remove(),L=null,c)}function getColHeaderWidth(v){var w=0,A=getUID()+v.id,I=document.getElementById(A),F=A+"_";if(I){var L=I.cloneNode(!0);L.id=F,L.style.cssText="position: absolute; visibility: hidden;right: auto;text-overflow: initial;white-space: nowrap;",I.parentNode.insertBefore(L,I),w=L.offsetWidth,L.parentNode.removeChild(L)}else{var b=getHeader(v);w=(I=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+v.name+"</span>").attr("id",F).css({position:"absolute",visibility:"hidden",right:"auto","text-overflow:":"initial","white-space":"nowrap"}).addClass(v.headerCssClass||"").appendTo(b))[0].offsetWidth,b[0].removeChild(I[0])}return w}function legacyAutosizeColumns(){var v,w,L,A=[],I=0,F=0,b=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(v=0;v<columns.length;v++)A.push((w=columns[v]).width),F+=w.width,w.resizable&&(I+=w.width-Math.max(w.minWidth,absoluteColumnMinWidth));for(L=F;F>b&&I;){var c=(F-b)/I;for(v=0;v<columns.length&&F>b;v++){var _=A[v];if(!(!(w=columns[v]).resizable||_<=w.minWidth||_<=absoluteColumnMinWidth)){var y=Math.max(w.minWidth,absoluteColumnMinWidth),T=Math.floor(c*(_-y))||1;F-=T=Math.min(T,_-y),I-=T,A[v]-=T}}if(L<=F)break;L=F}for(L=F;F<b;){var x=b/F;for(v=0;v<columns.length&&F<b;v++){var V,k=A[v];V=!(w=columns[v]).resizable||w.maxWidth<=k?0:Math.min(Math.floor(x*k)-k,w.maxWidth-k||1e6)||1,A[v]+=(F+=V)<=b?V:0}if(L>=F)break;L=F}var K=!1;for(v=0;v<columns.length;v++)columns[v].rerenderOnResize&&columns[v].width!=A[v]&&(K=!0),columns[v].width=A[v];reRenderColumns(K)}function reRenderColumns(v){applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),trigger(self.onAutosizeColumns,{columns}),v&&(invalidateAllRows(),render())}function trigger(v,w,A){return A=A||new Slick.EventData,(w=w||{}).grid=self,v.notify(w,A,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(v){return columnsById[v]}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var v=$groupHeadersL.length-1;v>=0;v--)treeColumns.getColumnsInDepth(v),$().add($groupHeadersL[v]).add($groupHeadersR[v]).each(function(A){var I=$(this),F=0;I.width(0===A?getHeadersWidthL():getHeadersWidthR()),I.children().each(function(){var L=$(this),b=$(this).data("column");b.width=0,b.columns.forEach(function(){var c=I.next().children(":eq("+F+++")");b.width+=c.outerWidth()}),L.width(b.width-headerColumnWidthDiff)})})}function applyColumnHeaderWidths(){if(initialized){for(var v,w=0,A=$headers.children(),I=columns.length;w<I;w++)v=$(A[w]),jQueryNewWidthBehaviour?v.outerWidth()!==columns[w].width&&v.outerWidth(columns[w].width):v.width()!==columns[w].width-headerColumnWidthDiff&&v.width(columns[w].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var w,A,v=0,I=0;I<columns.length;I++)w=columns[I].width,(A=getColumnCssRules(I)).left.style.left=v+"px",A.right.style.right=(-1!=options.frozenColumn&&I>options.frozenColumn?canvasWidthR:canvasWidthL)-v-w+"px",options.frozenColumn==I?v=0:v+=columns[I].width}function setSortColumn(v,w){setSortColumns([{columnId:v,sortAsc:w}])}function setSortColumns(v){sortColumns=v;var w=options.numberedMultiColumnSort&&sortColumns.length>1,A=$headers.children();A.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),A.find(".slick-sort-indicator-numbered").text(""),$.each(sortColumns,function(I,F){null==F.sortAsc&&(F.sortAsc=!0);var L=getColumnIndex(F.columnId);null!=L&&(A.eq(L).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(F.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),w&&A.eq(L).find(".slick-sort-indicator-numbered").text(I+1))})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(v,w){var A=selectedRows.slice(0);selectedRows=[];for(var I={},F=0;F<w.length;F++)for(var L=w[F].fromRow;L<=w[F].toRow;L++){I[L]||(selectedRows.push(L),I[L]={});for(var b=w[F].fromCell;b<=w[F].toCell;b++)canCellBeSelected(L,b)&&(I[L][columns[b].id]=options.selectedCellCssClass)}if(setCellCssStyles(options.selectedCellCssClass,I),simpleArrayEquals(A,selectedRows)){var c=v&&v.detail&&v.detail.caller||"click",_=getSelectedRows().filter(function(T){return A.indexOf(T)<0}),y=A.filter(function(T){return getSelectedRows().indexOf(T)<0});trigger(self.onSelectedRowsChanged,{rows:getSelectedRows(),previousSelectedRows:A,caller:c,changedSelectedRows:_,changedUnselectedRows:y},v)}}function simpleArrayEquals(v,w){return Array.isArray(v)&&Array.isArray(w)&&w.sort().toString()!==v.sort().toString()}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var v=0,w=0,A=columns.length;w<A;w++)columnPosLeft[w]=v,columnPosRight[w]=v+columns[w].width,options.frozenColumn==w?v=0:v+=columns[w].width}function updateColumnProps(){columnsById={};for(var v=0;v<columns.length;v++){columns[v].width&&(columns[v].widthRequest=columns[v].width);var w=columns[v]=$.extend({},columnDefaults,columns[v]);w.autoSize=$.extend({},columnAutosizeDefaults,w.autoSize),columnsById[w.id]=v,w.minWidth&&w.width<w.minWidth&&(w.width=w.minWidth),w.maxWidth&&w.width>w.maxWidth&&(w.width=w.maxWidth)}}function setColumns(v){trigger(self.onBeforeSetColumns,{previousColumns:columns,newColumns:v,grid:self});var w=new Slick.TreeColumns(v);columns=w.hasDepth()?(treeColumns=w).extractColumns():v,updateColumnProps(),updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnHeaderWidths(),applyColumnWidths(),handleScroll(),getSelectionModel()&&getSelectionModel().refreshSelections&&getSelectionModel().refreshSelections())}function getOptions(){return options}function setOptions(v,w,A,I){if(getEditorLock().commitCurrentEdit()){makeActiveCellNormal(),void 0!==v.showColumnHeader&&setColumnHeaderVisibility(v.showColumnHeader),options.enableAddRow!==v.enableAddRow&&invalidateRow(getDataLength());var F=$.extend(!0,{},options);if(options=$.extend(options,v),trigger(self.onSetOptions,{optionsBefore:F,optionsAfter:options}),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),w||render(),setFrozenOptions(),setScroller(),I||setOverflow(),A||setColumns(treeColumns.extractColumns()),options.enableMouseWheelScrollHandler&&$viewport&&jQuery.fn.mousewheel){var L=$._data($viewport[0],"events");(!L||!L.mousewheel)&&$viewport.on("mousewheel",handleMouseWheel)}else!1===options.enableMouseWheelScrollHandler&&$viewport.off("mousewheel")}}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1),options.forceFitColumns&&(options.autosizeColsMode=Slick.GridAutosizeColsMode.LegacyForceFit,console.log("forceFitColumns option is deprecated - use autosizeColsMode"))}function setData(v,w){data=v,invalidateAllRows(),updateRowCount(),w&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data&&data.length||0}function getDataLengthIncludingAddNew(){return getDataLength()+(!options.enableAddRow||pagingActive&&!pagingIsLastPage?0:1)}function getDataItem(v){return data.getItem?data.getItem(v):data[v]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(v,w){var A=!1!==w;options.showTopPanel!=v&&(options.showTopPanel=v,v?A?$topPanelScroller.slideDown("fast",resizeCanvas):($topPanelScroller.show(),resizeCanvas()):A?$topPanelScroller.slideUp("fast",resizeCanvas):($topPanelScroller.hide(),resizeCanvas()))}function setHeaderRowVisibility(v,w){var A=!1!==w;options.showHeaderRow!=v&&(options.showHeaderRow=v,v?A?$headerRowScroller.slideDown("fast",resizeCanvas):($headerRowScroller.show(),resizeCanvas()):A?$headerRowScroller.slideUp("fast",resizeCanvas):($headerRowScroller.hide(),resizeCanvas()))}function setColumnHeaderVisibility(v,w){options.showColumnHeader!=v&&(options.showColumnHeader=v,v?w?$headerScroller.slideDown("fast",resizeCanvas):($headerScroller.show(),resizeCanvas()):w?$headerScroller.slideUp("fast",resizeCanvas):($headerScroller.hide(),resizeCanvas()))}function setFooterRowVisibility(v,w){var A=!1!==w;options.showFooterRow!=v&&(options.showFooterRow=v,v?A?$footerRowScroller.slideDown("fast",resizeCanvas):($footerRowScroller.show(),resizeCanvas()):A?$footerRowScroller.slideUp("fast",resizeCanvas):($footerRowScroller.hide(),resizeCanvas()))}function setPreHeaderPanelVisibility(v,w){var A=!1!==w;options.showPreHeaderPanel!=v&&(options.showPreHeaderPanel=v,v?A?($preHeaderPanelScroller.slideDown("fast",resizeCanvas),$preHeaderPanelScrollerR.slideDown("fast",resizeCanvas)):($preHeaderPanelScroller.show(),$preHeaderPanelScrollerR.show(),resizeCanvas()):A?($preHeaderPanelScroller.slideUp("fast",resizeCanvas),$preHeaderPanelScrollerR.slideUp("fast",resizeCanvas)):($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide(),resizeCanvas()))}function getContainerNode(){return $container.get(0)}function getRowTop(v){return options.rowHeight*v-offset}function getRowFromPosition(v){return Math.floor((v+offset)/options.rowHeight)}function scrollTo(v){v=Math.max(v,0),v=Math.min(v,th-$viewportScrollContainerY.height()+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var w=offset;page=Math.min(n-1,Math.floor(v/ph));var A=v-(offset=Math.round(page*cj));offset!=w&&(cleanupRows(getVisibleRange(A)),updateRowPositions()),prevScrollTop!=A&&(vScrollDir=prevScrollTop+w<A+offset?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=A,hasFrozenColumns()&&($viewportTopL[0].scrollTop=A),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=A),$viewportScrollContainerY[0].scrollTop=A,trigger(self.onViewportChanged,{}))}function defaultFormatter(v,w,A,I,F,L){return null==A?"":(A+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(v,w){var A=data.getItemMetadata&&data.getItemMetadata(v),I=A&&A.columns&&(A.columns[w.id]||A.columns[getColumnIndex(w.id)]);return I&&I.formatter||A&&A.formatter||w.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(w)||options.defaultFormatter}function getEditor(v,w){var A=columns[w],I=data.getItemMetadata&&data.getItemMetadata(v),F=I&&I.columns;return F&&F[A.id]&&void 0!==F[A.id].editor?F[A.id].editor:F&&F[w]&&void 0!==F[w].editor?F[w].editor:A.editor||options.editorFactory&&options.editorFactory.getEditor(A)}function getDataItemValueForColumn(v,w){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(v,w):v[w.field]}function appendRowHtml(v,w,A,I,F){var L=getDataItem(A),c="slick-row"+(hasFrozenRows&&A<=options.frozenRow?" frozen":"")+(A<F&&!L?" loading":"")+(A===activeRow&&options.showCellSelection?" active":"")+(A%2==1?" odd":" even");L||(c+=" "+options.addNewRowCssClass);var _=data.getItemMetadata&&data.getItemMetadata(A);_&&_.cssClasses&&(c+=" "+_.cssClasses);var y=getFrozenRowOffset(A),T="<div class='ui-widget-content "+c+"' style='top:"+(getRowTop(A)-y)+"px'>";v.push(T),hasFrozenColumns()&&w.push(T);for(var x,k,V=0,K=columns.length;V<K;V++){if(k=columns[V],x=1,_&&_.columns){var Y=_.columns[k.id]||_.columns[V];"*"===(x=Y&&Y.colspan||1)&&(x=K-V)}if(columnPosRight[Math.min(K-1,V+x-1)]>I.leftPx){if(!k.alwaysRenderColumn&&columnPosLeft[V]>I.rightPx)break;hasFrozenColumns()&&V>options.frozenColumn?appendCellHtml(w,A,V,x,L):appendCellHtml(v,A,V,x,L)}else(k.alwaysRenderColumn||hasFrozenColumns()&&V<=options.frozenColumn)&&appendCellHtml(v,A,V,x,L);x>1&&(V+=x-1)}v.push("</div>"),hasFrozenColumns()&&w.push("</div>")}function appendCellHtml(v,w,A,I,F){var L=columns[A],b="slick-cell l"+A+" r"+Math.min(columns.length-1,A+I-1)+(L.cssClass?" "+L.cssClass:"");for(var c in hasFrozenColumns()&&A<=options.frozenColumn&&(b+=" frozen"),w===activeRow&&A===activeCell&&options.showCellSelection&&(b+=" active"),cellCssClasses)cellCssClasses[c][w]&&cellCssClasses[c][w][L.id]&&(b+=" "+cellCssClasses[c][w][L.id]);var _=null,y="";F&&(_=getDataItemValueForColumn(F,L),null==(y=getFormatter(w,L)(w,A,_,L,F,self))&&(y=""));var T=trigger(self.onBeforeAppendCell,{row:w,cell:A,value:_,dataContext:F})||"";T+=y&&y.addClasses?(T?" ":"")+y.addClasses:"";var x=y&&y.toolTip?"title='"+y.toolTip+"'":"",k="";if(L.hasOwnProperty("cellAttrs")&&L.cellAttrs instanceof Object)for(var c in L.cellAttrs)L.cellAttrs.hasOwnProperty(c)&&(k+=" "+c+'="'+L.cellAttrs[c]+'" ');v.push("<div class='"+b+(T?" "+T:"")+"' "+x+k+">"),F&&v.push("[object Object]"!==Object.prototype.toString.call(y)?y:y.text),v.push("</div>"),rowsCache[w].cellRenderQueue.push(A),rowsCache[w].cellColSpans[A]=I}function cleanupRows(v){for(var w in rowsCache){var A=!0;hasFrozenRows&&(options.frozenBottom&&w>=actualFrozenRow||!options.frozenBottom&&w<=actualFrozenRow)&&(A=!1),(w=parseInt(w,10))!==activeRow&&(w<v.top||w>v.bottom)&&A&&removeRowFromCache(w)}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var v in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(v);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(v,w,A){for(var I in postProcessgroupId++,w)w.hasOwnProperty(I)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:v.cellNodesByColumnIdx[0|I],columnIdx:0|I,rowIdx:A});postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:v.rowNode}),v.rowNode.detach()}function queuePostProcessedCellForCleanup(v,w,A){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:v,columnIdx:w,rowIdx:A}),$(v).detach()}function removeRowFromCache(v){var w=rowsCache[v];!w||(options.enableAsyncPostRenderCleanup&&postProcessedRows[v]?queuePostProcessedRowForCleanup(w,postProcessedRows[v],v):w.rowNode.each(function(){this.parentElement&&this.parentElement.removeChild(this)}),delete rowsCache[v],delete postProcessedRows[v],renderedRows--,counter_rows_removed++)}function invalidateRows(v){var w,A;if(v&&v.length){for(vScrollDir=0,A=v.length,w=0;w<A;w++)currentEditor&&activeRow===v[w]&&makeActiveCellNormal(),rowsCache[v[w]]&&removeRowFromCache(v[w]);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(v){!v&&0!==v||invalidateRows([v])}function applyFormatResultToCellNode(v,w,A){null==v&&(v=""),"[object Object]"===Object.prototype.toString.call(v)?(w.innerHTML=sanitizeHtmlString(v.text),v.removeClasses&&!A&&$(w).removeClass(v.removeClasses),v.addClasses&&$(w).addClass(v.addClasses),v.toolTip&&$(w).attr("title",v.toolTip)):w.innerHTML=sanitizeHtmlString(v)}function updateCell(v,w){var A=getCellNode(v,w);if(A){var I=columns[w],F=getDataItem(v);currentEditor&&activeRow===v&&activeCell===w?currentEditor.loadValue(F):(applyFormatResultToCellNode(F?getFormatter(v,I)(v,w,getDataItemValueForColumn(F,I),I,F,self):"",A),invalidatePostProcessingResults(v))}}function updateRow(v){var w=rowsCache[v];if(w){ensureCellNodesInRowsCache(v);var I=getDataItem(v);for(var F in w.cellNodesByColumnIdx)if(w.cellNodesByColumnIdx.hasOwnProperty(F)){var L=columns[F|=0],b=w.cellNodesByColumnIdx[F][0];v===activeRow&&F===activeCell&&currentEditor?currentEditor.loadValue(I):I?applyFormatResultToCellNode(getFormatter(v,L)(v,F,getDataItemValueForColumn(I,L),L,I,self),b):b.innerHTML=""}invalidatePostProcessingResults(v)}}function getViewportHeight(){if((!options.autoHeight||-1!=options.frozenColumn)&&(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0),options.autoHeight){var v=$paneHeaderL.outerHeight();v+=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,v+=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,v+=getCanvasWidth()>viewportW?scrollbarDimensions.height:0,viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(-1==options.frozenColumn?v:0)}else{var w=options.showColumnHeader?parseFloat($.css($headerScroller[0],"height"))+getVBoxDelta($headerScroller):0,A=options.createPreHeaderPanel&&options.showPreHeaderPanel?options.preHeaderPanelHeight+getVBoxDelta($preHeaderPanelScroller):0;viewportH=parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-w-topPanelH-headerRowH-footerRowH-A}return numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportH}function getViewportWidth(){viewportW=parseFloat($container.width())}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat($.css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:$paneHeaderL.height()||(options.showHeaderRow?options.headerRowHeight:0)+(options.showPreHeaderPanel?options.preHeaderPanelHeight:0),height:paneTopH});var v=$paneTopL.position().top+paneTopH;options.autoHeight||$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:$paneHeaderL.height(),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:v,height:paneBottomH}),$paneBottomR.css({top:v,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",v)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),(!scrollbarDimensions||!scrollbarDimensions.width)&&(scrollbarDimensions=measureScrollbar()),options.autosizeColsMode===Slick.GridAutosizeColsMode.LegacyForceFit&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updatePagingStatusFromView(v){pagingActive=0!==v.pageSize,pagingIsLastPage=v.pageNum==v.totalPages-1}function updateRowCount(){if(initialized){var v=getDataLength(),w=getDataLengthIncludingAddNew(),A=0,c=hasFrozenRows&&!options.frozenBottom?$canvasBottomL.height():$canvasTopL.height();A=hasFrozenRows?getDataLength()-options.frozenRow:w+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var I=$viewportScrollContainerY.height(),F=viewportHasVScroll;viewportHasVScroll=options.alwaysShowVerticalScroll||!options.autoHeight&&A*options.rowHeight>I,makeActiveCellNormal();var L=v-1;for(var b in rowsCache)b>L&&removeRowFromCache(b);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),activeCellNode&&activeRow>L&&resetActiveCell(),c=h,options.autoHeight?h=options.rowHeight*A:(th=Math.max(options.rowHeight*A,I-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==c&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop);var _=scrollTop+offset<=th-I;0==th||0==scrollTop?page=offset=0:scrollTo(_?scrollTop+offset:th-I+scrollbarDimensions.height),h!=c&&options.autoHeight&&resizeCanvas(),options.autosizeColsMode===Slick.GridAutosizeColsMode.LegacyForceFit&&F!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(v,w){return null==v&&(v=scrollTop),null==w&&(w=scrollLeft),{top:getRowFromPosition(v),bottom:getRowFromPosition(v+viewportH)+1,leftPx:w,rightPx:w+viewportW}}function getRenderedRange(v,w){var A=getVisibleRange(v,w),I=Math.round(viewportH/options.rowHeight),F=options.minRowBuffer;return-1==vScrollDir?(A.top-=I,A.bottom+=F):1==vScrollDir?(A.top-=F,A.bottom+=I):(A.top-=F,A.bottom+=F),A.top=Math.max(0,A.top),A.bottom=Math.min(getDataLengthIncludingAddNew()-1,A.bottom),A.leftPx-=viewportW,A.rightPx+=viewportW,A.leftPx=Math.max(0,A.leftPx),A.rightPx=Math.min(canvasWidth,A.rightPx),A}function ensureCellNodesInRowsCache(v){var w=rowsCache[v];if(w&&w.cellRenderQueue.length)for(var A=w.rowNode.children().last();w.cellRenderQueue.length;){var I=w.cellRenderQueue.pop();w.cellNodesByColumnIdx[I]=A,0===(A=A.prev()).length&&(A=$(w.rowNode[0]).children().last())}}function cleanUpCells(v,w){if(!hasFrozenRows||!(options.frozenBottom&&w>actualFrozenRow||w<=actualFrozenRow)){var c,_,I=rowsCache[w],F=[];for(var L in I.cellNodesByColumnIdx)I.cellNodesByColumnIdx.hasOwnProperty(L)&&!((L|=0)<=options.frozenColumn||Array.isArray(columns)&&columns[L]&&columns[L].alwaysRenderColumn)&&(columnPosLeft[L]>v.rightPx||columnPosRight[Math.min(columns.length-1,L+I.cellColSpans[L]-1)]<v.leftPx)&&(w==activeRow&&L==activeCell||F.push(L));for(;null!=(c=F.pop());)_=I.cellNodesByColumnIdx[c][0],options.enableAsyncPostRenderCleanup&&postProcessedRows[w]&&postProcessedRows[w][c]?queuePostProcessedCellForCleanup(_,c,w):_.parentElement.removeChild(_),delete I.cellColSpans[c],delete I.cellNodesByColumnIdx[c],postProcessedRows[w]&&delete postProcessedRows[w][c]}}function cleanUpAndRenderCells(v){for(var w,F,b,A=[],I=[],c=v.top,_=v.bottom;c<=_;c++)if(w=rowsCache[c]){ensureCellNodesInRowsCache(c),cleanUpCells(v,c),F=0;var y=data.getItemMetadata&&data.getItemMetadata(c);y=y&&y.columns;for(var T=getDataItem(c),x=0,k=columns.length;x<k&&!(columnPosLeft[x]>v.rightPx);x++)if(null==(b=w.cellColSpans[x])){if(b=1,y){var V=y[columns[x].id]||y[x];"*"===(b=V&&V.colspan||1)&&(b=k-x)}columnPosRight[Math.min(k-1,x+b-1)]>v.leftPx&&(appendCellHtml(A,c,x,b,T),F++),x+=b>1?b-1:0}else x+=b>1?b-1:0;F&&I.push(c)}if(A.length){var Y,he,K=document.createElement("div");for(K.innerHTML=sanitizeHtmlString(A.join(""));null!=(Y=I.pop());){w=rowsCache[Y];for(var se;null!=(se=w.cellRenderQueue.pop());)he=K.lastChild,hasFrozenColumns()&&se>options.frozenColumn?w.rowNode[1].appendChild(he):w.rowNode[0].appendChild(he),w.cellNodesByColumnIdx[se]=$(he)}}}function renderRows(v){for(var w=[],A=[],I=[],F=!1,L=getDataLength(),b=v.top,c=v.bottom;b<=c;b++)rowsCache[b]||hasFrozenRows&&options.frozenBottom&&b==getDataLength()||(renderedRows++,I.push(b),rowsCache[b]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(w,A,b,v,L),activeCellNode&&activeRow===b&&(F=!0),counter_rows_rendered++);if(I.length){var _=document.createElement("div"),y=document.createElement("div");for(_.innerHTML=sanitizeHtmlString(w.join("")),y.innerHTML=sanitizeHtmlString(A.join("")),b=0,c=I.length;b<c;b++)hasFrozenRows&&I[b]>=actualFrozenRow?hasFrozenColumns()?(rowsCache[I[b]].rowNode=$().add($(_.firstChild)).add($(y.firstChild)),$canvasBottomL[0].appendChild(_.firstChild),$canvasBottomR[0].appendChild(y.firstChild)):(rowsCache[I[b]].rowNode=$().add($(_.firstChild)),$canvasBottomL[0].appendChild(_.firstChild)):hasFrozenColumns()?(rowsCache[I[b]].rowNode=$().add($(_.firstChild)).add($(y.firstChild)),$canvasTopL[0].appendChild(_.firstChild),$canvasTopR[0].appendChild(y.firstChild)):(rowsCache[I[b]].rowNode=$().add($(_.firstChild)),$canvasTopL[0].appendChild(_.firstChild));F&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){!options.enableAsyncPostRender||(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){!options.enableAsyncPostRenderCleanup||(clearTimeout(h_postrenderCleanup),h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(v){for(var w in postProcessedRows[v])postProcessedRows[v].hasOwnProperty(w)&&(postProcessedRows[v][w]="C");postProcessFromRow=Math.min(postProcessFromRow,v),postProcessToRow=Math.max(postProcessToRow,v),startPostProcessing()}function updateRowPositions(){for(var v in rowsCache){var w=v?parseInt(v):0;rowsCache[w].rowNode[0].style.top=getRowTop(w)+"px"}}function render(){if(initialized){scrollThrottle.dequeue();var v=getVisibleRange(),w=getRenderedRange();if(cleanupRows(w),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var A=jQuery.extend(!0,{},w);options.frozenBottom?(A.top=actualFrozenRow,A.bottom=getDataLength()):(A.top=0,A.bottom=options.frozenRow),cleanUpAndRenderCells(A)}cleanUpAndRenderCells(w)}renderRows(w),hasFrozenRows&&renderRows(options.frozenBottom?{top:actualFrozenRow,bottom:getDataLength()-1,leftPx:w.leftPx,rightPx:w.rightPx}:{top:0,bottom:options.frozenRow-1,leftPx:w.leftPx,rightPx:w.rightPx}),postProcessFromRow=v.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,v.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null,trigger(self.onRendered,{startRow:v.top,endRow:v.bottom,grid:self})}}function handleHeaderScroll(){handleElementScroll($headerScrollContainer[0])}function handleHeaderRowScroll(){var v=$headerRowScrollContainer[0].scrollLeft;v!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=v)}function handleFooterRowScroll(){var v=$footerRowScrollContainer[0].scrollLeft;v!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=v)}function handlePreHeaderPanelScroll(){handleElementScroll($preHeaderPanelScroller[0])}function handleElementScroll(v){var w=v.scrollLeft;w!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=w)}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(v){var w=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,A=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth;w=Math.max(0,w),A=Math.max(0,A),scrollTop>w&&(scrollTop=w),scrollLeft>A&&(scrollLeft=A);var I=Math.abs(scrollTop-prevScrollTop),F=Math.abs(scrollLeft-prevScrollLeft);if(F&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,options.createFooterRow&&($footerRowScrollContainer[0].scrollLeft=scrollLeft),options.createPreHeaderPanel&&(hasFrozenColumns()?$preHeaderPanelScrollerR[0].scrollLeft=scrollLeft:$preHeaderPanelScroller[0].scrollLeft=scrollLeft),hasFrozenColumns()?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),I)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,v&&($viewportScrollContainerY[0].scrollTop=scrollTop),hasFrozenColumns()&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),I<viewportH)scrollTo(scrollTop+offset);else{var L=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),L!=(offset=Math.round(page*cj))&&invalidateAllRows()}if(F||I){var b=Math.abs(lastRenderedScrollLeft-scrollLeft),c=Math.abs(lastRenderedScrollTop-scrollTop);(b>20||c>20)&&(options.forceSyncScrolling||c<viewportH&&b<viewportW?render():scrollThrottle.enqueue(),trigger(self.onViewportChanged,{}))}return trigger(self.onScroll,{scrollLeft,scrollTop}),!(!F&&!I)}function ActionThrottle(v,w){var A=!1,I=!1;function L(){I=!1}function b(){A=!0,setTimeout(c,w),v()}function c(){I?(L(),b()):A=!1}return{enqueue:function F(){A?I=!0:b()},dequeue:L}}function asyncPostProcessRows(){for(var v=getDataLength();postProcessFromRow<=postProcessToRow;){var w=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,A=rowsCache[w];if(A&&!(w>=v)){for(var I in postProcessedRows[w]||(postProcessedRows[w]={}),ensureCellNodesInRowsCache(w),A.cellNodesByColumnIdx)if(A.cellNodesByColumnIdx.hasOwnProperty(I)){var F=columns[I|=0],L=postProcessedRows[w][I];if(F.asyncPostRender&&"R"!==L){var b=A.cellNodesByColumnIdx[I];b&&F.asyncPostRender(b,w,getDataItem(w),F,"C"===L),postProcessedRows[w][I]="R"}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){if(postProcessedCleanupQueue.length>0){for(var v=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==v;){var w=postProcessedCleanupQueue.shift();if("R"==w.actionType&&$(w.node).remove(),"C"==w.actionType){var A=columns[w.columnIdx];A.asyncPostRenderCleanup&&w.node&&A.asyncPostRenderCleanup(w.node,w.rowIdx,A)}}h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function updateCellCssStylesOnRenderedRows(v,w){var A,I,F,L;for(var b in rowsCache){if(F=v&&v[b],L=w&&w[b])for(I in L)(!F||L[I]!=F[I])&&(A=getCellNode(b,getColumnIndex(I)))&&$(A).removeClass(L[I]);if(F)for(I in F)(!L||L[I]!=F[I])&&(A=getCellNode(b,getColumnIndex(I)))&&$(A).addClass(F[I])}}function addCellCssStyles(v,w){if(cellCssClasses[v])throw new Error("SlickGrid addCellCssStyles: cell CSS hash with key '"+v+"' already exists.");cellCssClasses[v]=w,updateCellCssStylesOnRenderedRows(w,null),trigger(self.onCellCssStylesChanged,{key:v,hash:w,grid:self})}function removeCellCssStyles(v){!cellCssClasses[v]||(updateCellCssStylesOnRenderedRows(null,cellCssClasses[v]),delete cellCssClasses[v],trigger(self.onCellCssStylesChanged,{key:v,hash:null,grid:self}))}function setCellCssStyles(v,w){var A=cellCssClasses[v];cellCssClasses[v]=w,updateCellCssStylesOnRenderedRows(w,A),trigger(self.onCellCssStylesChanged,{key:v,hash:w,grid:self})}function getCellCssStyles(v){return cellCssClasses[v]}function flashCell(v,w,A){A=A||100,rowsCache[v]&&function I(L,b){!b||setTimeout(function(){L.queue(function(){L.toggleClass(options.cellFlashingCssClass).dequeue(),I(L,b-1)})},A)}($(getCellNode(v,w)),4)}function handleMouseWheel(v,w,A,I){scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-I*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*A,_handleScroll(!0)&&v.preventDefault()}function handleDragInit(v,w){var A=getCellFromEvent(v);if(!A||!cellExists(A.row,A.cell))return!1;var I=trigger(self.onDragInit,w,v);return!!v.isImmediatePropagationStopped()&&I}function handleDragStart(v,w){var A=getCellFromEvent(v);if(!A||!cellExists(A.row,A.cell))return!1;var I=trigger(self.onDragStart,w,v);return!!v.isImmediatePropagationStopped()&&I}function handleDrag(v,w){return trigger(self.onDrag,w,v)}function handleDragEnd(v,w){trigger(self.onDragEnd,w,v)}function handleKeyDown(v){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},v);var w=v.isImmediatePropagationStopped(),A=Slick.keyCode;if(!w&&!v.shiftKey&&!v.altKey){if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(v.which)>-1)return;v.which==A.HOME?w=v.ctrlKey?navigateTop():navigateRowStart():v.which==A.END&&(w=v.ctrlKey?navigateBottom():navigateRowEnd())}if(!w)if(v.shiftKey||v.altKey||v.ctrlKey)v.which==A.TAB&&v.shiftKey&&!v.ctrlKey&&!v.altKey&&(w=navigatePrev());else{if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(v.which)>-1)return;if(v.which==A.ESCAPE){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else v.which==A.PAGE_DOWN?(navigatePageDown(),w=!0):v.which==A.PAGE_UP?(navigatePageUp(),w=!0):v.which==A.LEFT?w=navigateLeft():v.which==A.RIGHT?w=navigateRight():v.which==A.UP?w=navigateUp():v.which==A.DOWN?w=navigateDown():v.which==A.TAB?w=navigateNext():v.which==A.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable(void 0,void 0,v)),w=!0)}if(w){v.stopPropagation(),v.preventDefault();try{v.originalEvent.keyCode=0}catch{}}}function handleClick(v){if(!currentEditor&&(v.target!=document.activeElement||$(v.target).hasClass("slick-cell"))){var w=getTextSelection();setFocus(),setTextSelection(w)}var A=getCellFromEvent(v);if(A&&(null===currentEditor||activeRow!=A.row||activeCell!=A.cell)&&(trigger(self.onClick,{row:A.row,cell:A.cell},v),!v.isImmediatePropagationStopped()&&canCellBeActive(A.row,A.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit()))){scrollRowIntoView(A.row,!1);var I=v.target&&v.target.className===Slick.preClickClassName,F=columns[A.cell],L=!!(options.editable&&F&&F.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(getCellNode(A.row,A.cell),null,I,L,v)}}function handleContextMenu(v){var w=$(v.target).closest(".slick-cell",$canvas);0!==w.length&&(activeCellNode===w[0]&&null!==currentEditor||trigger(self.onContextMenu,{},v))}function handleDblClick(v){var w=getCellFromEvent(v);!w||null!==currentEditor&&activeRow==w.row&&activeCell==w.cell||(trigger(self.onDblClick,{row:w.row,cell:w.cell},v),!v.isImmediatePropagationStopped()&&options.editable&&gotoCell(w.row,w.cell,!0,v))}function handleHeaderMouseEnter(v){trigger(self.onHeaderMouseEnter,{column:$(this).data("column"),grid:self},v)}function handleHeaderMouseLeave(v){trigger(self.onHeaderMouseLeave,{column:$(this).data("column"),grid:self},v)}function handleHeaderRowMouseEnter(v){trigger(self.onHeaderRowMouseEnter,{column:$(this).data("column"),grid:self},v)}function handleHeaderRowMouseLeave(v){trigger(self.onHeaderRowMouseLeave,{column:$(this).data("column"),grid:self},v)}function handleHeaderContextMenu(v){var w=$(v.target).closest(".slick-header-column",".slick-header-columns"),A=w&&w.data("column");trigger(self.onHeaderContextMenu,{column:A},v)}function handleHeaderClick(v){if(!columnResizeDragging){var w=$(v.target).closest(".slick-header-column",".slick-header-columns"),A=w&&w.data("column");A&&trigger(self.onHeaderClick,{column:A},v)}}function handleFooterContextMenu(v){var w=$(v.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),A=w&&w.data("column");trigger(self.onFooterContextMenu,{column:A},v)}function handleFooterClick(v){var w=$(v.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),A=w&&w.data("column");trigger(self.onFooterClick,{column:A},v)}function handleMouseEnter(v){trigger(self.onMouseEnter,{},v)}function handleMouseLeave(v){trigger(self.onMouseLeave,{},v)}function cellExists(v,w){return!(v<0||v>=getDataLength()||w<0||w>=columns.length)}function getCellFromPoint(v,w){for(var A=getRowFromPosition(w),I=0,F=0,L=0;L<columns.length&&F<v;L++)F+=columns[L].width,I++;return I<0&&(I=0),{row:A,cell:I-1}}function getCellFromNode(v){var w=/l\d+/.exec(v.className);if(!w)throw new Error("SlickGrid getCellFromNode: cannot get cell - "+v.className);return parseInt(w[0].substr(1,w[0].length-1),10)}function getRowFromNode(v){for(var w in rowsCache)for(var A in rowsCache[w].rowNode)if(rowsCache[w].rowNode[A]===v)return w?parseInt(w):0;return null}function getFrozenRowOffset(v){return hasFrozenRows?options.frozenBottom?v>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:v>=actualFrozenRow?frozenRowsHeight:0:0}function getCellFromEvent(v){var w,A,I=$(v.target).closest(".slick-cell",$canvas);if(!I.length)return null;if(w=getRowFromNode(I[0].parentNode),hasFrozenRows){var F=I.parents(".grid-canvas").offset(),L=0;I.parents(".grid-canvas-bottom").length&&(L=options.frozenBottom?$canvasTopL.height():frozenRowsHeight),w=getCellFromPoint(v.clientX-F.left,v.clientY-F.top+L+$(document).scrollTop()).row}return A=getCellFromNode(I[0]),null==w||null==A?null:{row:w,cell:A}}function getCellNodeBox(v,w){if(!cellExists(v,w))return null;for(var A=getFrozenRowOffset(v),I=getRowTop(v)-A,F=I+options.rowHeight-1,L=0,b=0;b<w;b++)L+=columns[b].width,options.frozenColumn==b&&(L=0);return{top:I,left:L,bottom:F,right:L+columns[w].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(v,w,A){if(scrollRowIntoView(v,A),!(w<=options.frozenColumn)){var I=getColspan(v,w);internalScrollColumnIntoView(columnPosLeft[w],columnPosRight[w+(I>1?I-1:0)])}}function internalScrollColumnIntoView(v,w){var A=scrollLeft+$viewportScrollContainerX.width()-(viewportHasVScroll?scrollbarDimensions.width:0);v<scrollLeft?($viewportScrollContainerX.scrollLeft(v),handleScroll(),render()):w>A&&($viewportScrollContainerX.scrollLeft(Math.min(v,w-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}function scrollColumnIntoView(v){internalScrollColumnIntoView(columnPosLeft[v],columnPosRight[v])}function setActiveCellInternal(v,w,A,I,F){if(null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&rowsCache[activeRow].rowNode.removeClass("active")),null!=(activeCellNode=v)){var b=$(activeCellNode),c=b.offset(),_=Math.floor(b.parents(".grid-canvas").offset().top),y=b.parents(".grid-canvas-bottom").length;hasFrozenRows&&y&&(_-=options.frozenBottom?$canvasTopL.height():frozenRowsHeight);var T=getCellFromPoint(c.left,Math.ceil(c.top)-_);activeRow=T.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode),null==w&&(w=activeRow==getDataLength()||options.autoEdit),options.showCellSelection&&(b.addClass("active"),rowsCache[activeRow]&&rowsCache[activeRow].rowNode.addClass("active")),options.editable&&w&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable(void 0,A,F)},options.asyncEditorLoadDelay):makeActiveCellEditable(void 0,A,F))}else activeRow=activeCell=null;I||trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}else if(window.getSelection){var v=window.getSelection();v&&v.removeAllRanges&&v.removeAllRanges()}}function isCellPotentiallyEditable(v,w){var A=getDataLength();return!(v<A&&!getDataItem(v)||columns[w].cannotTriggerInsert&&v>=A||!getEditor(v,w))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var v=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),v){var w=columns[activeCell];applyFormatResultToCellNode(getFormatter(activeRow,w)(activeRow,activeCell,getDataItemValueForColumn(v,w),w,v,self),activeCellNode),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(v,w,A){if(activeCellNode){if(!options.editable)throw new Error("SlickGrid makeActiveCellEditable : should never get called when options.editable is false");if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var I=columns[activeCell],F=getDataItem(activeRow);if(!1===trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:F,column:I,target:"grid"}))return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable");var L=v||getEditor(activeRow,activeCell);!v&&!L.suppressClearOnEdit&&(activeCellNode.innerHTML="");var b=data.getItemMetadata&&data.getItemMetadata(activeRow),c=(b=b&&b.columns)&&(b[I.id]||b[activeCell]);currentEditor=new L({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:I,columnMetaData:c,item:F||{},event:A,commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),F&&(currentEditor.loadValue(F),w&&currentEditor.preClick&&currentEditor.preClick()),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(v){var w={top:v.offsetTop,left:v.offsetLeft,bottom:0,right:0,width:$(v).outerWidth(),height:$(v).outerHeight(),visible:!0};w.bottom=w.top+w.height,w.right=w.left+w.width;for(var A=v.offsetParent;(v=v.parentNode)!=document.body&&null!=v;)w.visible&&v.scrollHeight!=v.offsetHeight&&"visible"!=$(v).css("overflowY")&&(w.visible=w.bottom>v.scrollTop&&w.top<v.scrollTop+v.clientHeight),w.visible&&v.scrollWidth!=v.offsetWidth&&"visible"!=$(v).css("overflowX")&&(w.visible=w.right>v.scrollLeft&&w.left<v.scrollLeft+v.clientWidth),w.left-=v.scrollLeft,w.top-=v.scrollTop,v===A&&(w.left+=v.offsetLeft,w.top+=v.offsetTop,A=v.offsetParent),w.bottom=w.top+w.height,w.right=w.left+w.width;return w}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var v=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(v.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(v)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function getTextSelection(){var v=null;if(window.getSelection){var w=window.getSelection();w.rangeCount>0&&(v=w.getRangeAt(0))}return v}function setTextSelection(v){if(window.getSelection&&v){var w=window.getSelection();w.removeAllRanges(),w.addRange(v)}}function scrollRowIntoView(v,w){if(!hasFrozenRows||!options.frozenBottom&&v>actualFrozenRow-1||options.frozenBottom&&v<actualFrozenRow-1){var A=$viewportScrollContainerY.height(),I=hasFrozenRows&&!options.frozenBottom?v-options.frozenRow:v,F=I*options.rowHeight,L=(I+1)*options.rowHeight-A+(viewportHasHScroll?scrollbarDimensions.height:0);(I+1)*options.rowHeight>scrollTop+A+offset?(scrollTo(w?F:L),render()):I*options.rowHeight<scrollTop+offset&&(scrollTo(w?L:F),render())}}function scrollRowToTop(v){scrollTo(v*options.rowHeight),render()}function scrollPage(v){var w=v*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop+options.rowHeight-1)+w)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var I=activeRow+w,F=getDataLengthIncludingAddNew();I>=F&&(I=F-1),I<0&&(I=0);for(var L=0,b=null,c=activePosX;L<=activePosX;)canCellBeActive(I,L)&&(b=L),L+=getColspan(I,L);null!==b?(setActiveCellInternal(getCellNode(I,b)),activePosX=c):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function navigateTop(){navigateToRow(0)}function navigateBottom(){navigateToRow(getDataLength()-1)}function navigateToRow(v){var w=getDataLength();if(!w)return!0;if(v<0?v=0:v>=w&&(v=w-1),scrollCellIntoView(v,0,!0),options.enableCellNavigation&&null!=activeRow){for(var A=0,I=null,F=activePosX;A<=activePosX;)canCellBeActive(v,A)&&(I=A),A+=getColspan(v,A);null!==I?(setActiveCellInternal(getCellNode(v,I)),activePosX=F):resetActiveCell()}return!0}function getColspan(v,w){var A=data.getItemMetadata&&data.getItemMetadata(v);if(!A||!A.columns)return 1;var I=A.columns[columns[w].id]||A.columns[w],F=I&&I.colspan;return"*"===F?columns.length-w:F||1}function findFirstFocusableCell(v){for(var w=0;w<columns.length;){if(canCellBeActive(v,w))return w;w+=getColspan(v,w)}return null}function findLastFocusableCell(v){for(var w=0,A=null;w<columns.length;)canCellBeActive(v,w)&&(A=w),w+=getColspan(v,w);return A}function gotoRight(v,w,A){if(w>=columns.length)return null;do{w+=getColspan(v,w)}while(w<columns.length&&!canCellBeActive(v,w));return w<columns.length?{row:v,cell:w,posX:w}:null}function gotoLeft(v,w,A){if(w<=0)return null;var I=findFirstFocusableCell(v);if(null===I||I>=w)return null;for(var L,F={row:v,cell:I,posX:I};;){if(!(L=gotoRight(F.row,F.cell,F.posX)))return null;if(L.cell>=w)return F;F=L}}function gotoDown(v,w,A){for(var I,F=getDataLengthIncludingAddNew();;){if(++v>=F)return null;for(I=w=0;w<=A;)I=w,w+=getColspan(v,w);if(canCellBeActive(v,I))return{row:v,cell:I,posX:A}}}function gotoUp(v,w,A){for(var I;;){if(--v<0)return null;for(I=w=0;w<=A;)I=w,w+=getColspan(v,w);if(canCellBeActive(v,I))return{row:v,cell:I,posX:A}}}function gotoNext(v,w,A){if(null==v&&null==w&&canCellBeActive(v=w=A=0,w))return{row:v,cell:w,posX:w};var I=gotoRight(v,w,A);if(I)return I;var F=null,L=getDataLengthIncludingAddNew();for(v===L-1&&v--;++v<L;)if(null!==(F=findFirstFocusableCell(v)))return{row:v,cell:F,posX:F};return null}function gotoPrev(v,w,A){if(null==v&&null==w&&canCellBeActive(v=getDataLengthIncludingAddNew()-1,w=A=columns.length-1))return{row:v,cell:w,posX:w};for(var I,F;!I&&!(I=gotoLeft(v,w,A));){if(--v<0)return null;w=0,null!==(F=findLastFocusableCell(v))&&(I={row:v,cell:F,posX:F})}return I}function gotoRowStart(v,w,A){var I=findFirstFocusableCell(v);return null===I?null:{row:v,cell:I,posX:I}}function gotoRowEnd(v,w,A){var I=findLastFocusableCell(v);return null===I?null:{row:v,cell:I,posX:I}}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigateRowStart(){return navigate("home")}function navigateRowEnd(){return navigate("end")}function navigate(v){if(!options.enableCellNavigation||!activeCellNode&&"prev"!=v&&"next"!=v)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus(),tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1}[v];var F=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext,home:gotoRowStart,end:gotoRowEnd}[v])(activeRow,activeCell,activePosX);if(F){if(hasFrozenRows&&options.frozenBottom&F.row==getDataLength())return;var L=F.row==getDataLength();return(!options.frozenBottom&&F.row>=actualFrozenRow||options.frozenBottom&&F.row<actualFrozenRow)&&scrollCellIntoView(F.row,F.cell,!L&&options.emulatePagingWhenScrolling),setActiveCellInternal(getCellNode(F.row,F.cell)),activePosX=F.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(v,w){if(rowsCache[v]){ensureCellNodesInRowsCache(v);try{return rowsCache[v].cellNodesByColumnIdx.length>w?rowsCache[v].cellNodesByColumnIdx[w][0]:null}catch{return rowsCache[v].cellNodesByColumnIdx[w]}}return null}function setActiveCell(v,w,A,I,F){!initialized||v>getDataLength()||v<0||w>=columns.length||w<0||!options.enableCellNavigation||(scrollCellIntoView(v,w,!1),setActiveCellInternal(getCellNode(v,w),A,I,F))}function setActiveRow(v,w,A){!initialized||v>getDataLength()||v<0||w>=columns.length||w<0||(activeRow=v,A||scrollCellIntoView(v,w||0,!1))}function canCellBeActive(v,w){if(!options.enableCellNavigation||v>=getDataLengthIncludingAddNew()||v<0||w>=columns.length||w<0)return!1;var A=data.getItemMetadata&&data.getItemMetadata(v);if(A&&typeof A.focusable<"u")return!!A.focusable;var I=A&&A.columns;return I&&I[columns[w].id]&&typeof I[columns[w].id].focusable<"u"?!!I[columns[w].id].focusable:I&&I[w]&&typeof I[w].focusable<"u"?!!I[w].focusable:!!columns[w].focusable}function canCellBeSelected(v,w){if(v>=getDataLength()||v<0||w>=columns.length||w<0)return!1;var A=data.getItemMetadata&&data.getItemMetadata(v);if(A&&typeof A.selectable<"u")return!!A.selectable;var I=A&&A.columns&&(A.columns[columns[w].id]||A.columns[w]);return I&&typeof I.selectable<"u"?!!I.selectable:!!columns[w].selectable}function gotoCell(v,w,A,I){if(initialized&&canCellBeActive(v,w)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(v,w,!1);var F=getCellNode(v,w),L=columns[w],b=!!(options.editable&&L&&L.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(F,A||v===getDataLength()||options.autoEdit,null,b,I),currentEditor||setFocus()}}function commitCurrentEdit(){var v=getDataItem(activeRow),w=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var A=currentEditor.validate();if(A.valid){if(activeRow<getDataLength()){var I={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(v,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{command:"execute",row:this.row,cell:this.cell,item:v,column:w})},undo:function(){this.editor.applyValue(v,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{command:"undo",row:this.row,cell:this.cell,item:v,column:w})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(v,w,I)):(I.execute(),makeActiveCellNormal())}else{var F={};currentEditor.applyValue(F,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:F,column:w})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:A,row:activeRow,cell:activeCell,column:w}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(v){for(var w=[],A=columns.length-1,I=0;I<v.length;I++)w.push(new Slick.Range(v[I],0,v[I],A));return w}function getSelectedRows(){if(!selectionModel)throw new Error("SlickGrid Selection model is not set");return selectedRows.slice(0)}function setSelectedRows(v,w){if(!selectionModel)throw new Error("SlickGrid Selection model is not set");self&&self.getEditorLock&&!self.getEditorLock().isActive()&&selectionModel.setSelectedRanges(rowsToRanges(v),w||"SlickGrid.setSelectedRows")}var logMessageCount=0,logMessageMaxCount=30;function sanitizeHtmlString(v,w){if(!options.sanitizer||"string"!=typeof v)return v;var A=options.sanitizer(v);return!w&&options.logSanitizedHtml&&logMessageCount<=logMessageMaxCount&&A!==v&&(console.log("sanitizer altered html: "+v+" --\x3e "+A),logMessageCount===logMessageMaxCount&&console.log("sanitizer: silencing messages after first "+logMessageMaxCount),logMessageCount++),A}this.debug=function(){var v="";v+="\ncounter_rows_rendered:  "+counter_rows_rendered,v+="\ncounter_rows_removed:  "+counter_rows_removed,v+="\nrenderedRows:  "+renderedRows,v+="\nnumVisibleRows:  "+numVisibleRows,v+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,v+="\nn(umber of pages):  "+n,v+="\n(current) page:  "+page,v+="\npage height (ph):  "+ph,v+="\nvScrollDir:  "+vScrollDir,alert(v)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.4.45",onScroll:new Slick.Event,onBeforeSort:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderRowMouseEnter:new Slick.Event,onHeaderRowMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onFooterContextMenu:new Slick.Event,onFooterClick:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onBeforeAppendCell:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsDrag:new Slick.Event,onColumnsResized:new Slick.Event,onColumnsResizeDblClick:new Slick.Event,onBeforeColumnsResize:new Slick.Event,onCellChange:new Slick.Event,onCompositeEditorChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,onAutosizeColumns:new Slick.Event,onBeforeSetColumns:new Slick.Event,onRendered:new Slick.Event,onSetOptions:new Slick.Event,registerPlugin,unregisterPlugin,getPluginByName,getColumns,setColumns,getColumnIndex,updateColumnHeader,setSortColumn,setSortColumns,getSortColumns,autosizeColumns,autosizeColumn,getOptions,setOptions,getData,getDataLength,getDataItem,setData,getSelectionModel,setSelectionModel,getSelectedRows,setSelectedRows,getContainerNode,updatePagingStatusFromView,applyFormatResultToCellNode,render,reRenderColumns,invalidate,invalidateRow,invalidateRows,invalidateAllRows,updateCell,updateRow,getViewport:getVisibleRange,getRenderedRange,resizeCanvas,updateRowCount,scrollRowIntoView,scrollRowToTop,scrollCellIntoView,scrollColumnIntoView,getCanvasNode,getUID,getHeaderColumnWidthDiff,getScrollbarDimensions,getHeadersWidth,getCanvasWidth,getCanvases,getActiveCanvasNode,setActiveCanvasNode,getViewportNode,getViewports,getActiveViewportNode,setActiveViewportNode,focus:setFocus,scrollTo,cacheCssForHiddenInit,restoreCssFromHiddenInit,getCellFromPoint,getCellFromEvent,getActiveCell,setActiveCell,setActiveRow,getActiveCellNode,getActiveCellPosition,resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor,getCellNode,getCellNodeBox,canCellBeSelected,canCellBeActive,navigatePrev,navigateNext,navigateUp,navigateDown,navigateLeft,navigateRight,navigatePageUp,navigatePageDown,navigateTop,navigateBottom,navigateRowStart,navigateRowEnd,gotoCell,getTopPanel,setTopPanelVisibility,getPreHeaderPanel,getPreHeaderPanelLeft:getPreHeaderPanel,getPreHeaderPanelRight,setPreHeaderPanelVisibility,getHeader,getHeaderColumn,setHeaderRowVisibility,getHeaderRow,getHeaderRowColumn,setFooterRowVisibility,getFooterRow,getFooterRowColumn,getGridPosition,flashCell,addCellCssStyles,setCellCssStyles,removeCellCssStyles,getCellCssStyles,getFrozenRowOffset,setColumnHeaderVisibility,sanitizeHtmlString,getDisplayedScrollbarDimensions,getAbsoluteColumnMinWidth,init:finishInitialization,destroy,getEditorLock,getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}})})(jQuery)},1748:(v,w,A)=>{var I={"./locale":1184,"./locale.js":1184};function F(b){var c=L(b);return A(c)}function L(b){if(!A.o(I,b)){var c=new Error("Cannot find module '"+b+"'");throw c.code="MODULE_NOT_FOUND",c}return I[b]}F.keys=function(){return Object.keys(I)},F.resolve=L,v.exports=F,F.id=1748}},v=>{v(v.s=7339)}]);